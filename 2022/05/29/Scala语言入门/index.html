

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon_yt.png">
  <link rel="icon" href="/img/favicon_yt.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Echo Yu">
  <meta name="keywords" content="ML">
  
    <meta name="description" content="Scalaè¯­è¨€å…¥é—¨Scalaï¼ˆå‘éŸ³ä¸º&#x2F;ËˆskÉ‘ËlÉ™, ËˆskeÉªlÉ™&#x2F;ï¼‰æ˜¯ä¸€é—¨å¤šèŒƒå¼çš„ç¼–ç¨‹è¯­è¨€ï¼Œè®¾è®¡åˆè¡·æ˜¯è¦é›†æˆé¢å‘å¯¹è±¡ç¼–ç¨‹å’Œå‡½æ•°å¼ç¼–ç¨‹çš„å„ç§ç‰¹æ€§ã€‚æ´›æ¡‘è”é‚¦ç†å·¥å­¦é™¢çš„Martin Oderskyäº2001å¹´åŸºäºFunnelçš„å·¥ä½œå¼€å§‹è®¾è®¡Scalaã€‚Javaå¹³å°çš„Scalaäº2003å¹´åº•&#x2F;2004å¹´åˆå‘å¸ƒã€‚ ç‰¹ç‚¹ï¼š  åŒæ ·è¿è¡Œåœ¨JVMä¸Šï¼Œå¯ä»¥ä¸ç°å­˜ç¨‹åºåŒæ—¶è¿è¡Œã€‚ å¯ç›´">
<meta property="og:type" content="article">
<meta property="og:title" content="Scalaè¯­è¨€å…¥é—¨">
<meta property="og:url" content="http://yuting0907.github.io/2022/05/29/Scala%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="YUTING">
<meta property="og:description" content="Scalaè¯­è¨€å…¥é—¨Scalaï¼ˆå‘éŸ³ä¸º&#x2F;ËˆskÉ‘ËlÉ™, ËˆskeÉªlÉ™&#x2F;ï¼‰æ˜¯ä¸€é—¨å¤šèŒƒå¼çš„ç¼–ç¨‹è¯­è¨€ï¼Œè®¾è®¡åˆè¡·æ˜¯è¦é›†æˆé¢å‘å¯¹è±¡ç¼–ç¨‹å’Œå‡½æ•°å¼ç¼–ç¨‹çš„å„ç§ç‰¹æ€§ã€‚æ´›æ¡‘è”é‚¦ç†å·¥å­¦é™¢çš„Martin Oderskyäº2001å¹´åŸºäºFunnelçš„å·¥ä½œå¼€å§‹è®¾è®¡Scalaã€‚Javaå¹³å°çš„Scalaäº2003å¹´åº•&#x2F;2004å¹´åˆå‘å¸ƒã€‚ ç‰¹ç‚¹ï¼š  åŒæ ·è¿è¡Œåœ¨JVMä¸Šï¼Œå¯ä»¥ä¸ç°å­˜ç¨‹åºåŒæ—¶è¿è¡Œã€‚ å¯ç›´">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/YUTING0907/PicGo/main/imgScala_implicit_datatype_cast.jpeg">
<meta property="og:image" content="https://github.com/tch0/notes/raw/master/Images/Scala_immutable_collections_tree.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/YUTING0907/PicGo/main/imgScala_mutable_collections_tree.jpeg">
<meta property="og:image" content="https://raw.githubusercontent.com/YUTING0907/PicGo/main/imgScala_sbt_dsl_setting_expression.png">
<meta property="article:published_time" content="2022-05-29T03:14:24.000Z">
<meta property="article:modified_time" content="2024-12-19T02:17:19.836Z">
<meta property="article:author" content="Echo Yu">
<meta property="article:tag" content="Scala">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://raw.githubusercontent.com/YUTING0907/PicGo/main/imgScala_implicit_datatype_cast.jpeg">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Scalaè¯­è¨€å…¥é—¨ - YUTING</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/reward.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"yuting0907.github.io","root":"/","version":"1.9.0","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>EchoYu&#39;s blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Scalaè¯­è¨€å…¥é—¨"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Echo Yu
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-05-29 11:14" pubdate>
          2022å¹´5æœˆ29æ—¥ ä¸Šåˆ
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          76k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          638 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Scalaè¯­è¨€å…¥é—¨</h1>
            
            <div class="markdown-body">
              
              <div id="readmore-container"><h1 id="Scalaè¯­è¨€å…¥é—¨"><a href="#Scalaè¯­è¨€å…¥é—¨" class="headerlink" title="Scalaè¯­è¨€å…¥é—¨"></a>Scalaè¯­è¨€å…¥é—¨</h1><p>Scalaï¼ˆå‘éŸ³ä¸º&#x2F;ËˆskÉ‘ËlÉ™, ËˆskeÉªlÉ™&#x2F;ï¼‰æ˜¯ä¸€é—¨å¤šèŒƒå¼çš„ç¼–ç¨‹è¯­è¨€ï¼Œè®¾è®¡åˆè¡·æ˜¯è¦é›†æˆé¢å‘å¯¹è±¡ç¼–ç¨‹å’Œå‡½æ•°å¼ç¼–ç¨‹çš„å„ç§ç‰¹æ€§ã€‚æ´›æ¡‘è”é‚¦ç†å·¥å­¦é™¢çš„Martin Oderskyäº2001å¹´åŸºäºFunnelçš„å·¥ä½œå¼€å§‹è®¾è®¡Scalaã€‚Javaå¹³å°çš„Scalaäº2003å¹´åº•&#x2F;2004å¹´åˆå‘å¸ƒã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>åŒæ ·è¿è¡Œåœ¨JVMä¸Šï¼Œå¯ä»¥ä¸ç°å­˜ç¨‹åºåŒæ—¶è¿è¡Œã€‚</li>
<li>å¯ç›´æ¥ä½¿ç”¨Javaç±»åº“ã€‚</li>
<li>åŒJavaä¸€æ ·é™æ€ç±»å‹ã€‚</li>
<li>è¯­æ³•å’ŒJavaç±»ä¼¼ï¼Œæ¯”Javaæ›´åŠ ç®€æ´ï¼ˆç®€æ´è€Œå¹¶ä¸æ˜¯ç®€å•ï¼‰ï¼Œè¡¨è¾¾æ€§æ›´å¼ºã€‚</li>
<li>åŒæ—¶æ”¯æŒé¢å‘å¯¹è±¡ã€å‡½æ•°å¼ç¼–ç¨‹ã€‚</li>
<li>æ¯”Javaæ›´é¢å‘å¯¹è±¡ã€‚</li>
</ul>
<p>å…³æ³¨ç‚¹ï¼š</p>
<ul>
<li>ç±»å‹æ¨æ–­ã€ä¸å˜é‡ã€å‡½æ•°å¼ç¼–ç¨‹ã€é«˜çº§ç¨‹åºæ„é€ ã€‚</li>
<li>å¹¶å‘ï¼šactoræ¨¡å‹ã€‚</li>
<li>å’Œç°æœ‰Javaä»£ç äº¤äº’ã€ç›¸æ¯”Javaå¼‚åŒå’Œä¼˜ç¼ºã€‚</li>
</ul>
<p>å’ŒJavaå…³ç³»ï¼š</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">        javac               java<br><span class="hljs-string">.java</span> <span class="hljs-params">--------</span>&gt; <span class="hljs-string">.class</span> <span class="hljs-params">----------</span>&gt; run on JVM<br><span class="hljs-string">.scala</span> <span class="hljs-params">-------</span>&gt; <span class="hljs-string">.class</span> <span class="hljs-params">----------</span>&gt; run on JVM<br>        scalac              scala<br></code></pre></td></tr></table></figure>

<p>æµ‹è¯•ä»£ç ï¼š<a target="_blank" rel="noopener" href="https://github.com/tch0/notes/tree/Scala">Scalaåˆ†æ”¯</a> </p>
<p>ç­‰å¾…æ›¿æ¢repoï¼Œè¿˜æ²¡æ‰‹æ•²</p>
<p>é˜…è¯»ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Xh411S7bP">å°šç¡…è°·å¤§æ•°æ®æŠ€æœ¯ä¹‹Scalaå…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹</a>ï¼ˆæœ¬æ–‡å‚è€ƒï¼‰</li>
<li><a target="_blank" rel="noopener" href="https://docs.scala-lang.org/zh-cn/cheatsheets/index.html">Scalaå®˜ç½‘è¯­æ³•é€ŸæŸ¥</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.scala-lang.org/zh-cn/tour/tour-of-scala.html">Scalaå®˜æ–¹æ–‡æ¡£ Tour Of Scala</a></li>
</ul>
<h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><p>Scalaéœ€è¦ä¾èµ–Javaï¼Œè®¿é—®<a target="_blank" rel="noopener" href="https://docs.scala-lang.org/overviews/jdk-compatibility/overview.html">è¿™é‡Œ</a>æŸ¥çœ‹ç‰¹å®šScalaç‰ˆæœ¬ä¾èµ–çš„Javaç‰ˆæœ¬ã€‚è¿™é‡Œé€‰æ‹©ï¼Œæœ€æ–°çš„JDK17é…åˆScala2.13.6ã€‚</p>
<p>Windowsä¸­ä¸‹è½½å®‰è£…é…ç½®ç¯å¢ƒå˜é‡ï¼š</p>
<ul>
<li>ç±»ä¼¼äºjavaé…ç½®<code>SCALA_HOME</code>ä¸ºå®‰è£…ç›®å½•ã€‚</li>
<li>æ·»åŠ <code>%SCALA_HOME%\bin</code>åˆ°pathç¯å¢ƒå˜é‡ã€‚</li>
</ul>
<p>Linuxä¸­ç±»ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨åŒ…ç®¡ç†å™¨ï¼Œä½†å¦‚æœä¾èµ–ç‰ˆæœ¬ä¸ä¸¥æ ¼ä¸€è‡´çš„è¯ï¼Œéœ€è¦å®˜ç½‘ä¸‹è½½å¯¹åº”ç‰ˆæœ¬å®‰è£…å³å¯ã€‚</p>
<p>ä¹Ÿæœ‰äº¤äº’å¼æ‰§è¡Œç¯å¢ƒï¼š</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">scala</span><br></code></pre></td></tr></table></figure>

<p>äº¤äº’å¼æ‰§è¡Œç¯å¢ƒä¸­çš„ä¼ ç»Ÿè‰ºèƒ½ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(<span class="hljs-string">&quot;hello,world!&quot;</span>)</span></span><br></code></pre></td></tr></table></figure>

<p>æš‚æ—¶ä¸ç®¡é¡¹ç›®é…ç½®ï¼Œè¿˜æ˜¯å•æ–‡ä»¶ç¼–è¯‘æ‰§è¡Œä¸ºä¸»ï¼Œé¡¹ç›®å¼€å‘è‚¯å®šè¦ä»¥åŒ…çš„å½¢å¼ç»„ç»‡å¯ä»¥ä½¿ç”¨IntelliJ IDEAå¼€å‘ï¼Œä½¿ç”¨mavenæˆ–è€…sbtè¿›è¡Œé¡¹ç›®é…ç½®ã€‚</p>
<p>ä½¿ç”¨VSCodeç¼–è¾‘å™¨ï¼Œå®‰è£…æ’ä»¶Scala Syntax (official)å’ŒScala (Mentals)ã€‚</p>
<p>æ–°å»ºæ–‡ä»¶<code>HelloScala.scala</code>ã€‚</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">object</span> HelloScala &#123; // HelloScala is <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">object</span>, not <span class="hljs-selector-tag">a</span> class, will create <span class="hljs-selector-tag">a</span> <br>    def <span class="hljs-selector-tag">main</span>(args : Array[String]) : Unit = &#123;<br>        println(&quot;hello,world!&quot;);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨æ’ä»¶CodeRunnerç›´æ¥å¿«æ·é”®è¿è¡Œã€‚ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œç¼–è¯‘ä¸ºå­—èŠ‚ç åå†è¿è¡Œï¼š</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">scalac </span>HelloScala.<span class="hljs-keyword">scala</span><br><span class="hljs-keyword"></span><span class="hljs-keyword">scala </span>helloScala<br></code></pre></td></tr></table></figure>

<p>æˆ–è€…ç›´æ¥è¿è¡Œscalaæºæ–‡ä»¶ï¼š</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">scala</span> HelloScala.<span class="hljs-keyword">scala</span><br></code></pre></td></tr></table></figure>

<p>å’Œjavaå¦‚å‡ºä¸€è¾™ã€‚</p>
<p>å¦‚æœç¼–è¯‘çš„è¯ä¼šç”Ÿæˆ2ä¸ª<code>.class</code>å­—èŠ‚ç æ–‡ä»¶ï¼Œ<code>HelloScala.class</code>å’Œ<code>HelloScala$.class</code>ã€‚éƒ½æ˜¯å­—èŠ‚ç ä½†æ˜¯ä¸èƒ½é€šè¿‡<code>java</code>ç›´æ¥è¿è¡Œã€‚ä½†å¯¹äºHelloWorldè¿™ä¸ªä¾‹å­æ¥è¯´ï¼Œjavaæºä»£ç ç¼–è¯‘è€Œæˆçš„å­—èŠ‚ç æ˜¯å¯ä»¥é€šè¿‡<code>scala</code>å‘½ä»¤è¿è¡Œçš„ã€‚</p>
<p>åŸå› æ˜¯æ²¡æœ‰å¼•å…¥Scalaçš„åº“ï¼Œæ·»åŠ <code>classpath</code>å°±å¯ä»¥é€šè¿‡javaæ‰§è¡Œscalaç¼–è¯‘æˆçš„å­—èŠ‚ç äº†ï¼š</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">java -cp %SCALA_HOME%<span class="hljs-regexp">/lib/</span>scala-library.jar; HelloScala<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨<a target="_blank" rel="noopener" href="http://java-decompiler.github.io/">Java Decompiler</a>åç¼–è¯‘å­—èŠ‚ç åˆ°javaæºæ–‡ä»¶å¯ä»¥çœ‹åˆ°å¼•å…¥Scalaåº“çš„é€»è¾‘ã€‚å¹¶ä¸”ï¼š</p>
<ul>
<li>scalaæºæ–‡ä»¶ä¸­çš„<code>HelloScala</code>å¯¹è±¡ç¼–è¯‘åæˆä¸ºäº†ä¸€ä¸ªç±»ï¼Œä½†å¯¹è±¡æœ¬èº«ç¼–è¯‘åå°±æ˜¯ç”Ÿæˆçš„å¦ä¸€ä¸ªç±»<code>HelloScala$</code>ç±»çš„å•ä¾‹å¯¹è±¡<code>HelloScala$.MODULE$</code>ï¼Œç§°ä¹‹ä¸ºä¼´ç”Ÿå¯¹è±¡ã€‚</li>
<li><code>HelloScala$</code>æœ‰ä¸€ä¸ª<code>main</code>å®ä¾‹æ–¹æ³•ï¼Œ<code>HelloScala</code>ç±»çš„é™æ€æ–¹æ³•é€šè¿‡è¿™ä¸ªå•ä¾‹å¯¹è±¡è½¬è°ƒè¿™ä¸ªå®ä¾‹æ–¹æ³•ã€‚å®Œæˆæ‰“å°ã€‚</li>
<li>Scalaæ¯”Javaæ›´é¢å‘å¯¹è±¡ã€‚</li>
</ul>
<h2 id="IDEAç¯å¢ƒé…ç½®"><a href="#IDEAç¯å¢ƒé…ç½®" class="headerlink" title="IDEAç¯å¢ƒé…ç½®"></a>IDEAç¯å¢ƒé…ç½®</h2><p>ä½¿ç”¨IntelliJ IDEAï¼š</p>
<ul>
<li><p>åˆ›å»ºMavené¡¹ç›®ï¼ŒJDKç‰ˆæœ¬17ã€‚</p>
</li>
<li><p>å®‰è£…æ’ä»¶ï¼šScalaã€‚åœ¨IDEAé‡ŒPreferences&#x2F;Pluginså®‰è£…scalaæ’ä»¶ï¼Œåœ¨çº¿ä¸‹è½½æ…¢çš„è¯ï¼Œå¯ä»¥å»jerkinså®˜ç½‘ä¸‹è½½æ’ä»¶åˆ°æœ¬åœ°ç„¶åfrom diskå®‰è£… ã€‚</p>
</li>
<li><p>Mavené¡¹ç›®é»˜è®¤ç”¨Javaå†™ï¼Œåœ¨<code>main/</code>ç›®å½•ä¸‹æ–°å»ºç›®å½•<code>scala/</code>ï¼Œæ–‡ä»¶å¤¹ä¸Šå³å‡»Mark directory as, ç„¶åå°†ç›®å½•æ ‡è®°ä¸ºSource Rootã€‚</p>
</li>
<li><p>è¿™æ ·ç”šè‡³å¯ä»¥åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­æ··ç”¨Scalaå’ŒJavaæºæ–‡ä»¶ï¼Œå¹¶äº’ç›¸è°ƒç”¨ã€‚</p>
</li>
<li><p>éœ€è¦èƒ½å¤Ÿæ·»åŠ scalaæºæ–‡ä»¶ï¼Œå³é”®é¡¹ç›®ï¼Œæ·»åŠ æ¡†æ¶æ”¯æŒ(Add Framworks Support)ï¼Œé…ç½®Scala SDKï¼Œé€‰æ‹©ï¼Œç„¶åå°±å¯ä»¥å³é”®æ·»åŠ Scalaæºæ–‡ä»¶äº†ã€‚</p>
<p>âš ï¸æ³¨æ„ï¼šåˆ°è¿™é‡Œå¦‚æœnewæ–‡ä»¶è¿˜æ²¡å‡ºç°scala class</p>
<p>ğŸ¬å°è¯•è§£å†³æ–¹æ¡ˆï¼š</p>
<p>  åœ¨é¡¹ç›®çš„ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°.ideaæ–‡ä»¶ä¸‹ï¼Œå†ä»é‡Œé¢æ‰¾åˆ°modulesæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸ªä»¥.imlä¸ºåç¼€çš„æ–‡ä»¶ï¼Œæ‰“å¼€å®ƒï¼Œæ–°å¢ä¸‹é¢è¿™æ®µä»£ç </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml">æ–°å¢ä¸‹é¢è¿™æ®µä»£ç ï¼ŒnameæŒ‡çš„æ˜¯ä½ è‡ªå·±å®‰è£…çš„scalaç‰ˆæœ¬ï¼Œæœ€åä½ å†å³é”®çš„æ—¶å€™å¯ä»¥å‘ç°èƒ½newå‡ºæ¥ä¸€ä¸ªScalaæ–‡ä»¶å•¦<br><span class="hljs-tag">&lt;<span class="hljs-name">orderEntry</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;library&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;scala-sdk-2.13.0&quot;</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;application&quot;</span> /&gt;</span><br><br>ä»¥ä¸‹æ˜¯æ•´ä¸ª.imlä¸ºåç¼€æ–‡ä»¶çš„å‚è€ƒæ¡ˆä¾‹ï¼š<br><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">module</span> <span class="hljs-attr">org.jetbrains.idea.maven.project.MavenProjectsManager.isMavenModule</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JAVA_MODULE&quot;</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;NewModuleRootManager&quot;</span> <span class="hljs-attr">LANGUAGE_LEVEL</span>=<span class="hljs-string">&quot;JDK_1_5&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">output</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;file://$MODULE_DIR$/target/classes&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">output-test</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;file://$MODULE_DIR$/target/test-classes&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">content</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;file://$MODULE_DIR$&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">sourceFolder</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;file://$MODULE_DIR$/src/main/java&quot;</span> <span class="hljs-attr">isTestSource</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">sourceFolder</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;file://$MODULE_DIR$/src/main/resources&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;java-resource&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">sourceFolder</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;file://$MODULE_DIR$/src/main/scala&quot;</span> <span class="hljs-attr">isTestSource</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">sourceFolder</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;file://$MODULE_DIR$/src/test/java&quot;</span> <span class="hljs-attr">isTestSource</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">excludeFolder</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;file://$MODULE_DIR$/target&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">content</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">orderEntry</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;jdk&quot;</span> <span class="hljs-attr">jdkName</span>=<span class="hljs-string">&quot;1.8&quot;</span> <span class="hljs-attr">jdkType</span>=<span class="hljs-string">&quot;JavaSDK&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">orderEntry</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;sourceFolder&quot;</span> <span class="hljs-attr">forTests</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">orderEntry</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;library&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;scala-sdk-2.12.10&quot;</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;application&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ åŒ…ï¼Œæ·»åŠ Scalaç±»ï¼Œé€‰æ‹©å¯¹è±¡ï¼Œç¼–è¾‘æºç ã€‚</p>
</li>
</ul>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs processing"><span class="hljs-keyword">package</span> VeryStarted<br><br>object HelloWorld &#123;<br>  def <span class="hljs-title function_">main</span>(args: <span class="hljs-built_in">Array</span>[<span class="hljs-built_in">String</span>]): Unit= &#123;<br>    <span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;Hello,world!&quot;</span>)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Ctrl + Shift + F10è¿è¡Œã€‚</li>
<li>å¯ä»¥çœ‹åˆ°æ‰§è¡Œçš„å‘½ä»¤æ˜¯<code>java</code>åœ¨<code>classpath</code>ä¸­å¼•å…¥äº†Scalaçš„<code>jar</code>åŒ…å½¢å¼çš„åº“ã€‚</li>
<li>è°ƒç”¨javaçš„ç±»åº“ï¼š</li>
</ul>
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sas">package VeryStarted<br><br>object HelloWorld &#123;<br>  def mai<span class="hljs-meta">n</span>(args: <span class="hljs-keyword">Array</span>[String]): Unit= &#123;<br>    printl<span class="hljs-meta">n</span>(<span class="hljs-string">&quot;Hello,world!&quot;</span>)<br>    System.<span class="hljs-keyword">out</span>.printl<span class="hljs-meta">n</span>(<span class="hljs-string">&quot;Hello,world! from java&quot;</span>)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¯­æ³•å«ä¹‰ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">object</span> SingletonObject &#123; <span class="hljs-selector-tag">body</span> &#125;<br>def MethodName(ArgName: ArgType): RetType = &#123; <span class="hljs-selector-tag">body</span> &#125;<br></code></pre></td></tr></table></figure>

<p><code>object</code>å…³é”®å­—åˆ›å»ºçš„ä¼´ç”Ÿå¯¹è±¡ï¼Œå¯ä»¥ç†è§£ä¸ºæ›¿ä»£Javaçš„<code>static</code>å…³é”®å­—çš„æ–¹å¼ï¼Œå°†é™æ€æ–¹æ³•ç”¨å•ä¾‹å¯¹è±¡çš„å®ä¾‹æ–¹æ³•åšäº†æ›¿ä»£ï¼Œåšåˆ°äº†æ›´çº¯ç²¹çš„é¢å‘å¯¹è±¡ã€‚</p>
<p>ä»…ä»…æµ‹è¯•ç†è§£è¯­æ³•æ—¢å¯ä»¥å•æ–‡ä»¶ç¼–å†™VSCodeç¼–è¯‘æ‰§è¡Œä¹Ÿå¯ä»¥ç”¨IDEAç®¡ç†é¡¹ç›®ï¼Œå½±å“ä¸å¤§ã€‚</p>
<p>å†ç”¨ä¸€ä¸ªç­‰ä»·çš„ç±»å®šä¹‰æ¥è®¤è¯†å’ŒåŒºåˆ«ä¸€ä¸‹Scalaå’ŒJavaï¼š</p>
<p>java:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Integer</span> age;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-title class_">String</span> school = <span class="hljs-string">&quot;XDU&quot;</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Student</span>(<span class="hljs-title class_">String</span> name, <span class="hljs-title class_">Integer</span> age) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">printInfo</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&quot; &quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> + <span class="hljs-string">&quot; &quot;</span> + <span class="hljs-title class_">Student</span>.<span class="hljs-property">school</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// psvm</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) &#123;<br>        <span class="hljs-title class_">Student</span> tch = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;tch&quot;</span>, <span class="hljs-number">20</span>);<br>        tch.<span class="hljs-title function_">printInfo</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>scala:</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">package VeryStarted<br><br><span class="hljs-keyword">class</span> <span class="hljs-constructor">Student(<span class="hljs-params">name</span>: String, <span class="hljs-params">age</span>: Int)</span> &#123;<br>  def print<span class="hljs-constructor">Info()</span>: Unit = &#123;<br>    println(name + <span class="hljs-string">&quot; &quot;</span> + age + <span class="hljs-string">&quot; &quot;</span> + <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Student</span>.</span></span>school)<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// å¼•å…¥ä¼´ç”Ÿå¯¹è±¡ï¼Œåç§°ä¸€è‡´ï¼ŒåŒä¸€ä¸ªæ–‡ä»¶</span><br><span class="hljs-keyword">object</span> Student &#123;<br>  <span class="hljs-keyword">val</span> school: String = <span class="hljs-string">&quot;XDU&quot;</span><br><br>  def main(args: Array<span class="hljs-literal">[S<span class="hljs-identifier">tring</span>]</span>): Unit = &#123;<br>    <span class="hljs-keyword">val</span> tch = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Student(<span class="hljs-string">&quot;tch&quot;</span>, 20)</span><br>    tch.print<span class="hljs-constructor">Info()</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Scalaåº“æºç ä¸APIæ–‡æ¡£ï¼š</p>
<ul>
<li>å®˜ç½‘ä¸Šä¸‹è½½ä¸‹è½½Scalaæºç ï¼Œè§£å‹åˆ°Scalaå®‰è£…ç›®å½•æˆ–ä»»æ„ä½ç½®ã€‚</li>
<li>IntelliJ IDEAè¿›å…¥åç¼–è¯‘çš„æºç åé€‰æ‹©å³ä¸Šè§’é™„åŠ æºç ï¼Œé€‰æ‹©æºç çš„<code>src/</code>ç›®å½•ã€‚</li>
<li>å®‰è£…åŒ…é‡Œé¢å·²ç»æœ‰äº†æ–‡æ¡£ï¼Œæ²¡æœ‰çš„è¯å¯ä»¥å•ç‹¬ä¸‹è½½ã€‚</li>
<li>Scalaä¾èµ–Javaï¼ŒæŸäº›ç±»å‹å°±æ˜¯Javaçš„åŒ…è£…ï¼Œåº“ä¸­æœ‰ä¸€éƒ¨åˆ†javaæºç ã€‚</li>
</ul>
<h2 id="å˜é‡ä¸æ•°æ®ç±»å‹"><a href="#å˜é‡ä¸æ•°æ®ç±»å‹" class="headerlink" title="å˜é‡ä¸æ•°æ®ç±»å‹"></a>å˜é‡ä¸æ•°æ®ç±»å‹</h2><p>æ³¨é‡Šï¼š</p>
<ul>
<li>å’Œjavaä¸€æ ·</li>
<li><code>//</code> å•è¡Œ</li>
<li><code>/* */</code> å¤šè¡Œ</li>
<li><code>/** */</code> æ–‡æ¡£ï¼Œæ–¹æ³•æˆ–è€…ç±»å‰é¢ï¼Œä¾¿äº<code>scaladoc</code>ç”Ÿæˆæ–‡æ¡£ã€‚</li>
</ul>
<p>å˜é‡å’Œå¸¸é‡ï¼š</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs delphi"><span class="hljs-keyword">var</span> <span class="hljs-keyword">name</span> [:VariableType] = value <span class="hljs-comment">// variable</span><br>val <span class="hljs-keyword">name</span> [:ConstantType] = value <span class="hljs-comment">// constant</span><br></code></pre></td></tr></table></figure>

<p>å› ä¸ºScalaçš„å‡½æ•°å¼ç¼–ç¨‹è¦ç´ ï¼Œæ‰€ä»¥ä¸€ä¸ªæŒ‡å¯¼æ„è§å°±æ˜¯èƒ½ç”¨å¸¸é‡å°±ä¸è¦ç”¨å˜é‡ã€‚</p>
<ul>
<li>å£°æ˜å˜é‡æ—¶ï¼Œç±»å‹å¯ä»¥çœç•¥ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ¨å¯¼ã€‚</li>
<li>é™æ€ç±»å‹ï¼Œç±»å‹ç»è¿‡ç»™å®šæˆ–æ¨å¯¼ç¡®å®šåå°±ä¸èƒ½ä¿®æ”¹ã€‚</li>
<li>å˜é‡å’Œå¸¸é‡å£°æ˜æ—¶ï¼Œå¿…é¡»æœ‰åˆå§‹å€¼ã€‚</li>
<li>å˜é‡å¯å˜ï¼Œå¸¸é‡ä¸å¯å˜ã€‚</li>
<li>å¼•ç”¨ç±»å‹å¸¸é‡ï¼Œä¸èƒ½æ”¹å˜å¸¸é‡æŒ‡å‘çš„å¯¹è±¡ï¼Œå¯ä»¥æ”¹å˜å¯¹è±¡çš„å­—æ®µã€‚</li>
<li>ä¸ä»¥<code>;</code>ä½œä¸ºè¯­å¥ç»“å°¾ï¼Œscalaç¼–è¯‘å™¨è‡ªåŠ¨è¯†åˆ«è¯­å¥ç»“å°¾ã€‚</li>
</ul>
<p>æ ‡è¯†ç¬¦å‘½åè§„èŒƒï¼š</p>
<ul>
<li>å­—æ¯ä¸‹åˆ’çº¿å¼€å¤´ï¼Œåè·Ÿå­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼Œå’ŒC&#x2F;C++&#x2F;Javaä¸€æ ·ã€‚</li>
<li>æ“ä½œç¬¦å¼€å¤´ï¼Œä¸”åªåŒ…å«(+-*&#x2F;#!ç­‰)ï¼Œä¹Ÿæ˜¯æœ‰æ•ˆçš„æ ‡è¯†ç¬¦ã€‚è¿™æ ·ç”¨ä¼šç”¨ä»€ä¹ˆå¥‡æ€ªçš„å¥½å¤„å—ï¼Ÿç­”æ¡ˆæ˜¯çµæ´»åˆ°å¤©é¡¶æ˜Ÿçš„è¿ç®—ç¬¦é‡è½½ã€‚</li>
<li>ç”¨åå¼•å·åŒ…æ‹¬çš„ä»»æ„å­—ç¬¦ä¸²ï¼Œå³ä½¿æ˜¯åŒ39ä¸ªScalaå…³é”®å­—åŒåä¹Ÿå¯ä»¥ã€‚æœ‰ç‚¹å¥‡æ€ªçš„ç”¨æ³•ï¼Œå°šä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">var</span> _abc:String = <span class="hljs-string">&quot;hello&quot;</span><br>val -+/%# = <span class="hljs-number">10</span><br>val <span class="hljs-string">`if`</span> = <span class="hljs-number">10</span><br><span class="hljs-built_in">println</span>(_abc)<br><span class="hljs-built_in">println</span>(-+/%#)<br><span class="hljs-built_in">println</span>(<span class="hljs-string">`if`</span>)<br></code></pre></td></tr></table></figure>

<p>å…³é”®å­—ï¼š</p>
<ul>
<li><code>package import class obejct trait extends with type for</code></li>
<li><code>private protected abstract sealed final implicit lazy override</code></li>
<li><code>try catch finlly throw</code></li>
<li><code>if else match case do while for return yield</code></li>
<li><code>def var val</code></li>
<li><code>this super</code></li>
<li><code>new</code></li>
<li><code>true false null</code></li>
<li>å…¶ä¸­Javaæ²¡æœ‰çš„å…³é”®å­—ï¼š<code>object trait with implicit match yield def val var</code></li>
</ul>
<p>å­—ç¬¦ä¸²ï¼š</p>
<ul>
<li>ç±»å‹ï¼š<code>String</code></li>
<li><code>+</code>å·è¿æ¥</li>
<li><code>*</code>å­—ç¬¦ä¸²ä¹˜æ³•ï¼Œå¤åˆ¶ä¸€ä¸ªå­—ç¬¦ä¸²å¤šæ¬¡</li>
<li><code>printf</code>æ ¼å¼åŒ–è¾“å‡º</li>
<li>å­—ç¬¦ä¸²æ’å€¼ï¼š<code>s&quot;xxx$&#123;varname&#125;&quot;</code>å‰ç¼€<code>s</code>æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œå‰ç¼€<code>f</code>æ ¼å¼åŒ–æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œé€šè¿‡<code>$</code>è·å–å˜é‡å€¼ï¼Œ<code>%</code>åè·Ÿæ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚</li>
<li>åŸå§‹å­—ç¬¦ä¸²ï¼š<code>raw&quot;rawstringcontents$&#123;var&#125;&quot;</code>ï¼Œä¸ä¼šè€ƒè™‘åè·Ÿçš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚</li>
<li>å¤šè¡Œå­—ç¬¦ä¸²ï¼š<code>&quot;&quot;&quot; &quot;&quot;&quot;</code>ã€‚</li>
<li>è¾“å‡ºï¼š<code>print printf println ...</code></li>
</ul>
<figure class="highlight pony"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs pony"><span class="hljs-meta">val</span> name: <span class="hljs-type">String</span> = <span class="hljs-string">&quot;Pyrrha&quot;</span> + <span class="hljs-string">&quot; &quot;</span> + <span class="hljs-string">&quot;Nikos&quot;</span><br><span class="hljs-meta">val</span> age = <span class="hljs-number">17</span><br>println((name + <span class="hljs-string">&quot; &quot;</span>) * <span class="hljs-number">3</span>)<br>printf(<span class="hljs-string">&quot;%s : dead in %d\n&quot;</span>, name, age)<br>print(s<span class="hljs-string">&quot;$name : dead in $&#123;age&#125;&quot;</span>)<br><span class="hljs-meta">val</span> power = <span class="hljs-number">98.9072</span><br>println(f<span class="hljs-string">&quot; : power $&#123;power&#125;%.2f.&quot;</span>)<br><br><span class="hljs-keyword">var</span> sql = s<span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    |Select *</span><br><span class="hljs-string">    |from </span><br><span class="hljs-string">    |   Student</span><br><span class="hljs-string">    |Where</span><br><span class="hljs-string">    |   name = $&#123;name&#125;</span><br><span class="hljs-string">    |and</span><br><span class="hljs-string">    |   age &gt;= $&#123;age&#125;</span><br><span class="hljs-string">&quot;&quot;&quot;</span>.stripMargin <span class="hljs-comment">// strip | and whitespaces before |</span><br>println(sql)<br></code></pre></td></tr></table></figure>

<p>è¾“å…¥ï¼š</p>
<ul>
<li><code>StdIn.readLine()</code></li>
<li><code>StdIn.readShort() StdIn.readDouble</code></li>
<li><code>import scala.io.StdIn</code></li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(<span class="hljs-string">&quot;input name:&quot;</span>)</span></span><br>val name: String = StdIn<span class="hljs-selector-class">.readLine</span>()<br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(<span class="hljs-string">&quot;input age:&quot;</span>)</span></span><br>val age:Int = StdIn<span class="hljs-selector-class">.readInt</span>()<br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(name + <span class="hljs-string">&quot; : &quot;</span> + age)</span></span><br></code></pre></td></tr></table></figure>

<p>è¯»å†™æ–‡ä»¶ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> scala.io.Source<br><span class="hljs-keyword">import</span> java.io.PrintWriter<br><span class="hljs-keyword">import</span> java.io.File<br><span class="hljs-keyword">object</span> FileIO &#123;<br>    def main(args: <span class="hljs-keyword">Array</span>[String]): Unit =&#123;<br>        // <span class="hljs-keyword">read</span> <span class="hljs-keyword">from</span> file<br>        Source.fromFile(&quot;FileIO.txt&quot;).<span class="hljs-keyword">foreach</span>(print)<br><br>        // <span class="hljs-keyword">write</span> <span class="hljs-keyword">to</span> file<br>        // <span class="hljs-keyword">call</span> java API <span class="hljs-keyword">to</span> <span class="hljs-keyword">write</span><br>        val writer = <span class="hljs-built_in">new</span> PrintWriter(<span class="hljs-built_in">new</span> File(&quot;WFile.txt&quot;))<br>        writer.<span class="hljs-keyword">write</span>(&quot;Nephren!&quot;)<br>        writer.<span class="hljs-keyword">close</span>()<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æ•°æ®ç±»å‹ï¼š</p>
<ul>
<li>javaåŸºæœ¬ç±»å‹<code>char byte short int long float double boolean</code>ã€‚</li>
<li>javaåŸºæœ¬ç±»å‹å¯¹åº”åŒ…è£…ç±»å‹ï¼š<code>Charater Byte Short Integer Long Float Double Boolean</code>ã€‚</li>
<li>javaä¸­ä¸æ˜¯çº¯ç²¹çš„é¢å‘å¯¹è±¡ã€‚</li>
<li>Scalaå¸å–äº†è¿™ä¸€ç‚¹ï¼Œæ‰€æœ‰æ•°æ®éƒ½æ˜¯å¯¹è±¡ï¼Œéƒ½æ˜¯<code>Any</code>çš„å­ç±»ã€‚</li>
<li><code>Any</code>æœ‰ä¸¤ä¸ªå­ç±»ï¼š<code>AnyVal</code>å€¼ç±»å‹ <code>AnyRef</code>å¼•ç”¨ç±»å‹ã€‚</li>
<li>æ•°å€¼ç±»å‹éƒ½æ˜¯<code>AnyVal</code>å­ç±»ï¼Œå’ŒJavaæ•°å€¼åŒ…è£…ç±»å‹éƒ½ä¸€æ ·ï¼Œåªæœ‰æ•´æ•°åœ¨scalaä¸­æ˜¯<code>Int</code>ã€å­—ç¬¦æ˜¯<code>Char</code>æœ‰ç‚¹åŒºåˆ«ã€‚</li>
<li><code>StringOps</code>æ˜¯javaä¸­<code>String</code>ç±»å¢å¼ºï¼Œ<code>AnyVal</code>å­ç±»ã€‚</li>
<li><code>Unit</code>å¯¹åº”javaä¸­çš„<code>void</code>ï¼Œ<code>AnyVal</code>å­ç±»ã€‚ç”¨äºæ–¹æ³•è¿”å›å€¼çš„ä½ç½®ï¼Œè¡¨ç¤ºæ–¹æ³•æ— è¿”å›å€¼ï¼Œ<code>Unit</code>æ˜¯ä¸€ä¸ªç±»å‹ï¼Œåªæœ‰ä¸€ä¸ªå•ä¾‹çš„å¯¹è±¡ï¼Œè½¬æˆå­—ç¬¦ä¸²æ‰“å°å‡ºæ¥ä¸º<code>()</code>ã€‚</li>
<li><code>Void</code>ä¸æ˜¯æ•°æ®ç±»å‹ï¼Œåªæ˜¯ä¸€ä¸ªå…³é”®å­—ã€‚</li>
<li><code>Null</code>æ˜¯ä¸€ä¸ªç±»å‹ï¼Œåªæœ‰ä¸€ä¸ªå•ä¾‹å¯¹è±¡<code>null</code>å°±æ˜¯ç©ºå¼•ç”¨ï¼Œæ‰€æœ‰å¼•ç”¨ç±»å‹<code>AnyRef</code>çš„å­ç±»ï¼Œè¿™ä¸ªç±»å‹ä¸»è¦ç”¨é€”æ˜¯ä¸å…¶ä»–JVMè¯­è¨€äº’æ“ä½œï¼Œå‡ ä¹ä¸åœ¨Scalaä»£ç ä¸­ä½¿ç”¨ã€‚</li>
<li><code>Nothing</code>æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ï¼Œä¹Ÿç§°ä¸ºåº•éƒ¨ç±»å‹ã€‚å®ƒå¸¸è§çš„ç”¨é€”æ˜¯å‘å‡ºç»ˆæ­¢ä¿¡å·ï¼Œä¾‹å¦‚æŠ›å‡ºå¼‚å¸¸ã€ç¨‹åºé€€å‡ºæˆ–æ— é™å¾ªç¯ã€‚</li>
</ul>
<p>æ•´æ•°ç±»å‹ï¼šéƒ½æ˜¯æœ‰ç¬¦å·æ•´æ•°ï¼Œæ ‡å‡†è¡¥ç è¡¨ç¤ºã€‚</p>
<ul>
<li><code>Byte</code> 1å­—èŠ‚</li>
<li><code>Short</code> 2å­—èŠ‚</li>
<li><code>Int</code> 4å­—èŠ‚</li>
<li><code>Long</code> 8å­—èŠ‚</li>
<li>æ•´æ•°èµ‹åˆå€¼è¶…å‡ºè¡¨ç¤ºèŒƒå›´æŠ¥é”™ã€‚</li>
<li>è‡ªåŠ¨ç±»å‹æ¨æ–­ï¼Œæ•´æ•°å­—é¢å€¼é»˜è®¤ç±»å‹<code>Int</code>ï¼Œé•¿æ•´å‹å­—é¢å€¼å¿…é¡»åŠ <code>L</code>åç¼€è¡¨ç¤ºã€‚</li>
<li>ç›´æ¥å‘ä¸‹è½¬æ¢ä¼šå¤±è´¥ï¼Œéœ€è¦ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œ<code>(a + 10).toByte</code>ã€‚</li>
</ul>
<p>æµ®ç‚¹ç±»å‹ï¼š</p>
<ul>
<li><code>Float</code> IEEE 754 32ä½æµ®ç‚¹æ•°</li>
<li><code>Double</code> IEEE 754 64ä½æµ®ç‚¹æ•°</li>
<li>å­—é¢å€¼é»˜è®¤<code>Double</code></li>
</ul>
<p>å­—ç¬¦ç±»å‹ï¼š</p>
<ul>
<li>åŒjavaçš„<code>Character</code>ï¼Œ2å­—èŠ‚ï¼ŒUTF-16ç¼–ç çš„å­—ç¬¦ã€‚</li>
<li>å­—ç¬¦å¸¸é‡ï¼š<code>&#39;&#39;</code></li>
<li>ç±»å‹<code>Char</code></li>
<li>è½¬ä¹‰ï¼š<code>\t \n \r \\ \&quot; \&#39;</code>etc</li>
</ul>
<p>å¸ƒå°”ç±»å‹ï¼š<code>true false</code></p>
<p>ç©ºç±»å‹ï¼š</p>
<ul>
<li><code>Unit</code> æ— å€¼ï¼Œåªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œç”¨äºå‡½æ•°è¿”å›å€¼ã€‚</li>
<li><code>Null</code> åªæœ‰ä¸€ä¸ªå®ä¾‹<code>null</code>ï¼Œç©ºå¼•ç”¨ã€‚</li>
<li><code>Nothing</code> ç¡®å®šæ²¡æœ‰æ­£å¸¸çš„è¿”å›å€¼ï¼Œå¯ä»¥ç”¨Nothingæ¥æŒ‡å®šè¿”å›å€¼ç±»å‹ã€‚å¥½åƒæ„æ€æ˜¯æŠ›å¼‚å¸¸æ—¶è¿”å›Nothingï¼Œä¸æ˜¯ç‰¹åˆ«æ‡‚ã€‚</li>
</ul>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs arduino">object NullType &#123;<br>    <span class="hljs-function">def <span class="hljs-title">main</span><span class="hljs-params">(arg : Array[<span class="hljs-type">String</span>])</span> : Unit =</span> &#123;<br>        <span class="hljs-comment">// Unit</span><br>        <span class="hljs-function">def <span class="hljs-title">f1</span><span class="hljs-params">()</span>: Unit =</span> &#123;<br>            <span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;just nothing!&quot;</span>)<br>        &#125;<br>        val a = <span class="hljs-built_in">f1</span>()<br>        <span class="hljs-built_in">println</span>(a) <span class="hljs-comment">// ()</span><br><br>        <span class="hljs-comment">// null only used for AnyRef</span><br>        <span class="hljs-comment">// val n:Int = null // invalid</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æ•°æ®ç±»å‹è½¬æ¢ï¼š</p>
<ul>
<li><p>è‡ªåŠ¨ç±»å‹æå‡ï¼šå¤šç§æ•°æ®ç±»å‹æ··åˆè¿ç®—ï¼Œè‡ªåŠ¨æå‡åˆ°ç²¾åº¦æœ€å¤§çš„æ•°æ®ç±»å‹ã€‚</p>
</li>
<li><p>é«˜ç²¾åº¦èµ‹å€¼åˆ°ä½ç²¾åº¦ï¼Œç›´æ¥æŠ¥é”™ã€‚</p>
</li>
<li><p>é™¤äº†å›¾ä¸­çš„éšå¼ç±»å‹è½¬æ¢ï¼Œéƒ½éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p>
</li>
<li><p><code>Byte Short Char</code>è®¡ç®—æ—¶ä¼šç›´æ¥æå‡ä¸º<code>Int</code>ã€‚</p>
</li>
<li><p><code>Boolean</code>ä¸èƒ½å‚ä¸æ•´æ•°æµ®ç‚¹è¿ç®—ï¼Œä¸èƒ½éšå¼è½¬æ¢ä¸ºæ•´æ•°ã€‚</p>
<p><img src="https://raw.githubusercontent.com/YUTING0907/PicGo/main/imgScala_implicit_datatype_cast.jpeg" srcset="/img/loading.gif" lazyload></p>
</li>
</ul>
<p>å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼š</p>
<ul>
<li><code>toByte toInt toChar toXXXX</code></li>
<li><code>&#39;a&#39;.toInt</code> <code>2.7.toInt</code></li>
<li>æ•°å€¼ä¸Stringçš„è½¬æ¢ï¼š<code>&quot;&quot; + n</code> <code>&quot;100&quot;.toInt</code> <code>&quot;12.3&quot;.toFloat</code> <code>12.3&quot;.toDouble.toInt</code></li>
<li>æ•´æ•°å¼ºè½¬æ˜¯äºŒè¿›åˆ¶æˆªå–ï¼Œæ•´æ•°é«˜ç²¾åº¦è½¬ä½ç²¾åº¦å¯èƒ½ä¼šæº¢å‡ºï¼Œæ¯”å¦‚<code>128.toByte</code>ã€‚</li>
</ul>
<p>Scalaæ ‡å‡†åº“ï¼š</p>
<ul>
<li><code>Int</code> <code>Double</code>è¿™äº›æ•°æ®ç±»å‹å¯¹åº”äºJavaä¸­çš„åŸå§‹æ•°æ®ç±»å‹ï¼Œåœ¨åº•å±‚çš„è¿è¡Œæ—¶ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä½†Scalaæä¾›äº†ä»è¿™äº›ç±»å‹åˆ°<code>scala.runtime.RichInt/RichDouble/...</code>çš„ï¼ˆä½ä¼˜å…ˆçº§ï¼‰éšå¼ç±»å‹è½¬æ¢ï¼ˆåœ¨<code>Perdef</code>ä¸­å®šä¹‰ï¼‰ï¼Œä»è€Œæä¾›äº†éåŸå§‹ç±»å‹å…·æœ‰çš„å¯¹è±¡æ“ä½œã€‚</li>
<li>åŸºæœ¬ç±»å‹éƒ½æ˜¯é»˜è®¤å¯¼å…¥çš„ï¼Œä¸éœ€è¦æ˜¾å¼å¯¼å…¥ï¼Œä½äºåŒ…<code>scala</code>ä¸­ã€‚è¿˜æœ‰<code>scala.Predef</code>å¯¹è±¡ä¹Ÿæ˜¯è‡ªåŠ¨å¯¼å…¥ã€‚</li>
<li>å…¶ä»–éœ€è¦å¯¼å…¥çš„åŒ…ï¼š<ul>
<li><code>scala.collection</code>é›†åˆã€‚</li>
<li><code>scala.collection.immutable</code>ä¸å¯å˜æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚æ•°ç»„ã€åˆ—è¡¨ã€èŒƒå›´ã€å“ˆå¸Œè¡¨ã€å“ˆå¸Œé›†åˆã€‚</li>
<li><code>scala.collection.mutable</code>å¯å˜æ•°æ®ç»“æ„ï¼Œæ•°ç»„ç¼“å†²ã€å­—ç¬¦ä¸²æ„å»ºå™¨ã€å“ˆå¸Œè¡¨ã€å“ˆå¸Œé›†åˆã€‚</li>
<li><code>scala.collection.concurrent</code>å¯å˜å¹¶å‘æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚å­—å…¸æ ‘ã€‚</li>
</ul>
</li>
<li><code>scala.concurrent</code>åŸå§‹çš„å¹¶å‘ç¼–ç¨‹ã€‚</li>
<li><code>scala.io</code>è¾“å…¥è¾“å‡ºã€‚</li>
<li><code>scala.math</code>åŸºæœ¬æ•°å­¦æ“ä½œã€‚</li>
<li><code>scala.sys</code>æ“ä½œç³»ç»Ÿäº¤äº’ã€‚</li>
<li><code>scala.util.matching</code>æ­£åˆ™ã€‚</li>
<li>æ ‡å‡†åº“ä¸­çš„å…¶ä»–éƒ¨åˆ†è¢«æ”¾åœ¨ç‹¬ç«‹çš„åˆ†å¼€çš„åº“ä¸­ã€‚å¯èƒ½éœ€è¦å•ç‹¬å®‰è£…ï¼ŒåŒ…æ‹¬ï¼š</li>
<li><code>scala.reflect</code>åå°„APIã€‚</li>
<li><code>scala.xml</code>xmlè§£æã€æ“ä½œã€åºåˆ—åŒ–ã€‚</li>
<li><code>scala.collection.parallel</code>å¹¶è¡Œé›†åˆã€‚</li>
<li><code>scala.util.parsing</code> parserçš„ç»„åˆå­ï¼Œä»€ä¹ˆä¸œè¥¿ï¼Ÿ</li>
<li><code>scala.swing</code>javaçš„GUIæ¡†æ¶Swingçš„å°è£…ã€‚</li>
<li>å®šä¹‰äº†ä¸€äº›åˆ«åç»™å¸¸ç”¨çš„ç±»ï¼Œæ¯”å¦‚<code>List</code>æ˜¯<code>scala.collection.immutable.List</code>çš„åˆ«åï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºé»˜è®¤å¯¼å…¥ï¼Ÿ</li>
<li>å…¶ä»–åˆ«åå¯èƒ½æ˜¯åº•å±‚å¹³å°JVMæä¾›çš„ï¼Œæ¯”å¦‚<code>String</code>æ˜¯<code>java.lang.String</code>çš„åˆ«åã€‚</li>
</ul>
<h2 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h2><p>è¿ç®—ç¬¦ï¼š</p>
<ul>
<li>å’ŒJavaåŸºæœ¬ç›¸åŒã€‚</li>
<li>ç®—æœ¯è¿ç®—ï¼š<code>+ - * / %</code> ï¼Œ<code>+</code>å¯ä»¥ç”¨äºä¸€å…ƒæ­£å·ï¼ŒäºŒå…ƒåŠ å·ï¼Œè¿˜å¯ä»¥ç”¨ä½œå­—ç¬¦ä¸²åŠ æ³•ï¼Œå–æ¨¡ä¹Ÿå¯ç”¨äºæµ®ç‚¹æ•°ã€‚æ²¡æœ‰è‡ªå¢å’Œè‡ªå‡è¯­æ³•<code>++ --</code>ã€‚</li>
<li>å…³ç³»è¿ç®—ï¼š<code>== != &lt; &gt; &lt;= &gt;=</code></li>
<li>é€»è¾‘è¿ç®—ï¼š<code>&amp;&amp; || !</code>ï¼Œ <code>&amp;&amp; ||</code>æ‰€æœ‰è¯­è¨€éƒ½æ”¯æŒçŸ­è·¯æ±‚å€¼ï¼Œscalaä¹Ÿä¸ä¾‹å¤–ã€‚</li>
<li>èµ‹å€¼è¿ç®—ï¼š<code>= += -= *= /= %=</code></li>
<li>æŒ‰ä½è¿ç®—ï¼š<code>&amp; | ^ ~</code></li>
<li>ç§»ä½è¿ç®—ï¼š<code>&lt;&lt; &gt;&gt; &gt;&gt;&gt;</code>ï¼Œå…¶ä¸­<code>&lt;&lt; &gt;&gt;</code>æ˜¯æœ‰ç¬¦å·å·¦ç§»å’Œå³ç§»ï¼Œ<code>&gt;&gt;&gt;</code>æ— ç¬¦å·å³ç§»ã€‚</li>
<li>scalaä¸­æ‰€æœ‰è¿ç®—ç¬¦æœ¬è´¨éƒ½æ˜¯å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼Œæ‹¥æœ‰æ¯”C++æ›´çµæ´»çš„è¿ç®—ç¬¦é‡è½½ã€‚</li>
</ul>
<p>è‡ªå®šä¹‰è¿ç®—ç¬¦ï¼š</p>
<ul>
<li>Scalaä¸­è¿ç®—ç¬¦å³æ˜¯æ–¹æ³•ï¼Œä»»ä½•å…·æœ‰å•ä¸ªå‚æ•°çš„æ–¹æ³•éƒ½å¯ä»¥ç”¨ä½œ<strong>ä¸­ç¼€è¿ç®—ç¬¦</strong>ï¼Œå†™ä½œä¸­ç¼€è¡¨è¾¾å¼çš„å†™æ³•ã€‚<code>10.+(1)</code>å³æ˜¯<code>10 + 1</code>ã€‚</li>
<li>å®šä¹‰æ—¶å°†åˆæ³•çš„è¿ç®—ç¬¦ï¼ˆåªæœ‰ç‰¹æ®Šç¬¦å·æ„æˆçš„æ ‡è¯†ç¬¦ï¼‰ä½œä¸ºå‡½æ•°åç§°å³å¯å®šä¹‰ã€‚</li>
</ul>
<p>è¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼š</p>
<ul>
<li>å½“ä¸€ä¸ªè¡¨è¾¾å¼ä½¿ç”¨å¤šä¸ªè¿ç®—ç¬¦æ—¶ï¼Œå°†<strong>æ ¹æ®è¿ç®—ç¬¦çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ¥è¯„ä¼°ä¼˜å…ˆçº§</strong>ã€‚å†…ç½®çš„è¿ç®—ç¬¦å’Œè‡ªå®šä¹‰è¿ç®—ç¬¦éƒ½æ˜¯å‡½æ•°ï¼Œéµå®ˆåŒæ ·çš„è§„åˆ™ã€‚</li>
</ul>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">(characters not shown below)<br><span class="hljs-bullet">* </span>/ %<br>+ -<br>:<br><span class="hljs-section">= !</span><br>&lt; &gt;<br>&amp;<br>^<br>|<br>(all letters, $, _)<br></code></pre></td></tr></table></figure>

<ul>
<li>æ¯”å¦‚ä¸‹é¢ä¸¤ä¸ªè¡¨ç¤ºç­‰ä»·ï¼š</li>
</ul>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs coq">a + b ^? c ?^ d less a ==&gt; b | <span class="hljs-type">c</span><br>((a + b) ^? (c ?^ d)) less ((a ==&gt; b) | <span class="hljs-type">c</span>)<br></code></pre></td></tr></table></figure>

<p>ä¸Šé¢éƒ½æ˜¯ç²—æµ…çš„ç†è§£ï¼Œä»¥ä¸‹å¼•ç”¨è‡ª<a target="_blank" rel="noopener" href="https://www.scala-lang.org/files/archive/spec/2.13/06-expressions.html#prefix-infix-and-postfix-operations">Scala2.13æ ‡å‡† - 06è¡¨è¾¾å¼ - 12å‰ç¼€ä¸­ç¼€å’Œåç¼€æ“ä½œ</a>ä¸€èŠ‚ï¼š</p>
<p>è¯æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">PostfixExpr     ::=  InfixExpr [<span class="hljs-built_in">id</span> [<span class="hljs-built_in">nl</span>]]<br>InfixExpr       ::=  PrefixExpr<br>                  |  InfixExpr <span class="hljs-built_in">id</span> [<span class="hljs-built_in">nl</span>] InfixExpr<br>PrefixExpr      ::=  [<span class="hljs-string">&#x27;-&#x27;</span> | <span class="hljs-string">&#x27;+&#x27;</span> | <span class="hljs-string">&#x27;!&#x27;</span> | <span class="hljs-string">&#x27;~&#x27;</span>] SimpleExpr<br></code></pre></td></tr></table></figure>

<ul>
<li>å¯ä»¥çœ‹åˆ°å‰ç¼€è¿ç®—ç¬¦åªæœ‰<code>- + ! ~</code>å«ä¹‰æ˜¯æ­£è´Ÿå·ã€é€»è¾‘éã€æŒ‰ä½å–åã€‚</li>
<li>è¡¨è¾¾å¼æ˜¯é€šè¿‡è¿ç®—ç¬¦å’Œæ“ä½œæ•°æ„å»ºçš„ã€‚</li>
</ul>
<p>å‰ç¼€è¿ç®—ï¼š</p>
<ul>
<li>ä»…æœ‰<code>+ - ! ~</code>ï¼Œç­‰ä»·äºåç¼€çš„æ–¹æ³•è°ƒç”¨<code>.+() .-() .!() .~()</code></li>
<li>å‰ç¼€è¿ç®—ç¬¦çš„æ“ä½œæ•°æ˜¯<strong>åŸå­</strong>çš„ï¼Œæ¯”å¦‚<code>-sin(x)</code>è¢«è§£æä¸º<code>-(sin(x))</code>ã€‚è¿™ä¸åŒäºä¸€èˆ¬çš„å‡½æ•°ï¼Œå¦‚æœå®šä¹‰ä¸€ä¸ªç›¸åŒå«ä¹‰çš„<code>negate</code>å‡½æ•°ï¼Œé‚£ä¹ˆ<code>negate sin(x)</code>ä¼šè¢«è§£æä¸º<code>sin</code>æ˜¯æ“ä½œç¬¦ï¼Œè€Œ<code>negate</code>å’Œ<code>(x)</code>æ˜¯å®ƒçš„æ“ä½œæ•°ã€‚</li>
</ul>
<p>åç¼€è¿ç®—ï¼š</p>
<ul>
<li>åç¼€çš„è¿ç®—ç¬¦å¯ä»¥æ˜¯ä»»æ„çš„æ ‡è¯†ç¬¦ï¼Œæ‰€æœ‰çš„<code>e op</code>è¢«è§£é‡Šä¸º<code>e.op</code>ã€‚åŸæ¥è¿˜å¯ä»¥è¿™æ ·ï¼</li>
</ul>
<p>ä¸­ç¼€è¿ç®—ï¼š</p>
<ul>
<li>ä¸€ä¸ªä¸­ç¼€è¿ç®—ç¬¦å¯ä»¥æ˜¯ä»»æ„çš„æ ‡è¯†ç¬¦ï¼Œä¸­ç¼€è¿ç®—ç¬¦</li>
<li>ä¸­ç¼€è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§å®šä¹‰å¦‚ä¸‹ï¼šé€’å¢é¡ºåºï¼Œä¼˜å…ˆçº§ç”±è¿ç®—ç¬¦é¦–å­—ç¬¦ç¡®å®šï¼ŒåŒä¸€è¡Œæ‹¥æœ‰åŒç­‰ä¼˜å…ˆçº§ã€‚</li>
</ul>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">(all letters, as defined in [chapter 1], including <span class="hljs-code">`_`</span> and <span class="hljs-code">`$`</span>)<br>|<br>^<br>&amp;<br><span class="hljs-section">= !</span><br>&lt; &gt;<br>:<br>+ -<br><span class="hljs-bullet">* </span>/ %<br>(other operator characters, as defined in [chapter 1], including Unicode categories <span class="hljs-code">`Sm`</span> and <span class="hljs-code">`So`</span>)<br></code></pre></td></tr></table></figure>

<ul>
<li>è¿ç®—ç¬¦çš„ç»“åˆæ€§ç”±è¿ç®—ç¬¦çš„å°¾å­—ç¬¦ç¡®å®šï¼Œä»¥<code>:</code>ç»“å°¾çš„å­—ç¬¦ä¸ºå³ç»“åˆï¼Œå…¶ä»–çš„éƒ½æ˜¯å·¦ç»“åˆã€‚åé¢çš„é›†åˆæ“ä½œè¿ç®—ç¬¦ä¸­æœ‰ä¾‹å­ã€‚</li>
<li>ä¼˜å…ˆçº§å’Œç»“åˆæ€§å†³å®šäº†ä¸€ä¸ªè¡¨è¾¾å¼çš„è¯­ä¹‰ï¼Œä¹Ÿå³æ˜¯å®ƒçš„ç»„åˆæ–¹å¼ã€‚å…·ä½“è§„åˆ™ï¼š<ul>
<li>å¤šä¸ªä¸­ç¼€è¿ç®—ç¬¦åŒæ—¶å‡ºç°ï¼Œä¼˜å…ˆçº§æ›´é«˜çš„æ›´æ˜¾ç»‘å®šåˆ°æ“ä½œæ•°ã€‚</li>
<li>å¦‚æœæœ‰å¤šä¸ªè¿ç»­çš„åŒä¸€ä¼˜å…ˆçº§çš„ä¸­ç¼€è¿ç®—ç¬¦ï¼ˆåŒä¸€ä¼˜å…ˆçº§ç»“åˆæ€§å¿…å®šç›¸åŒï¼‰ï¼Œé‚£ä¹ˆæŒ‰ç…§ç»“åˆæ€§ç»‘å®šï¼Œå·¦ç»“åˆä»å·¦å¾€å³ï¼Œå³ç»“åˆä»å³å¾€å·¦ã€‚</li>
<li>åç¼€è¿ç®—ç¬¦æ€»æ˜¯æ¯”ä¸­ç¼€è¿ç®—ç¬¦ä¼˜å…ˆçº§æ›´ä½ã€‚æ¯”å¦‚<code>e1 op1 e2 op2</code>æ€»æ˜¯è§£é‡Šä¸º<code>(e1 op1 e2) op2</code>ã€‚</li>
</ul>
</li>
<li>ä¸­ç¼€çš„å·¦ç»“åˆçš„è¿ç®—ç¬¦å¯èƒ½åŒ…å«å¤šä¸ªå‚æ•°ï¼Œ<code>e op (e1, e2, ..., en)</code>æ€»æ˜¯è¢«è§£é‡Šä¸º<code>e.op(e1, e2, ..., en)</code>ã€‚</li>
<li>å¯¹äºä¸­ç¼€è¡¨è¾¾å¼<code>e1 op e2</code>ï¼Œå¦‚æœ<code>op</code>å·¦ç»“åˆé‚£ä¹ˆè¢«è§£é‡Šä¸º<code>e1.op(e2)</code>ï¼Œå¦‚æœå³ç»“åˆå¹¶ä¸”æ˜¯å®ƒçš„å‚æ•°æ˜¯ä¼ åå‚æ•°é‚£ä¹ˆè¢«è§£é‡Šä¸º<code>e2.op(e1)</code>ï¼Œå¦‚æœå‚æ•°æ˜¯å€¼ä¼ é€’ï¼Œé‚£ä¹ˆè§£é‡Šä¸º<code>&#123;val x = e2; e2.op(x)&#125;</code>ï¼Œå…¶ä¸­xæ˜¯ä¸€ä¸ªæ–°åç§°ã€‚åé¢çš„é›†åˆæ“ä½œæœ‰ä¾‹å­ã€‚</li>
<li>å‰é¢æ‰€è¯´çš„å‰ç¼€è¿ç®—ã€åç¼€è¿ç®—ã€ä¸­ç¼€è¿ç®—å¯¹åº”çš„è¿ç®—ç¬¦åˆ†åˆ«æ˜¯ä¸€å…ƒå‰ç½®è¿ç®—ç¬¦ã€ä¸€å…ƒåç½®è¿ç®—ç¬¦ã€äºŒå…ƒåç½®è¿ç®—ç¬¦ï¼Œä¸å­˜åœ¨å…¶ä»–ç±»å‹ï¼Œæ¯”å¦‚ä¸‰å…ƒçš„æ¡ä»¶è¿ç®—ç¬¦ã€‚</li>
</ul>
<p>èµ‹å€¼è¿ç®—ç¬¦ï¼š</p>
<ul>
<li>èµ‹å€¼è¿ç®—ç¬¦æ˜¯æŒ‡ä»¥<code>=</code>ç»“å°¾çš„è¿ç®—ç¬¦ã€‚é™¤äº†åŒæ ·ä»¥<code>=</code>å¼€å§‹ï¼Œå’Œ<code>&gt;= &lt;= !=</code>ä¹‹å¤–ã€‚</li>
<li>èµ‹å€¼è¿ç®—ç¬¦åœ¨å½“å…¶ä»–çš„è§£é‡Šéƒ½éæ³•æ—¶ä¼šæœ‰ç‰¹æ®Šå¯¹å¾…ã€‚</li>
<li>æ¯”å¦‚è¯´<code>l += r</code>ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰çš„<code>+=</code>è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆä¼šè¢«è§£é‡Šä¸º<code>l = l + r</code>ã€‚</li>
<li>è¿™ç§é‡æ–°è§£é‡Šå‘ç”Ÿåœ¨æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶çš„æƒ…å†µä¸‹ï¼š<ul>
<li><code>l</code>æ²¡æœ‰<code>+=</code>è¿ç®—ç¬¦ã€‚</li>
<li><code>l = l + r</code>æ˜¯ç±»å‹æ­£ç¡®çš„ï¼Œé€šå¸¸æƒ…å†µä¸‹è¿™æ„å‘³ç€<code>l</code>æ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œå¹¶ä¸”<code>l + r</code>æ˜¯åˆæ³•çš„ï¼ˆå®šä¹‰äº†<code>+</code>æˆ–è€…å¯éšå¼è½¬æ¢ä¸ºå®šä¹‰äº†<code>+</code>çš„ç±»å‹ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p>è¯•éªŒä¸æ€»ç»“ï¼š</p>
<ul>
<li>å†…ç½®å‰ç¼€è¿ç®—ç¬¦æœ‰<code>+ - ! ~</code>å¯¹å°‘é‡å†…ç½®ç±»å‹æä¾›æ”¯æŒï¼Œè‡ªå®šä¹‰ä¸€å…ƒå‰ç¼€è¯·ä½¿ç”¨<code>unary_</code>åŠ ä¸Šè¦å®šä¹‰çš„è¿ç®—ç¬¦åç§°ï¼Œå¹¶ä¸”ä¸è¦åŠ å‚æ•°åˆ—è¡¨<code>()</code>ã€‚è€Œä¸”è¿™ä¸œè¥¿çœŸçš„å¯ä»¥åŠ å‚æ•°åˆ—è¡¨ï¼Œä½†æˆ‘å¹¶æ²¡æœ‰æ‰¾åˆ°ç”¨è¿ç®—ç¬¦å½¢å¼è°ƒç”¨çš„æ–¹å¼ã€‚</li>
<li>è‡ªå®šä¹‰ä¸€å…ƒåç½®è¿ç®—ç¬¦ï¼ˆå³å®šä¹‰ä¸ºç©ºå‚æ•°åˆ—è¡¨ï¼‰éœ€è¦å¼•å…¥<code>scala.language.postfixOps</code>æ‰èƒ½ä½¿ç”¨åç¼€è¿ç®—ç¬¦å½¢å¼è°ƒç”¨ã€‚å½“ç„¶ç”¨å‡½æ•°è°ƒç”¨å½¢å¼è°ƒç”¨æ€»æ˜¯æ²¡æœ‰è¯­æ³•é—®é¢˜çš„ã€‚åŒæ ·å»æ‰å‚æ•°åˆ—è¡¨åå°±å¯ä»¥åç½®ä½¿ç”¨ã€‚</li>
<li>äºŒå…ƒåç½®è¿ç®—ç¬¦ï¼Œæ˜¯æœ€å¸¸ç”¨çš„è‡ªå®šä¹‰è¿ç®—ç¬¦ã€‚ä¼˜å…ˆçº§ä¸Šé¢æœ‰ï¼Œç»“åˆæ€§ä»¥æ˜¯å¦<code>:</code>ç»“å°¾ç¡®å®šã€‚éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯å³ç»“åˆå’Œæ¯”å¦‚C++ä¸­é‡è½½èµ‹å€¼è¿ç®—ç¬¦æ˜¯æœ‰åŒºåˆ«çš„ï¼Œéœ€è¦äº†è§£ã€‚</li>
<li>Scalaä¸­å†…ç½®çš„èµ‹å€¼è¿ç®—ç¬¦è¿”å›ç©º<code>()</code>ï¼Œæ‰€ä»¥å…¶å®æ˜¯ä¸èƒ½è¿ç»­èµ‹å€¼çš„ï¼Œèµ‹å€¼ç±»è¿ç®—ç¬¦ç®—æ˜¯è¢«ç‰¹æ®Šå¯¹å¾…äº†ã€‚å¹¶ä¸”å› ä¸ºæ¨å´‡å‡½æ•°å¼ç¼–ç¨‹é£æ ¼ï¼Œèƒ½å®šä¹‰ä¸º<code>val</code>åˆ™å®šä¹‰ä¸º<code>val</code>ä¹Ÿå°±ä¸èƒ½è¿ç»­èµ‹å€¼ã€‚å› ä¸ºå˜é‡éƒ½æ˜¯å¼•ç”¨å˜é‡ï¼Œå®šä¹‰<code>=</code>å˜æˆäº†æ²¡æœ‰é“ç†ä¹Ÿä¸å¯èƒ½çš„ä¸€ä»¶äº‹æƒ…ï¼Œæ‰€ä»¥å®è·µä¸­ä¹Ÿåªèƒ½ä¸€æ¡è¯­å¥åªåšä¸€æ¬¡èµ‹å€¼ã€‚</li>
<li>Scalaä¸èƒ½å®šä¹‰<code>=</code>è¿ç®—ç¬¦ï¼Œä½†å¯ä»¥å®šä¹‰å¤åˆèµ‹å€¼ï¼Œå¹¶ä¸”åšäº†å¤„ç†ï¼ŒæŸäº›æƒ…å†µä¸‹åªè¦ç±»è®¾è®¡å¾—å¥½å®šä¹‰äº†è¿ç®—ç±»è¿ç®—ç¬¦å°±ä¸éœ€è¦å¤šå»å®šä¹‰å¤åˆèµ‹å€¼äº†ã€‚æ‰€ä»¥è¯´å¦‚æœçœŸè¦å®šä¹‰å¤åˆèµ‹å€¼è¿”å›å€¼ä¹Ÿåº”è¯¥è¿”å›<code>()</code>å—ï¼Ÿä¹Ÿè®¸æ˜¯çš„ã€‚</li>
<li>å¤šå‚æ•°çš„æ–¹æ³•å…¶å®ä¹Ÿå¯ä»¥å†™æˆä¸­ç¼€å½¢å¼ï¼Œ<code>e op (e1, e2, ..., en)</code>ã€‚</li>
<li>å¯¹äºç±»æ–¹æ³•æ¥è¯´ï¼Œ<strong>è¿ç®—ç¬¦æ˜¯å‡½æ•°ï¼Œå‡½æ•°ä¹Ÿæ˜¯è¿ç®—ç¬¦</strong>ã€‚</li>
</ul>
<p>ä¾‹å­ï¼šå¯çª¥è§å…¶çµæ´»ç¨‹åº¦ã€‚</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs processing"><span class="hljs-keyword">import</span> scala.<span class="hljs-property">language</span>.<span class="hljs-property">postfixOps</span><br>object UserDefindOps &#123;<br>    def <span class="hljs-title function_">main</span>(args: <span class="hljs-built_in">Array</span>[<span class="hljs-built_in">String</span>]): Unit = &#123;<br>        val v = <span class="hljs-title function_">Vector2</span>(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>)<br>        val v2 = <span class="hljs-title function_">Vector2</span>(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>)<br><br>        <span class="hljs-built_in">println</span>(v)<br>        <span class="hljs-comment">// prefix unary</span><br>        <span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;==========================================&quot;</span>)<br>        <span class="hljs-built_in">println</span>(+v)<br>        <span class="hljs-built_in">println</span>(-v)<br>        <span class="hljs-built_in">println</span>(v.<span class="hljs-property">unary_</span>-(<span class="hljs-string">&quot;hello&quot;</span>))<br><br>        <span class="hljs-comment">// binary</span><br>        <span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;==========================================&quot;</span>)<br>        <span class="hljs-built_in">println</span>(v * <span class="hljs-number">3</span>)<br>        <span class="hljs-built_in">println</span>(v * v2)<br>        <span class="hljs-built_in">println</span>(v + v2)<br>        <span class="hljs-built_in">println</span>(v - v2)<br>        <br>        <span class="hljs-comment">// postfix unary, just for test, no meaning</span><br>        <span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;==========================================&quot;</span>)<br>        <span class="hljs-built_in">println</span>(v-)<br>        <span class="hljs-built_in">println</span>((v-)-)<br><br>        <span class="hljs-comment">// multiple</span><br>        <span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;==========================================&quot;</span>)<br>        <span class="hljs-built_in">println</span>(v <span class="hljs-title function_">hello</span> (<span class="hljs-string">&quot;test&quot;</span>, <span class="hljs-string">&quot;yes&quot;</span>))<br>        <span class="hljs-built_in">println</span>(v + (<span class="hljs-number">10</span>, <span class="hljs-number">10</span>))<br>        <span class="hljs-built_in">println</span>(v - (<span class="hljs-number">10</span>, <span class="hljs-number">10</span>))<br><br>        <span class="hljs-comment">// assignment operator</span><br>        <span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;==========================================&quot;</span>)<br>        var v3 = <span class="hljs-title function_">Vector2</span>(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>)<br>        <span class="hljs-built_in">println</span>(v3 *= <span class="hljs-number">3</span>) <span class="hljs-comment">// ()</span><br>        <span class="hljs-built_in">println</span>(v3) <span class="hljs-comment">// Vector2(30.0, 15.0)</span><br>        v3 /= <span class="hljs-number">3</span><br>        <span class="hljs-built_in">println</span>(v3)<br>        v3 += v2<br>        <span class="hljs-built_in">println</span>(v3)<br>        v3 += (<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)<br>        <span class="hljs-built_in">println</span>(v3)<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Vector2</span>(val x: Double, val y: Double) &#123;<br>    override def <span class="hljs-title function_">toString</span>(): <span class="hljs-built_in">String</span> = s<span class="hljs-string">&quot;Vector2($x, $y)&quot;</span><br>    <span class="hljs-comment">// prefix unary</span><br>    def unary_- = <span class="hljs-variable">this</span>.- <span class="hljs-comment">// call postfix -</span><br>    def unary_+ = <span class="hljs-title function_">Vector2</span>(x, y)<br>    def unary_-(<span class="hljs-built_in">str</span>: <span class="hljs-built_in">String</span>) = s<span class="hljs-string">&quot;unary - with a string parameter: $str&quot;</span> <span class="hljs-comment">// can not call this through operator format</span><br>    <span class="hljs-comment">// binary</span><br>    def +(v: Vector2) = <span class="hljs-title function_">Vector2</span>(x + v.<span class="hljs-property">x</span>, y + v.<span class="hljs-property">y</span>)<br>    def -(v: Vector2) = <span class="hljs-title function_">Vector2</span>(x - v.<span class="hljs-property">x</span>, y - v.<span class="hljs-property">y</span>)<br>    def *(v: Vector2) = x * v.<span class="hljs-property">x</span> + y * v.<span class="hljs-property">y</span> <span class="hljs-comment">// Inner product </span><br>    def *(d: Double) = <span class="hljs-title function_">Vector2</span>(d * x, d * y) <span class="hljs-comment">// multiply</span><br>    def /(d: Double) = <span class="hljs-title function_">Vector2</span>(x / d, y / d)<br>    <span class="hljs-comment">// postfix unary</span><br>    def - = <span class="hljs-title function_">Vector2</span>(-x, -y)<br>    <span class="hljs-comment">// multiple</span><br>    def <span class="hljs-title function_">hello</span>(a: <span class="hljs-built_in">String</span>, b: <span class="hljs-built_in">String</span>) = s<span class="hljs-string">&quot;$a, $b, $&#123;toString()&#125;&quot;</span><br>    def +(_x: Double, _y: Double): Vector2 = <span class="hljs-variable">this</span> + <span class="hljs-title function_">Vector2</span>(_x, _y)<br>    def -(_x: Double, _y: Double): Vector2 = <span class="hljs-title function_">Vector2</span>(x - _x, y - _y)<br>&#125;<br><br>object Vector2 &#123;<br>    def <span class="hljs-title function_">apply</span>(x: Double, y: Double) = <span class="hljs-keyword">new </span><span class="hljs-class title_">Vector2</span>(x, y)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å®è·µæŒ‡å—ï¼š</p>
<ul>
<li>ä¸€å…ƒå‰ç¼€å’Œä¸€å…ƒåç¼€è¿ç®—ç¬¦å®šä¹‰æ—¶ä¸åŠ å‚æ•°åˆ—è¡¨ï¼Œè¿ç®—ç¬¦å½¢å¼ä½¿ç”¨ã€‚</li>
<li>åœ¨å¤æ‚è¡¨è¾¾å¼ä¸­ä½¿ç”¨ä¸€å…ƒå‰ç¼€å’Œåç¼€è¿ç®—ç¬¦ä½¿ç”¨æ—¶æœ€å¥½åŠ æ‹¬å·è¡¨æ˜ä¼˜å…ˆçº§ï¼Œä¸ç„¶åœ¨å¤æ‚è¡¨è¾¾å¼ä¸­ç¼–è¯‘å™¨å¯èƒ½éš¾ä»¥åŒºåˆ†è¿™æ˜¯ä¸€å…ƒçš„è¿˜æ˜¯äºŒå…ƒçš„ã€‚è‡³å°‘å®šä¹‰äº†ä¸€å…ƒå‰ç½®å’Œåç½®<code>-</code>çš„ç±»ä¸­æ— æ³•åƒ<code>a - -</code>å’Œ<code>- - a</code>è¿™æ ·æ¥ç”¨ã€‚</li>
<li>äºŒå…ƒè¿ç®—ç¬¦å®šä¹‰åªç»™ä¸€ä¸ªå‚æ•°ï¼Œè¿ç®—ç¬¦å½¢å¼ä½¿ç”¨ã€‚</li>
<li>å‚æ•°å¤šäº1ä¸ªæ—¶ä¸è¦é€šè¿‡è¿ç®—ç¬¦å½¢å¼ä½¿ç”¨ï¼Œä½†å¦‚æœå¾ˆæ¸…æ™°çš„è¯å…¶å®ä¹Ÿæ— å¦¨ã€‚</li>
<li>å‡½æ•°ä¹Ÿæ˜¯è¿ç®—ç¬¦ï¼Œéç‰¹æ®Šç¬¦å·è¿ç®—ç¬¦å½¢å¼ä½¿ç”¨ä¹Ÿå¯ä»¥å¾ˆæœ‰ç”¨ï¼Œè¡¨è¾¾èƒ½åŠ›å¾ˆå¼ºï¼Œæ¯”å¦‚<code>1 to 10</code>ã€‚</li>
<li>ä¸è¦æ»¥ç”¨ï¼Œç”¨åˆ°éƒ½æä¸æ¸…è°æ˜¯è¿ç®—ç¬¦è°æ˜¯æ“ä½œæ•°å°±ä¸å¥½äº†ã€‚</li>
<li>ç»éªŒå°šæµ…ï¼Œè¿˜éœ€å¤šå®è·µã€‚</li>
</ul>
<h2 id="æ§åˆ¶æµ"><a href="#æ§åˆ¶æµ" class="headerlink" title="æ§åˆ¶æµ"></a>æ§åˆ¶æµ</h2><p><code>if-else</code>ï¼š</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mel"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">condition</span>) &#123;<br>    xxx<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">condition</span>) &#123;<br>    xxx<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    xxx<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>scalaä¸­ç‰¹æ®Šä¸€ç‚¹ï¼Œ<code>if-else</code>è¯­å¥ä¹Ÿæœ‰è¿”å›å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä¹Ÿå¯ä»¥ä½œä¸ºè¡¨è¾¾å¼ï¼Œå®šä¹‰ä¸ºæ‰§è¡Œçš„æœ€åä¸€ä¸ªè¯­å¥çš„è¿”å›å€¼ã€‚</li>
<li>å¯ä»¥å¼ºåˆ¶è¦æ±‚è¿”å›<code>Unit</code>ç±»å‹ï¼Œæ­¤æ—¶å¿½ç•¥æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œå¾—åˆ°<code>()</code>ã€‚</li>
<li>å¤šç§è¿”å›ç±»å‹çš„è¯ï¼Œèµ‹å€¼çš„ç›®æ ‡å˜é‡ç±»å‹éœ€è¦æŒ‡å®šä¸ºå…·ä½“å…¬å…±çˆ¶ç±»ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨æ¨æ–­ã€‚</li>
<li>scalaä¸­æ²¡æœ‰ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦ï¼Œå¯ä»¥ç”¨<code>if (a) b else c</code> æ›¿ä»£<code>a ? b : c</code>ã€‚</li>
<li>åµŒå¥—æ¡ä»¶åŒç†ã€‚</li>
</ul>
<p><code>for</code>å¾ªç¯ï¼Œä¹Ÿå«<code>for</code>æ¨å¯¼å¼ï¼š</p>
<ul>
<li><p>èŒƒå›´éå†ï¼š<code>for(i &lt;- 1 to 10) &#123;&#125;</code>ï¼Œå…¶ä¸­<code>1 to 10</code>æ˜¯<code>Int</code>ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼Œè¿”å›ä¸€ä¸ª<code>Range</code>ã€‚</p>
</li>
<li><p>èŒƒå›´<code>1 to 10</code> <code>1 until 10</code>æ˜¯åŒ…å«å³è¾¹ç•Œå’Œä¸åŒ…å«å³è¾¹ç•Œçš„èŒƒå›´ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨<code>Range</code>ç±»ã€‚</p>
</li>
<li><p>èŒƒå›´æ­¥é•¿<code>1 to 10 by 2</code>ã€‚</p>
</li>
<li><p>èŒƒå›´ä¹Ÿæ˜¯ä¸€ä¸ªé›†åˆï¼Œä¹Ÿå¯ä»¥éå†æ™®é€šé›†åˆï¼š<code>for(i &lt;- collection) &#123;&#125;</code></p>
</li>
<li><p>å¾ªç¯å®ˆå«ï¼šå³å¾ªç¯ä¿æŠ¤å¼ï¼Œæˆ–è€…å«æ¡ä»¶åˆ¤æ–­å¼ï¼Œå¾ªç¯å®ˆå«ä¸º<code>true</code></p>
<p>åˆ™è¿›å…¥å¾ªç¯ä½“å†…éƒ¨ï¼Œä¸º<code>fasle</code></p>
<p>åˆ™è·³è¿‡ï¼Œç±»ä¼¼äº<code>continue</code></p>
<ul>
<li>å†™æ³•ï¼š</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">for</span><span class="hljs-params">(i &lt;- collection if condition)</span></span> &#123;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>ç­‰ä»·äºï¼š</li>
</ul>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-function"><span class="hljs-title">if</span> <span class="hljs-params">(i &lt;- collection)</span> &#123;</span><br><span class="hljs-function">    <span class="hljs-title">if</span> <span class="hljs-params">(condition)</span> &#123;</span><br><span class="hljs-function">    &#125;</span><br><span class="hljs-function">&#125;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>åµŒå¥—å¾ªç¯åŒç†ã€‚åµŒå¥—å¾ªç¯å¯ä»¥å°†æ¡ä»¶åˆå¹¶åˆ°ä¸€ä¸ªforä¸­ï¼š</p>
<ul>
<li>æ ‡å‡†å†™æ³•ï¼š</li>
</ul>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-function"><span class="hljs-title">for</span> <span class="hljs-params">(i &lt;- <span class="hljs-number">1</span> to <span class="hljs-number">4</span>)</span> &#123;</span><br><span class="hljs-function">        <span class="hljs-title">for</span> <span class="hljs-params">(j &lt;- <span class="hljs-number">1</span> to <span class="hljs-number">5</span>)</span> &#123;</span><br><span class="hljs-function">            <span class="hljs-title">println</span><span class="hljs-params">(<span class="hljs-string">&quot;i = &quot;</span> + i + <span class="hljs-string">&quot;, j = &quot;</span> + j)</span></span><br><span class="hljs-function">        &#125;</span><br><span class="hljs-function">    &#125;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>ç­‰ä»·å†™æ³•ï¼š</li>
</ul>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-keyword">for</span> (i &lt;- <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> <span class="hljs-number">4</span>; j &lt;- <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> <span class="hljs-number">5</span>) &#123;<br>        println(<span class="hljs-string">&quot;i = &quot;</span> + i + <span class="hljs-string">&quot;, j = &quot;</span> + j)<br>    &#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>å…¸å‹ä¾‹å­ï¼Œä¹˜æ³•è¡¨ï¼š</li>
</ul>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-keyword">for</span> (i &lt;- 1 <span class="hljs-keyword">to</span> 9; j &lt;- 1 <span class="hljs-keyword">to</span> i) &#123;<br>    <span class="hljs-built_in">print</span>(s<span class="hljs-string">&quot;<span class="hljs-variable">$j</span> * <span class="hljs-variable">$i</span> = <span class="hljs-variable">$&#123;i * j&#125;</span> \t&quot;</span>)<br>    <span class="hljs-keyword">if</span> (j == i) println()<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>å¾ªç¯ä¸­çš„å¼•å…¥å˜é‡ï¼Œä½†ä¸æ˜¯å¾ªç¯å˜é‡ï¼š</p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-function"><span class="hljs-title">for</span> <span class="hljs-params">(i &lt;- <span class="hljs-number">1</span> to <span class="hljs-number">10</span>; j = <span class="hljs-number">10</span> - i)</span> &#123;</span><br><span class="hljs-function">    <span class="hljs-title">println</span><span class="hljs-params">(<span class="hljs-string">&quot;i = &quot;</span> + i + <span class="hljs-string">&quot;, j = &quot;</span> + j)</span></span><br><span class="hljs-function">&#125;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>å¾ªç¯æ¡ä»¶ä¹Ÿå¯ä»¥ç”¨<code>&#123;&#125;</code></p>
<ul>
<li>ä¸Šé¢çš„å¼•å…¥å˜é‡å¾ªç¯ç­‰ä»·äºï¼š</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-keyword">for</span> &#123;<br>    <span class="hljs-selector-tag">i</span> &lt;- <span class="hljs-number">1</span> to <span class="hljs-number">10</span><br>    j = <span class="hljs-number">10</span> - <span class="hljs-selector-tag">i</span><br>&#125; &#123;<br>    <span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;i = &quot;</span> + <span class="hljs-selector-tag">i</span> + <span class="hljs-string">&quot;, j = &quot;</span> + j)<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>å¾ªç¯åŒæ ·æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼éƒ½æ˜¯ç©ºï¼Œä¹Ÿå°±æ˜¯<code>Unit</code>å®ä¾‹<code>()</code>ã€‚</p>
</li>
<li><p>å¾ªç¯ä¸­åŒæ ·å¯ä»¥ç”¨<code>yield</code></p>
<p>è¿”å›ï¼Œå¤–é¢å¯ä»¥æ¥ä½ç”¨æ¥æ“ä½œï¼Œå¾ªç¯æš‚åœï¼Œæ‰§è¡Œå®Œåå†ç»§ç»­å¾ªç¯ã€‚å°±åƒRuby&#x2F;Pythonã€‚</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">val</span> v = for (i &lt;- <span class="hljs-number">1</span> to <span class="hljs-number">10</span>) yield i * i // default implementation is Vector, Vector(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">36</span>, <span class="hljs-number">49</span>, <span class="hljs-number">64</span>, <span class="hljs-number">81</span>, <span class="hljs-number">100</span>)<br></code></pre></td></tr></table></figure></li>
</ul>
<p><code>while</code>å’Œ<code>do while</code>ï¼š</p>
<ul>
<li>ä¸ºäº†å…¼å®¹javaï¼Œä¸æ¨èä½¿ç”¨ï¼Œç»“æœç±»å‹æ˜¯<code>Unit</code>ã€‚</li>
<li>ä¸å¯é¿å…éœ€è¦å£°æ˜å˜é‡åœ¨å¾ªç¯å¤–éƒ¨ï¼Œç­‰åŒäºå¾ªç¯å†…éƒ¨å¯¹å¤–éƒ¨å˜é‡é€ æˆäº†å½±å“ï¼Œæ‰€ä»¥ä¸æ¨èä½¿ç”¨ã€‚</li>
</ul>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gcode"><span class="hljs-keyword">while</span> <span class="hljs-comment">(condition)</span> &#123;<br>&#125;<br><span class="hljs-keyword">do</span> &#123;<br>&#125; <span class="hljs-keyword">while</span> <span class="hljs-comment">(condition)</span><br></code></pre></td></tr></table></figure>

<p>å¾ªç¯ä¸­æ–­ï¼š</p>
<ul>
<li><p>Scalaå†…ç½®æ§åˆ¶ç»“æ„å»æ‰äº†<code>break continue</code>å…³é”®å­—ï¼Œä¸ºäº†æ›´å¥½é€‚åº”å‡½æ•°å¼ç¼–ç¨‹ï¼Œæ¨èä½¿ç”¨å‡½æ•°å¼é£æ ¼è§£å†³ã€‚</p>
</li>
<li><p>ä½¿ç”¨<code>breakable</code>ç»“æ„æ¥å®ç°<code>break continue</code>åŠŸèƒ½ã€‚</p>
</li>
<li><p>å¾ªç¯å®ˆå«å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šæ›¿ä»£<code>continue</code>ã€‚</p>
</li>
<li><p>å¯ä»¥ç”¨æŠ›å‡ºå¼‚å¸¸æ•è·çš„æ–¹å¼é€€å‡ºå¾ªç¯ï¼Œæ›¿ä»£break</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-keyword">for</span> (i &lt;- <span class="hljs-number">0</span> to <span class="hljs-number">10</span>) &#123;<br>        <span class="hljs-keyword">if</span> (i == <span class="hljs-number">3</span>)<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RuntimeException</span><br>        <span class="hljs-title function_ invoke__">println</span>(i)<br>    &#125;<br>&#125; <span class="hljs-keyword">catch</span> &#123;<br>    <span class="hljs-keyword">case</span> e: <span class="hljs-built_in">Exception</span> =&gt; <span class="hljs-comment">// do nothing</span><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥ä½¿ç”¨Scalaä¸­çš„<code>Breaks</code>ç±»ä¸­çš„<code>break</code></p>
<p>æ–¹æ³•ï¼ˆåªæ˜¯å°è£…äº†å¼‚å¸¸æ•è·ï¼‰ï¼Œå®ç°å¼‚å¸¸æŠ›å‡ºå’Œæ•è·ã€‚</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import scala<span class="hljs-selector-class">.util</span><span class="hljs-selector-class">.control</span><span class="hljs-selector-class">.Breaks</span><br>Breaks<span class="hljs-selector-class">.breakable</span>(<br>    <span class="hljs-keyword">for</span> (<span class="hljs-selector-tag">i</span> &lt;- <span class="hljs-number">0</span> to <span class="hljs-number">10</span>) &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-selector-tag">i</span> == <span class="hljs-number">3</span>)<br>            Breaks<span class="hljs-selector-class">.break</span>()<br>        <span class="hljs-built_in">println</span>(i)<br>    &#125;<br>)<br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="å‡½æ•°å¼ç¼–ç¨‹"><a href="#å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹"></a>å‡½æ•°å¼ç¼–ç¨‹</h2><p>ä¸åŒèŒƒå¼å¯¹æ¯”ï¼š</p>
<ul>
<li>é¢å‘è¿‡ç¨‹ï¼šæŒ‰ç…§æ­¥éª¤è§£å†³é—®é¢˜ã€‚</li>
<li>é¢å‘å¯¹è±¡ï¼šåˆ†è§£å¯¹è±¡ã€è¡Œä¸ºã€å±æ€§ï¼Œé€šè¿‡å¯¹è±¡å…³ç³»ä»¥åŠè¡Œä¸ºè°ƒç”¨è§£å†³é—®é¢˜ã€‚è€¦åˆä½ï¼Œå¤ç”¨æ€§é«˜ï¼Œå¯ç»´æŠ¤æ€§å¼ºã€‚</li>
<li>å‡½æ•°å¼ç¼–ç¨‹ï¼šé¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹éƒ½æ˜¯å‘½ä»¤å¼ç¼–ç¨‹ï¼Œä½†æ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸å…³å¿ƒå…·ä½“è¿è¡Œè¿‡ç¨‹ï¼Œè€Œæ˜¯å…³å¿ƒæ•°æ®ä¹‹é—´çš„æ˜ å°„ã€‚çº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­æ²¡æœ‰å˜é‡ï¼Œæ‰€æœ‰é‡éƒ½æ˜¯å¸¸é‡ï¼Œè®¡ç®—è¿‡ç¨‹å°±æ˜¯ä¸åœçš„è¡¨è¾¾å¼æ±‚å€¼çš„è¿‡ç¨‹ï¼Œæ¯ä¸€æ®µç¨‹åºéƒ½æœ‰è¿”å›å€¼ã€‚ä¸å…³å¿ƒåº•å±‚å®ç°ï¼Œå¯¹äººæ¥è¯´æ›´å¥½ç†è§£ï¼Œç›¸å¯¹åœ°ç¼–è¯‘å™¨å¤„ç†å°±æ¯”è¾ƒå¤æ‚ã€‚</li>
<li>å‡½æ•°å¼ç¼–ç¨‹ä¼˜ç‚¹ï¼šç¼–ç¨‹æ•ˆç‡é«˜ï¼Œå‡½æ•°å¼ç¼–ç¨‹çš„ä¸å¯å˜æ€§ï¼Œå¯¹äºå‡½æ•°ç‰¹å®šè¾“å…¥è¾“å‡ºæ˜¯ç‰¹å®šçš„ï¼Œä¸ç¯å¢ƒä¸Šä¸‹æ–‡ç­‰æ— å…³ã€‚å‡½æ•°å¼ç¼–ç¨‹æ— å‰¯ä½œç”¨ï¼Œåˆ©äºå¹¶è¡Œå¤„ç†ï¼Œæ‰€ä»¥Scalaç‰¹åˆ«åˆ©äºåº”ç”¨äºå¤§æ•°æ®å¤„ç†ï¼Œæ¯”å¦‚Sparkï¼ŒKafkaæ¡†æ¶ã€‚</li>
</ul>
<p>å‡½æ•°å®šä¹‰ï¼š</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss">def <span class="hljs-built_in">func</span>(arg1: TypeOfArg1, arg2: ...): RetType = &#123;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼ˆå¯ä»¥åƒå¯¹è±¡ä¸€æ ·èµ‹å€¼ã€ä½œä¸ºå‚æ•°è¿”å›å€¼ï¼‰ï¼Œå¯ä»¥åœ¨ä»»ä½•ä»£ç å—ä¸­å®šä¹‰å‡½æ•°ã€‚</li>
<li>ä¸€èˆ¬å°†å®šä¹‰åœ¨ç±»æˆ–å¯¹è±¡ä¸­ï¼ˆæœ€å¤–å±‚ï¼‰çš„å‡½æ•°ç§°ä¸ºæ–¹æ³•ï¼Œè€Œå®šä¹‰åœ¨æ–¹æ³•ä¸­ï¼ˆå†…å±‚ï¼‰çš„ç§°ä¸ºå‡½æ•°ã€‚å¹¿ä¹‰ä¸Šéƒ½æ˜¯å‡½æ•°ã€‚</li>
<li>è¿”å›å€¼ç”¨<code>return</code>è¿”å›ï¼Œä¸å†™çš„è¯ä¼šä½¿ç”¨æœ€åä¸€è¡Œä»£ç ä½œä¸ºè¿”å›å€¼ã€‚</li>
<li>æ— è¿”å›å€¼<code>Unit</code>æ—¶å¯ä»¥ç”¨<code>return</code>å¯ä»¥ç”¨<code>return ()</code>å¯ä»¥ä¸è¿”å›ã€‚</li>
<li>å…¶ä»–æ—¶å€™åªéœ€è¦è¿”å›å€¼æ˜¯è¿”å›å€¼ç±»å‹çš„å­ç±»å¯¹è±¡å°±è¡Œã€‚</li>
</ul>
<p>æœ¯è¯­è¯´æ˜ï¼š</p>
<ul>
<li>javaä¸­ä¸æå‡½æ•°çš„è¯´æ³•ï¼Œè€Œæ˜¯è¯´ç±»æˆ–è€…å®ä¾‹æ–¹æ³•ï¼Œä¸æ¶‰åŠä¸€èˆ¬åŒ–çš„å‡½æ•°ã€‚</li>
<li>å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„å‡½æ•°äºŒå­—æ¥æºäºæ•°å­¦ä¸Šçš„å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯æ˜ å°„ï¼Œé›†åˆå’Œé›†åˆä¹‹é—´çš„å…³ç³»ï¼Œå¼ºè°ƒæ•°æ®ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚</li>
<li>è€Œç¼–ç¨‹è¯­è¨€ä¸­çš„å‡½æ•°ï¼Œä¹ŸåŒ…æ‹¬scalaä¸­çš„å‡½æ•°å®šä¹‰éƒ½æ˜¯æŒ‡çš„ä¸€ä¸ªå®Œæˆç‰¹å®šåŠŸèƒ½çš„å­ç¨‹åºï¼ˆsubroutineï¼‰ï¼Œå¹¶ä¸ç­‰åŒäºæ•°å­¦æ„ä¹‰ä¸Šçš„å‡½æ•°ã€‚</li>
</ul>
<p>å‡½æ•°å‚æ•°ï¼š</p>
<ul>
<li><p>å¯å˜å‚æ•°ï¼Œç±»ä¼¼äºJavaï¼Œä½¿ç”¨æ•°ç»„åŒ…è£…ã€‚</p>
<ul>
<li><code>def f4(str:String*): Unit = &#123;&#125;</code>ã€‚</li>
<li>å¦‚æœé™¤äº†å¯å˜å‚æ•°è¿˜æœ‰å…¶ä»–å‚æ•°ï¼Œéœ€è¦å°†å¯å˜å‚æ•°æ”¾åœ¨æœ«å°¾ã€‚</li>
<li>å¯å˜å‚æ•°å½“åšæ•°ç»„æ¥ä½¿ç”¨ã€‚</li>
</ul>
</li>
<li><p>å‚æ•°é»˜è®¤å€¼:</p>
<ul>
<li><code>def f5(name: String = &quot;alice&quot;): Unit = &#123;&#125;</code></li>
<li>å’ŒC++ä¸€æ ·ï¼Œé»˜è®¤å‚æ•°å¯ä»¥ä¸ä¼ ï¼Œé»˜è®¤å‚æ•°å¿…é¡»å…¨éƒ¨æ”¾åœ¨æœ«å°¾ã€‚</li>
</ul>
</li>
<li><p>å¸¦åç§°ä¼ å‚ï¼š</p>
<ul>
<li>è°ƒç”¨æ—¶å¸¦åç§°ã€‚</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dart">def f6(name: <span class="hljs-built_in">String</span>, age: Int = <span class="hljs-number">20</span>, loc: <span class="hljs-built_in">String</span> = <span class="hljs-string">&quot;BeiJing&quot;</span>): Unit = &#123;<br>    println(s<span class="hljs-string">&quot;name <span class="hljs-subst">$&#123;name&#125;</span>, age <span class="hljs-subst">$&#123;age&#125;</span>, location <span class="hljs-subst">$&#123;loc&#125;</span>&quot;</span>)<br>&#125;<br>f6(<span class="hljs-string">&quot;Bob&quot;</span>)<br>f6(<span class="hljs-string">&quot;Alice&quot;</span>, loc = <span class="hljs-string">&quot;Xi&#x27;An&quot;</span>)<br>f6(<span class="hljs-string">&quot;Michael&quot;</span>, <span class="hljs-number">30</span>)<br></code></pre></td></tr></table></figure>

<ul>
<li>ä¸ç»™åç§°çš„å°±æ˜¯æŒ‰é¡ºåºèµ‹å€¼ã€‚</li>
<li>è°ƒç”¨æ—¶å¸¦åå‚æ•°å¿…é¡»ä½äºå®å‚åˆ—è¡¨æœ«å°¾ã€‚</li>
<li>å’Œé»˜è®¤å‚æ•°ä¸€èµ·ä½¿ç”¨ä¼šå¾ˆæ–¹ä¾¿ï¼Œæ¯”å¦‚æœ‰å¤šä¸ªé»˜è®¤å‚æ•°ï¼Œä½†åªæƒ³è¦†ç›–å…¶ä¸­ä¸€ä¸ªã€‚</li>
</ul>
</li>
</ul>
<p>å‡½æ•°è‡³ç®€åŸåˆ™ï¼š</p>
<ul>
<li><p>èƒ½çœåˆ™çœã€‚</p>
</li>
<li><p>æœ€åä¸€è¡Œä»£ç ä¼šä½œä¸ºè¿”å›å€¼ï¼Œå¯ä»¥çœç•¥<code>return</code>ã€‚</p>
</li>
<li><p>å‡½æ•°ä½“åªæœ‰ä¸€è¡Œä»£ç çš„è¯ï¼Œå¯ä»¥çœç•¥èŠ±æ‹¬å·ã€‚</p>
</li>
<li><p>å¦‚æœè¿”å›å€¼ç±»å‹èƒ½å¤Ÿè‡ªåŠ¨æ¨æ–­é‚£ä¹ˆå¯ä»¥çœç•¥ã€‚</p>
</li>
<li><p>å¦‚æœå‡½æ•°ä½“ä¸­ç”¨<code>return</code>åšè¿”å›ï¼Œé‚£ä¹ˆè¿”å›å€¼ç±»å‹å¿…é¡»æŒ‡å®šã€‚</p>
</li>
<li><p>å¦‚æœå£°æ˜è¿”å›<code>Unit</code>ï¼Œé‚£ä¹ˆå‡½æ•°ä½“ä¸­ä½¿ç”¨<code>return</code>è¿”å›çš„å€¼ä¹Ÿä¸èµ·ä½œç”¨ã€‚</p>
</li>
<li><p>å¦‚æœæœŸæœ›æ˜¯æ— è¿”å›å€¼ç±»å‹ï¼Œé‚£ä¹ˆå¯ä»¥çœç•¥<code>=</code>ã€‚è¿™æ—¶å€™æ²¡æœ‰è¿”å›å€¼ï¼Œå‡½æ•°ä¹Ÿå¯ä»¥å«åšè¿‡ç¨‹ã€‚ã€2.13.0å·²åºŸå¼ƒï¼Œèƒ½ç¼–è¿‡ä¸è¿‡ä¼šæç¤ºã€‚ã€‘</p>
</li>
<li><p>æ— å‚å‡½æ•°å¦‚æœå£°æ˜æ—¶æ²¡æœ‰åŠ <code>()</code>ï¼Œè°ƒç”¨æ—¶å¯ä»¥çœç•¥<code>()</code>ã€‚ã€å¦‚æœå£°æ˜æ—¶æœ‰<code>()</code>è°ƒç”¨ä¹Ÿå¯ä»¥çœç•¥ï¼Œä¸è¿‡2.13.3åºŸå¼ƒäº†ã€‚ã€‘</p>
</li>
<li><p>ä¸å…³å¿ƒå‡½æ•°åç§°æ—¶ï¼Œå‡½æ•°åç§°å’Œdefä¹Ÿå¯ä»¥çœç•¥ï¼Œå»æ‰è¿”å›å€¼ç±»å‹ï¼Œå°†&#x3D;ä¿®æ”¹ä¸º&#x3D;&gt;å®šä¹‰ä¸ºåŒ¿åå‡½æ•°ã€‚</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">val</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> = <span class="hljs-params">(name: <span class="hljs-type">String</span>)</span></span> =&gt; &#123; println(<span class="hljs-string">&quot;name&quot;</span>) &#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<p>åŒ¿åå‡½æ•°ï¼š</p>
<ul>
<li><p>æ²¡æœ‰åç§°çš„å‡½æ•°ï¼Œå¯ä»¥è¢«èµ‹å€¼ç»™ä¸€ä¸ªé‡ã€‚ä¹Ÿå«lambdaè¡¨è¾¾å¼</p>
</li>
<li><p><code>val fun = (name: String) =&gt; &#123; println(&quot;name&quot;) &#125;</code></p>
</li>
<li><p>åŒ¿åå‡½æ•°å®šä¹‰æ—¶ä¸èƒ½æœ‰å‡½æ•°çš„è¿”å›å€¼ç±»å‹ã€‚</p>
</li>
<li><p>ç®€åŒ–åŸåˆ™ï¼š</p>
<ul>
<li>å‚æ•°çš„ç±»å‹å¯ä»¥çœç•¥ï¼Œå¦‚æœå¯ä»¥æ ¹æ®é«˜é˜¶å‡½æ•°å½¢å‚è‡ªåŠ¨æ¨å¯¼ã€‚</li>
<li>ç±»å‹çœç•¥ä¹‹åå¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå¯ä»¥çœç•¥å‚æ•°åˆ—è¡¨çš„<code>()</code>ï¼Œ<code>name =&gt; println(name)</code>ã€‚</li>
<li>åŒ¿åå‡½æ•°å‡½æ•°ä½“åªè¦ä¸€è¡Œï¼Œé‚£ä¹ˆ<code>&#123;&#125;</code>å¯ä»¥çœç•¥ã€‚</li>
<li>å¦‚æœå‚æ•°åªå‡ºç°ä¸€æ¬¡ï¼Œåˆ™å‚æ•°å¯ä»¥çœç•¥ï¼Œåé¢å‡ºç°çš„å‚æ•°ç”¨<code>_</code>ä»£æ›¿ï¼Œ<code>println(_)</code>ä¹Ÿæ˜¯ä¸€ä¸ªlambdaï¼Œè¡¨ç¤º<code>name =&gt; &#123;println(name)&#125;</code>ã€‚</li>
<li>å¦‚æœå¯ä»¥æ¨æ–­å‡ºå½“å‰ä¼ å…¥çš„<code>println</code>æ˜¯ä¸€ä¸ªå‡½æ•°ä½“ï¼Œè€Œä¸æ˜¯å‡½æ•°è°ƒç”¨è¯­å¥ï¼Œé‚£ä¹ˆå¯ä»¥çœç•¥ä¸‹åˆ’çº¿ã€‚ä¹Ÿå°±æ˜¯çœç•¥äº†è½¬è°ƒï¼Œç›´æ¥å°†å‡½æ•°åç§°ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</li>
</ul>
<figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs isbl"><span class="hljs-variable">def</span> <span class="hljs-function"><span class="hljs-title">f</span>(<span class="hljs-variable">func</span>: <span class="hljs-variable">String</span> =&gt; <span class="hljs-variable">Unit</span>): <span class="hljs-variable">Unit</span> = &#123;</span><br><span class="hljs-function">    <span class="hljs-title">func</span>(<span class="hljs-string">&quot;alice&quot;</span>)</span><br>&#125;<br><span class="hljs-function"><span class="hljs-title">f</span>((<span class="hljs-variable">name</span>: <span class="hljs-variable">String</span>) =&gt; &#123; <span class="hljs-title">println</span>(<span class="hljs-variable">name</span>) &#125;)</span><br><span class="hljs-function"><span class="hljs-title">f</span>((<span class="hljs-variable">name</span>) =&gt; <span class="hljs-title">println</span>(<span class="hljs-variable">name</span>))</span><br><span class="hljs-function"><span class="hljs-title">f</span>(<span class="hljs-title">println</span>(<span class="hljs-variable">_</span>))</span><br><span class="hljs-function"><span class="hljs-title">f</span>(<span class="hljs-variable">println</span>)</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>ä¾‹å­ï¼šçœå¾—å¤ªæç«¯å°±æ²¡æœ‰å¯è¯»æ€§äº†ã€‚</p>
</li>
</ul>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">def dual<span class="hljs-constructor">Op(<span class="hljs-params">func</span>: (Int, Int)</span> =&gt; Int): Int = &#123;<br>    func(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>&#125;<br>println(dual<span class="hljs-constructor">Op((<span class="hljs-params">a</span>: Int, <span class="hljs-params">b</span>: Int)</span> =&gt; a + b))<br>println(dual<span class="hljs-constructor">Op((<span class="hljs-params">a</span>: Int, <span class="hljs-params">b</span>: Int)</span> =&gt; a - b))<br>println(dual<span class="hljs-constructor">Op((<span class="hljs-params">a</span>, <span class="hljs-params">b</span>)</span> =&gt; a - b))<br>println(dual<span class="hljs-constructor">Op(<span class="hljs-params">_</span> + <span class="hljs-params">_</span>)</span>) <span class="hljs-comment">// a + b</span><br>println(dual<span class="hljs-constructor">Op(-<span class="hljs-params">_</span> + <span class="hljs-params">_</span>)</span>) <span class="hljs-comment">// -a + b</span><br></code></pre></td></tr></table></figure>

<p>é«˜é˜¶å‡½æ•°ï¼š</p>
<ul>
<li>ä¸‰ç§å½¢å¼ï¼šå‡½æ•°ä½œä¸ºå€¼ä¼ é€’ã€å‡½æ•°ä½œä¸ºå‚æ•°ã€å‡½æ•°ä½œä¸ºè¿”å›å€¼ã€‚</li>
<li>ä½œä¸ºå€¼ä¼ é€’ï¼šç»è¿‡èµ‹å€¼ä¹‹ååœ¨åº•å±‚å˜æˆä¸€ä¸ªlambdaå¯¹è±¡ã€‚</li>
</ul>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> define <span class="hljs-keyword">function</span><br>def foo(n: Int): Int = &#123;<br>    println(<span class="hljs-string">&quot;call foo&quot;</span>)<br>    n + <span class="hljs-number">1</span><br>&#125;<br><span class="hljs-regexp">//</span> <span class="hljs-keyword">function</span> assign to value, also a object<br>val <span class="hljs-keyword">func</span> = foo _ <span class="hljs-regexp">//</span> represent the <span class="hljs-keyword">function</span> foo, not <span class="hljs-keyword">function</span> call<br>val func1: Int =&gt; Int = foo <span class="hljs-regexp">//</span> specify the type of func1<br>println(<span class="hljs-keyword">func</span>) <span class="hljs-regexp">//</span> Main$$<span class="hljs-variable">$Lambda</span><span class="hljs-variable">$674</span>/<span class="hljs-number">0</span>x000000080103c588@<span class="hljs-number">770</span>beef5<br>println(<span class="hljs-keyword">func</span> == func1) <span class="hljs-regexp">//</span> false, not a same object<br></code></pre></td></tr></table></figure>

<ul>
<li>å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œä¸Šé¢å±•ç¤ºè¿‡äº†ã€‚å¯ä»¥ä¼ åŒ¿åå‡½æ•°ã€å‡½æ•°åç§°ã€lambdaå¯¹è±¡ã€‚</li>
</ul>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">// <span class="hljs-keyword">function</span> <span class="hljs-keyword">as</span> arguments<br>def dualEval(op: (<span class="hljs-type">Int</span>, <span class="hljs-type">Int</span>) =&gt; <span class="hljs-type">Int</span>, a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>) = &#123;<br>    op(a, b)<br>&#125;<br>def <span class="hljs-keyword">add</span>(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>): <span class="hljs-type">Int</span> = a + b<br>println(dualEval(<span class="hljs-keyword">add</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>))<br>val mul:(<span class="hljs-type">Int</span>, <span class="hljs-type">Int</span>) =&gt; <span class="hljs-type">Int</span> = _ * _<br>println(dualEval(mul, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>))<br>println(dualEval((a, b) =&gt; a + b, <span class="hljs-number">1000</span>, <span class="hljs-number">24</span>))<br></code></pre></td></tr></table></figure>

<ul>
<li>å‡½æ•°ä½œä¸ºè¿”å›å€¼ï¼š</li>
</ul>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// function as return value</span><br>def <span class="hljs-built_in">outerFunc</span>(): Int =&gt; Unit = &#123;<br>    def <span class="hljs-built_in">inner</span>(a: Int): Unit = &#123;<br>        <span class="hljs-built_in">println</span>(s&quot;call inner with argument $&#123;a&#125;&quot;)<br>    &#125;<br>    inner <span class="hljs-comment">// return a function</span><br>&#125;<br><span class="hljs-built_in">println</span>(outerFunc()(<span class="hljs-number">10</span>)) <span class="hljs-comment">// inner return ()</span><br></code></pre></td></tr></table></figure>

<ul>
<li>ç°åœ¨å°±å¯ä»¥å¥—å¨ƒäº†ï¼Œæ¯”å¦‚å®šä¹‰ä¸€ä¸ªè¿”å›ä¸€ä¸ªè¿”å›å‡½æ•°çš„å‡½æ•°çš„å‡½æ•°ã€‚</li>
</ul>
<p>é«˜é˜¶å‡½æ•°ä¸¾ä¾‹ï¼š</p>
<ul>
<li>ä½¿ç”¨ç‰¹å®šæ“ä½œå¤„ç†æ•°ç»„å…ƒç´ ï¼Œå¾—åˆ°æ–°æ•°ç»„ã€‚ä¹Ÿå°±æ˜¯é›†åˆå¤„ç†çš„mapï¼ˆæ˜ å°„ï¼‰æ“ä½œã€‚</li>
</ul>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">// deal with an array, get a new array</span><br><span class="hljs-comment">// map operation of array</span><br>def <span class="hljs-built_in">array</span><span class="hljs-constructor">Op(<span class="hljs-params">arr</span>: Array[Int], <span class="hljs-params">op</span>: Int =&gt; Int)</span>: Array<span class="hljs-literal">[I<span class="hljs-identifier">nt</span>]</span> = &#123;<br>    <span class="hljs-keyword">for</span> (elem &lt;- arr) yield op(elem) <span class="hljs-comment">// the whole for expression get a new array</span><br>&#125;<br><span class="hljs-keyword">val</span> arr = <span class="hljs-constructor">Array(1, 2, 3, 4)</span><br>def add<span class="hljs-constructor">One(<span class="hljs-params">elem</span>: Int)</span>: Int = elem + <span class="hljs-number">1</span><br>println(<span class="hljs-built_in">array</span><span class="hljs-constructor">Op(<span class="hljs-params">arr</span>, <span class="hljs-params">addOne</span> <span class="hljs-params">_</span>)</span>.mk<span class="hljs-constructor">String(<span class="hljs-string">&quot;, &quot;</span>)</span>) <span class="hljs-comment">// pass addOne also work</span><br>println(<span class="hljs-built_in">array</span><span class="hljs-constructor">Op(<span class="hljs-params">arr</span>, <span class="hljs-params">elem</span> =&gt; <span class="hljs-params">elem</span> <span class="hljs-operator">*</span> 2)</span>.mk<span class="hljs-constructor">String(<span class="hljs-string">&quot;, &quot;</span>)</span>)<br>println(<span class="hljs-built_in">array</span><span class="hljs-constructor">Op(<span class="hljs-params">arr</span>, <span class="hljs-params">_</span> <span class="hljs-operator">*</span> 3)</span>.mk<span class="hljs-constructor">String(<span class="hljs-string">&quot;, &quot;</span>)</span>)<br></code></pre></td></tr></table></figure>

<ul>
<li>å¥—å¨ƒï¼š</li>
</ul>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-keyword">def</span> func(a: <span class="hljs-keyword">Int</span>): String =&gt; (<span class="hljs-keyword">Char</span> =&gt; <span class="hljs-keyword">Boolean</span>) = &#123;<br>    <span class="hljs-keyword">def</span> f1(s: String): <span class="hljs-keyword">Char</span> =&gt; <span class="hljs-keyword">Boolean</span> = &#123;<br>        <span class="hljs-keyword">def</span> f2(c: <span class="hljs-keyword">Char</span>): <span class="hljs-keyword">Boolean</span> = &#123; <br>            <span class="hljs-keyword">if</span> (a == <span class="hljs-number">0</span> &amp;&amp; s == <span class="hljs-string">&quot;&quot;</span> &amp;&amp; c == <span class="hljs-string">&#x27;0&#x27;</span>) <span class="hljs-keyword">false</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">true</span><br>        &#125;<br>        f2<br>    &#125;<br>    f1<br>&#125;<br><span class="hljs-keyword">println</span>(func(<span class="hljs-number">0</span>)(<span class="hljs-string">&quot;&quot;</span>)(<span class="hljs-string">&#x27;0&#x27;</span>)) <span class="hljs-comment">// false</span><br><span class="hljs-keyword">println</span>(func(<span class="hljs-number">1</span>)(<span class="hljs-string">&quot;hello&quot;</span>)(<span class="hljs-string">&#x27;c&#x27;</span>)) <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>

<ul>
<li>ä¸Šé¢çš„ä¾‹å­ç»è¿‡æè‡´ç®€å†™ï¼šåªèƒ½è¯´ç±»å‹æ¨å¯¼ä¹Ÿå¤ªå¼ºå¤§äº†ã€‚<strong>å†…å±‚å‡½æ•°å¯ä»¥ä½¿ç”¨å¤–å±‚å‡½æ•°çš„å‚æ•°</strong>ã€‚</li>
</ul>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">// simplify to anonymous function</span><br>def func1(a: Int): <span class="hljs-function"><span class="hljs-params">String</span> =&gt;</span> (<span class="hljs-function"><span class="hljs-params">Char</span> =&gt;</span> <span class="hljs-built_in">Boolean</span>) = &#123;<br>    s =&gt; <span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> !(a == <span class="hljs-number">0</span> &amp;&amp; s == <span class="hljs-string">&quot;&quot;</span> &amp;&amp; c == <span class="hljs-string">&#x27;0&#x27;</span>)<br>&#125;<br>println(func1(<span class="hljs-number">0</span>)(<span class="hljs-string">&quot;&quot;</span>)(<span class="hljs-string">&#x27;0&#x27;</span>)) <span class="hljs-comment">// false</span><br>println(func1(<span class="hljs-number">1</span>)(<span class="hljs-string">&quot;hello&quot;</span>)(<span class="hljs-string">&#x27;c&#x27;</span>)) <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>

<ul>
<li>æŸ¯é‡ŒåŒ–ä¹‹åï¼š</li>
</ul>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-comment">// Currying </span><br><span class="hljs-keyword">def</span> func2(a: <span class="hljs-keyword">Int</span>)(s: String)(c: <span class="hljs-keyword">Char</span>): <span class="hljs-keyword">Boolean</span> = !(a == <span class="hljs-number">0</span> &amp;&amp; s == <span class="hljs-string">&quot;&quot;</span> &amp;&amp; c == <span class="hljs-string">&#x27;0&#x27;</span>)<br><span class="hljs-keyword">println</span>(func2(<span class="hljs-number">0</span>)(<span class="hljs-string">&quot;&quot;</span>)(<span class="hljs-string">&#x27;0&#x27;</span>)) <span class="hljs-comment">// false</span><br><span class="hljs-keyword">println</span>(func2(<span class="hljs-number">1</span>)(<span class="hljs-string">&quot;hello&quot;</span>)(<span class="hljs-string">&#x27;c&#x27;</span>)) <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>

<p><strong>å‡½æ•°æŸ¯é‡ŒåŒ–</strong>å’Œ<strong>é—­åŒ…</strong>ï¼š<strong>é‡ç‚¹</strong>ã€‚</p>
<p>é—­åŒ…ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°ï¼Œè®¿é—®åˆ°äº†å®ƒçš„å¤–éƒ¨ï¼ˆå±€éƒ¨ï¼‰å˜é‡çš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å’Œä»–æ‰€å¤„çš„ç¯å¢ƒï¼Œç§°ä¸ºé—­åŒ…ã€‚</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%97%AD%E5%8C%85_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)">é—­åŒ…</a>çš„å®šä¹‰ï¼š</li>
</ul>
<blockquote>
<p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œé—­åŒ…ï¼ˆè‹±è¯­ï¼šClosureï¼‰ï¼Œåˆç§°è¯æ³•é—­åŒ…ï¼ˆLexical Closureï¼‰æˆ–å‡½æ•°é—­åŒ…ï¼ˆfunction closuresï¼‰ï¼Œæ˜¯åœ¨æ”¯æŒ<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%A4%B4%E7%AD%89%E5%87%BD%E6%95%B0">å¤´ç­‰å‡½æ•°</a>çš„ç¼–ç¨‹è¯­è¨€ä¸­å®ç°è¯æ³•ç»‘å®šçš„ä¸€ç§æŠ€æœ¯ã€‚é—­åŒ…åœ¨å®ç°ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œå®ƒå­˜å‚¨äº†ä¸€ä¸ªå‡½æ•°ï¼ˆé€šå¸¸æ˜¯å…¶å…¥å£åœ°å€ï¼‰å’Œä¸€ä¸ªå…³è”çš„ç¯å¢ƒï¼ˆç›¸å½“äºä¸€ä¸ªç¬¦å·æŸ¥æ‰¾è¡¨ï¼‰ã€‚ç¯å¢ƒé‡Œæ˜¯è‹¥å¹²å¯¹ç¬¦å·å’Œå€¼çš„å¯¹åº”å…³ç³»ï¼Œå®ƒæ—¢è¦åŒ…æ‹¬çº¦æŸå˜é‡ï¼ˆè¯¥å‡½æ•°å†…éƒ¨ç»‘å®šçš„ç¬¦å·ï¼‰ï¼Œä¹Ÿè¦åŒ…æ‹¬è‡ªç”±å˜é‡ï¼ˆåœ¨å‡½æ•°å¤–éƒ¨å®šä¹‰ä½†åœ¨å‡½æ•°å†…è¢«å¼•ç”¨ï¼‰ï¼Œæœ‰äº›å‡½æ•°ä¹Ÿå¯èƒ½æ²¡æœ‰è‡ªç”±å˜é‡ã€‚é—­åŒ…è·Ÿå‡½æ•°æœ€å¤§çš„ä¸åŒåœ¨äºï¼Œå½“æ•æ‰é—­åŒ…çš„æ—¶å€™ï¼Œå®ƒçš„è‡ªç”±å˜é‡ä¼šåœ¨æ•æ‰æ—¶è¢«ç¡®å®šï¼Œè¿™æ ·å³ä¾¿è„±ç¦»äº†æ•æ‰æ—¶çš„ä¸Šä¸‹æ–‡ï¼Œå®ƒä¹Ÿèƒ½ç…§å¸¸è¿è¡Œã€‚æ•æ‰æ—¶å¯¹äºå€¼çš„å¤„ç†å¯ä»¥æ˜¯å€¼æ‹·è´ï¼Œä¹Ÿå¯ä»¥æ˜¯åç§°å¼•ç”¨ï¼Œè¿™é€šå¸¸ç”±è¯­è¨€è®¾è®¡è€…å†³å®šï¼Œä¹Ÿå¯èƒ½ç”±ç”¨æˆ·è‡ªè¡ŒæŒ‡å®šï¼ˆå¦‚C++ï¼‰ã€‚</p>
</blockquote>
<ul>
<li>å› ä¸ºå¤–å±‚è°ƒç”¨ç»“æŸè¿”å›å†…å±‚å‡½æ•°åï¼Œç»è¿‡å †æ ˆè°ƒæ•´(æ¯”å¦‚åœ¨Cä¸­ä¸»è°ƒæˆ–è€…è¢«è°ƒæ¸…ç†)ï¼Œå¤–å±‚å‡½æ•°çš„å‚æ•°å·²ç»è¢«é‡Šæ”¾äº†ï¼Œæ‰€ä»¥å†…å±‚æ˜¯è·å–ä¸åˆ°å¤–å±‚çš„å‡½æ•°å‚æ•°çš„ã€‚ä¸ºäº†èƒ½å¤Ÿå°†ç¯å¢ƒï¼ˆå‡½æ•°ä¸­ç”¨åˆ°çš„å¹¶éè¯¥å‡½æ•°å‚æ•°çš„å˜é‡å’Œä»–ä»¬çš„å€¼ï¼‰ä¿å­˜ä¸‹æ¥ï¼ˆéœ€è¦è€ƒè™‘é‡Šæ”¾é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡GCå¯ä»¥é€šè¿‡å¯¹è±¡ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ï¼ŒGCæ˜¯ä¸€ä¸ªå¸¸è§é€‰æ‹©ï¼‰ï¼Œè¿™æ—¶ä¼šå°†æ‰§è¡Œçš„ç¯å¢ƒæ‰“ä¸€ä¸ªåŒ…ä¿å­˜åˆ°å †é‡Œé¢ã€‚</li>
</ul>
<p>å‡½æ•°<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%9F%AF%E9%87%8C%E5%8C%96">æŸ¯é‡ŒåŒ–</a>ï¼ˆCurryingï¼‰ï¼šå°†ä¸€ä¸ªå‚æ•°åˆ—è¡¨çš„å¤šä¸ªå‚æ•°ï¼Œå˜æˆå¤šä¸ªå‚æ•°åˆ—è¡¨çš„è¿‡ç¨‹ã€‚ä¹Ÿå°±æ˜¯å°†æ™®é€šå¤šå‚æ•°å‡½æ•°å˜æˆé«˜é˜¶å‡½æ•°çš„è¿‡ç¨‹ã€‚</p>
<ul>
<li>å®šä¹‰ï¼š</li>
</ul>
<blockquote>
<p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŸ¯é‡ŒåŒ–ï¼ˆè‹±è¯­ï¼šCurryingï¼‰ï¼Œåˆè¯‘ä¸ºå¡ç‘åŒ–æˆ–åŠ é‡ŒåŒ–ï¼Œæ˜¯æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°è€Œä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚åœ¨ç›´è§‰ä¸Šï¼ŒæŸ¯é‡ŒåŒ–å£°ç§°â€œå¦‚æœä½ å›ºå®šæŸäº›å‚æ•°ï¼Œä½ å°†å¾—åˆ°æ¥å—ä½™ä¸‹å‚æ•°çš„ä¸€ä¸ªå‡½æ•°â€ã€‚æŸ¯é‡ŒåŒ–æ˜¯ä¸€ç§å¤„ç†å‡½æ•°ä¸­é™„æœ‰å¤šä¸ªå‚æ•°çš„æ–¹æ³•ï¼Œå¹¶åœ¨åªå…è®¸å•ä¸€å‚æ•°çš„æ¡†æ¶ä¸­ä½¿ç”¨è¿™äº›å‡½æ•°ã€‚</p>
</blockquote>
<ul>
<li>scalaä¸­çš„æŸ¯é‡ŒåŒ–å‡½æ•°å®šä¹‰ï¼š</li>
</ul>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-comment">// Currying </span><br><span class="hljs-keyword">def</span> add(a: <span class="hljs-keyword">Int</span>)(b: <span class="hljs-keyword">Int</span>): <span class="hljs-keyword">Int</span> = a + b<br><span class="hljs-keyword">println</span>(add(<span class="hljs-number">4</span>)(<span class="hljs-number">3</span>))<br>val addFour = add(<span class="hljs-number">4</span>) _<br><span class="hljs-comment">// val addFour: Int =&gt; int = add(4)</span><br><span class="hljs-keyword">println</span>(addFour(<span class="hljs-number">3</span>))<br></code></pre></td></tr></table></figure>

<p>é€’å½’ï¼š</p>
<ul>
<li>å¤ªå¸¸è§äº†ï¼Œä¸ç”¨è¿‡å¤šä»‹ç»ã€‚</li>
<li>æ–¹æ³•è°ƒç”¨è‡ªèº«ã€‚</li>
<li>é€’å½’è¦æœ‰ç»“æŸé€»è¾‘ã€‚</li>
<li>è°ƒç”¨è‡ªèº«æ—¶ï¼Œä¼ é€’å‚æ•°è¦æœ‰è§„å¾‹ã€‚</li>
<li>scalaä¸­é€’å½’å®šä¹‰å‡½æ•°å¿…é¡»å£°æ˜è¿”å›å€¼ç±»å‹ï¼Œå› ä¸ºæ— æ³•é€šè¿‡æ¨å¯¼è·å¾—ã€‚</li>
<li>çº¯å‡½æ•°å¼è¯­è¨€æ¯”å¦‚Haskellï¼Œè¿å¾ªç¯éƒ½æ²¡æœ‰ï¼Œå¾ˆå¤šæ“ä½œéƒ½éœ€è¦é€šè¿‡é€’å½’æ¥åšï¼Œæ€§èƒ½æ¯”è¾ƒä¾èµ–å°¾é€’å½’ä¼˜åŒ–ã€‚</li>
<li>scalaä¸­çš„å°¾é€’å½’ä¼˜åŒ–ä¾‹å­ï¼š</li>
</ul>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs scss">def <span class="hljs-built_in">factorial</span>(n: Int) : Int = &#123;<br>    if (n &lt; <span class="hljs-number">0</span>)<br>        return -<span class="hljs-number">1</span><br>    <span class="hljs-built_in">if</span>(n == <span class="hljs-number">0</span>)<br>        return <span class="hljs-number">1</span> <br>    <span class="hljs-built_in">factorial</span>(n-<span class="hljs-number">1</span>) * n<br>&#125;<br><span class="hljs-comment">// tail recusion implementation of factorial</span><br>def <span class="hljs-built_in">tailFact</span>(n: Int): Int = &#123;<br>    if (n &lt; <span class="hljs-number">0</span>)<br>        return -<span class="hljs-number">1</span><br>    <span class="hljs-keyword">@annotation</span>.tailrec<br>    def loop(<span class="hljs-attribute">n</span>: Int, <span class="hljs-attribute">curRes</span>: Int): Int = &#123;<br>        if (n == <span class="hljs-number">0</span>)<br>            return curRes<br>        <span class="hljs-built_in">loop</span>(n - <span class="hljs-number">1</span>, curRes * n)<br>    &#125;<br>    <span class="hljs-built_in">loop</span>(n, <span class="hljs-number">1</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æ§åˆ¶æŠ½è±¡ï¼š</p>
<ul>
<li>å€¼è°ƒç”¨ï¼šæŒ‰å€¼ä¼ é€’å‚æ•°ï¼Œè®¡ç®—å€¼åå†ä¼ é€’ã€‚å¤šæ•°è¯­è¨€ä¸­ä¸€èˆ¬å‡½æ•°è°ƒç”¨éƒ½æ˜¯è¿™ä¸ªæ–¹å¼ï¼ŒC++è¿˜å­˜åœ¨å¼•ç”¨ä¼ é€’ã€‚</li>
<li>åè°ƒç”¨ï¼šæŒ‰åç§°ä¼ é€’å‚æ•°ï¼Œç›´æ¥ç”¨å®å‚æ›¿æ¢å‡½æ•°ä¸­ä½¿ç”¨å½¢å‚çš„åœ°æ–¹ã€‚èƒ½æƒ³åˆ°çš„åªæœ‰Cè¯­è¨€ä¸­çš„å¸¦å‚å®å‡½æ•°ï¼Œå…¶å®å¹¶ä¸æ˜¯å‡½æ•°è°ƒç”¨ï¼Œé¢„å¤„ç†æ—¶ç›´æ¥æ›¿æ¢ã€‚</li>
<li>ä¾‹å­ï¼š</li>
</ul>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// pass by value</span><br>def <span class="hljs-built_in">f0</span>(a: Int): Unit = &#123;<br>    <span class="hljs-built_in">println</span>(&quot;a: &quot; + a)<br>    <span class="hljs-built_in">println</span>(&quot;a: &quot; + a)<br>&#125;<br><span class="hljs-built_in">f0</span>(<span class="hljs-number">10</span>)<br><br><span class="hljs-comment">// pass by name, argument can be a code block that return to Int</span><br>def <span class="hljs-built_in">f1</span>(a: =&gt; Int): Unit = &#123;<br>    <span class="hljs-built_in">println</span>(&quot;a: &quot; + a)<br>    <span class="hljs-built_in">println</span>(&quot;a: &quot; + a)<br>&#125;<br>def <span class="hljs-built_in">f2</span>(): Int = &#123;<br>    <span class="hljs-built_in">println</span>(&quot;call f2()&quot;)<br>    <span class="hljs-number">10</span><br>&#125;<br><span class="hljs-built_in">f1</span>(<span class="hljs-number">10</span>)<br><span class="hljs-built_in">f1</span>(f2()) <span class="hljs-comment">// pass by name, just replace a with f2(), then will call f2() twice</span><br><span class="hljs-built_in">f1</span>(&#123;<br>    println(&quot;code block&quot;) <span class="hljs-comment">// print twice</span><br>    <span class="hljs-number">30</span><br>&#125;)<br></code></pre></td></tr></table></figure>

<ul>
<li>åº”ç”¨ï¼šä½¿ç”¨ä¼ åå‚æ•°å®ç°ä¸€ä¸ªå‡½æ•°ç›¸å½“äºwhileçš„åŠŸèƒ½ã€‚</li>
</ul>
<figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs isbl"><span class="hljs-comment">// built-in while</span><br><span class="hljs-variable">var</span> <span class="hljs-variable">n</span> = <span class="hljs-number">10</span><br><span class="hljs-variable"><span class="hljs-keyword">while</span></span> (<span class="hljs-variable">n</span> &gt;= <span class="hljs-number">1</span>) &#123;<br>    <span class="hljs-function"><span class="hljs-title">print</span>(<span class="hljs-variable">s</span><span class="hljs-string">&quot;$n &quot;</span>)</span><br>    <span class="hljs-variable">n</span> -= <span class="hljs-number">1</span><br>&#125;<br><span class="hljs-function"><span class="hljs-title">println</span>()</span><br><br><span class="hljs-comment">// application: self-defined while, implement a function just like while keyword</span><br><span class="hljs-variable">def</span> <span class="hljs-function"><span class="hljs-title">myWhile</span>(<span class="hljs-variable">condition</span>: =&gt; <span class="hljs-variable">Boolean</span>): (=&gt; <span class="hljs-variable">Unit</span>) =&gt; <span class="hljs-variable">Unit</span> = &#123;</span><br><span class="hljs-function">    <span class="hljs-variable">def</span> <span class="hljs-title">doLoop</span>(<span class="hljs-variable">op</span>: =&gt; <span class="hljs-variable">Unit</span>): <span class="hljs-variable">Unit</span> = &#123;</span><br><span class="hljs-function">        <span class="hljs-variable"><span class="hljs-keyword">if</span></span> (<span class="hljs-variable">condition</span>) &#123;</span><br><span class="hljs-function">            <span class="hljs-variable">op</span></span><br><span class="hljs-function">            <span class="hljs-title">myWhile</span>(<span class="hljs-variable">condition</span>)(<span class="hljs-variable">op</span>)</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-variable">doLoop</span> <span class="hljs-variable">_</span><br>&#125;<br><span class="hljs-variable">n</span> = <span class="hljs-number">10</span><br><span class="hljs-variable">myWhile</span> (<span class="hljs-variable">n</span> &gt;= <span class="hljs-number">1</span>) &#123;<br>    <span class="hljs-function"><span class="hljs-title">print</span>(<span class="hljs-variable">s</span><span class="hljs-string">&quot;$n &quot;</span>)</span><br>    <span class="hljs-variable">n</span> -= <span class="hljs-number">1</span><br>&#125;<br><span class="hljs-function"><span class="hljs-title">println</span>()</span><br><br><span class="hljs-comment">// simplfy</span><br><span class="hljs-variable">def</span> <span class="hljs-function"><span class="hljs-title">myWhile2</span>(<span class="hljs-variable">condition</span>: =&gt; <span class="hljs-variable">Boolean</span>): (=&gt; <span class="hljs-variable">Unit</span>) =&gt; <span class="hljs-variable">Unit</span> = &#123;</span><br><span class="hljs-function">    <span class="hljs-variable">op</span> =&gt; &#123;</span><br><span class="hljs-function">        <span class="hljs-variable"><span class="hljs-keyword">if</span></span> (<span class="hljs-variable">condition</span>) &#123;</span><br><span class="hljs-function">            <span class="hljs-variable">op</span></span><br><span class="hljs-function">            <span class="hljs-title">myWhile2</span>(<span class="hljs-variable">condition</span>)(<span class="hljs-variable">op</span>)</span><br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-variable">n</span> = <span class="hljs-number">10</span><br><span class="hljs-variable">myWhile</span> (<span class="hljs-variable">n</span> &gt;= <span class="hljs-number">1</span>) &#123;<br>    <span class="hljs-function"><span class="hljs-title">print</span>(<span class="hljs-variable">s</span><span class="hljs-string">&quot;$n &quot;</span>)</span><br>    <span class="hljs-variable">n</span> -= <span class="hljs-number">1</span><br>&#125;<br><span class="hljs-function"><span class="hljs-title">println</span>()</span><br><br><span class="hljs-comment">// use currying</span><br><span class="hljs-variable">def</span> <span class="hljs-function"><span class="hljs-title">myWhile3</span>(<span class="hljs-variable">condition</span>: =&gt; <span class="hljs-variable">Boolean</span>)(<span class="hljs-variable">op</span>: =&gt; <span class="hljs-variable">Unit</span>): <span class="hljs-variable">Unit</span> = &#123;</span><br><span class="hljs-function">    <span class="hljs-variable"><span class="hljs-keyword">if</span></span> (<span class="hljs-variable">condition</span>) &#123;</span><br><span class="hljs-function">        <span class="hljs-variable">op</span></span><br><span class="hljs-function">        <span class="hljs-title">myWhile3</span>(<span class="hljs-variable">condition</span>)(<span class="hljs-variable">op</span>)</span><br>    &#125;<br>&#125;<br><span class="hljs-variable">n</span> = <span class="hljs-number">10</span><br><span class="hljs-variable">myWhile3</span> (<span class="hljs-variable">n</span> &gt;= <span class="hljs-number">1</span>) &#123;<br>    <span class="hljs-function"><span class="hljs-title">print</span>(<span class="hljs-variable">s</span><span class="hljs-string">&quot;$n &quot;</span>)</span><br>    <span class="hljs-variable">n</span> -= <span class="hljs-number">1</span><br>&#125;<br><span class="hljs-function"><span class="hljs-title">println</span>()</span><br></code></pre></td></tr></table></figure>

<p>æƒ°æ€§åŠ è½½ï¼š</p>
<ul>
<li>å½“å‡½æ•°è¿”å›å€¼è¢«å£°æ˜ä¸º<code>lazy</code>æ—¶ï¼Œå‡½æ•°çš„æ‰§è¡Œå°†ä¼šè¢«æ¨è¿Ÿï¼ŒçŸ¥é“æˆ‘ä»¬é¦–æ¬¡å¯¹æ­¤å–å€¼ï¼Œè¯¥å‡½æ•°æ‰ä¼šè¢«æ‰§è¡Œã€‚è¿™ç§å‡½æ•°æˆä¸ºæƒ°æ€§å‡½æ•°ã€‚</li>
</ul>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-keyword">def</span> main(args: Array[String]): Unit = &#123;<br>    <span class="hljs-comment">// just like pass by name</span><br>    lazy val result: <span class="hljs-keyword">Int</span> = sum(<span class="hljs-number">13</span>, <span class="hljs-number">47</span>)<br>    <span class="hljs-keyword">println</span>(<span class="hljs-string">&quot;before lazy load&quot;</span>)<br>    <span class="hljs-keyword">println</span>(s<span class="hljs-string">&quot;result = $&#123;result&#125;&quot;</span>) <span class="hljs-comment">// first call sum(13, 47)</span><br>    <span class="hljs-keyword">println</span>(s<span class="hljs-string">&quot;result = $&#123;result&#125;&quot;</span>) <span class="hljs-comment">// result has been evaluated</span><br>&#125;<br><span class="hljs-keyword">def</span> sum(a: <span class="hljs-keyword">Int</span>, b: <span class="hljs-keyword">Int</span>): <span class="hljs-keyword">Int</span> = &#123;<br>    <span class="hljs-keyword">println</span>(<span class="hljs-string">&quot;call sum&quot;</span>)<br>    a + b<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>æœ‰ç‚¹åƒä¼ åå‚æ•°ï¼Œä½†æ‡’åŠ è½½åªæ˜¯æ¨è¿Ÿæ±‚å€¼åˆ°ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶ï¼Œè€Œä¸æ˜¯å•çº¯æ›¿æ¢ã€‚</li>
</ul>
<h2 id="åŒ…ç®¡ç†"><a href="#åŒ…ç®¡ç†" class="headerlink" title="åŒ…ç®¡ç†"></a>åŒ…ç®¡ç†</h2><p>å…³äºScalaé¢å‘å¯¹è±¡ï¼š</p>
<ul>
<li>Scalaçš„é¢å‘å¯¹è±¡æ€æƒ³æºè‡ªJavaï¼Œå¾ˆå¤šæ¦‚å¿µæ˜¯ä¸€è‡´çš„ã€‚</li>
<li>è¯­æ³•å’Œjavaä¸åŒï¼Œè¡¥å……äº†æ›´å¤šåŠŸèƒ½ã€‚</li>
</ul>
<p>åŒ…ï¼š</p>
<ul>
<li><p><code>package name</code></p>
</li>
<li><p>ä½œç”¨ï¼š</p>
<ul>
<li>åŒºåˆ†ç›¸åŒåå­—ç±»ï¼Œé¿å…åç§°å†²çªã€‚</li>
<li>ç±»å¾ˆå¤šæ—¶ï¼Œåˆ†æ¨¡å—ç®¡ç†ã€‚</li>
<li>è®¿é—®æƒé™æ§åˆ¶ã€‚</li>
</ul>
</li>
<li><p>å‘½åï¼šåŒ…åç§°åªèƒ½æ˜¯å¸¸è§„çš„æ ‡è¯†ç¬¦ï¼ˆå­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼Œæ•°å­—ä¸èƒ½å¼€å¤´ï¼‰ã€‚åŒæ ·<code>.</code>ä½œä¸ºä¸åŒå±‚çº§åˆ†å‰²ç¬¦ï¼Œæ•´ä½“ä½œä¸ºåŒ…åã€‚</p>
</li>
<li><p>å‘½åè§„èŒƒï¼šä¸€èˆ¬æƒ…å†µä¸‹æŒ‰ç…§å¦‚ä¸‹è§„åˆ™å‘½å<code>com.company.projectname.modulename</code>ï¼Œè§†é¡¹ç›®è§„å®šè€Œå®šï¼Œåªæ˜¯ä¸€ä¸ªåç§°è€Œå·²ã€‚</p>
</li>
<li><p>scalaä¸­çš„ä¸¤ç§åŒ…ç®¡ç†æ–¹å¼ï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§ï¼Œjavaé£æ ¼ï¼Œæ¯ä¸ªæºæ–‡ä»¶å£°æ˜ä¸€ä¸ªåŒ…ï¼Œå†™åœ¨æºæ–‡ä»¶æœ€ä¸Šæ–¹ã€‚ä½†æºæ–‡ä»¶ä½ç½®ä¸éœ€è¦å’ŒåŒ…åç›®å½•å±‚çº§ä¸€è‡´ï¼Œåªä»£è¡¨é€»è¾‘å±‚çº§å…³ç³»ï¼Œä¸åƒjavaä¸€æ ·æºæ–‡ä»¶ä¹Ÿå¿…é¡»æŒ‰ç…§åŒ…åç›®å½•å±‚çº§å…³ç³»æ”¾ç½®ã€‚å½“ç„¶æƒ¯ä¾‹æ˜¯å’Œjavaä¸€æ ·æŒ‰ç…§åŒ…åç›®å½•å±‚çº§æ¥æ”¾ç½®ã€‚</li>
<li>ç¬¬äºŒç§ï¼Œç”¨<code>&#123;&#125;</code>åµŒå¥—é£æ ¼å®šä¹‰åŒ…ï¼š</li>
</ul>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">package com &#123;<br>    // code <span class="hljs-keyword">in</span> com package<br>    <span class="hljs-keyword">object</span> <span class="hljs-keyword">Outer</span> &#123;<br>        var <span class="hljs-type">name</span> = &quot;Outer&quot;<br>    &#125;<br>    package <span class="hljs-keyword">inner</span> &#123;<br>        // code <span class="hljs-keyword">in</span> com.<span class="hljs-keyword">inner</span> package<br>        package scala &#123;<br>            // code <span class="hljs-keyword">in</span> com.innner.scala package<br>            <span class="hljs-keyword">object</span> <span class="hljs-keyword">Inner</span> &#123;<br>                def main(args: <span class="hljs-keyword">Array</span>[String]):Unit = &#123;<br>                    println(<span class="hljs-keyword">Outer</span>.name)<br>                    <span class="hljs-keyword">Outer</span>.name = &quot;Inner&quot;<br>                    println(<span class="hljs-keyword">Outer</span>.name)<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125; <br></code></pre></td></tr></table></figure>

<ul>
<li>åµŒå¥—é£æ ¼å¥½å¤„ï¼š<ul>
<li>ä¸€ä¸ªæºæ–‡ä»¶å¯ä»¥å£°æ˜å¤šä¸ªå¹¶åˆ—çš„æœ€é¡¶å±‚çš„åŒ…ã€‚</li>
<li>å­åŒ…ä¸­çš„ç±»å¯ä»¥è®¿é—®çˆ¶åŒ…ä¸­çš„å†…å®¹ï¼Œæ— éœ€å¯¼å…¥ã€‚ä½†å¤–å±‚æ˜¯ä¸èƒ½ç›´æ¥è®¿é—®å†…å±‚çš„ï¼Œéœ€è¦å¯¼å…¥ã€‚</li>
</ul>
</li>
<li>å¦‚æœå•æ–‡ä»¶VsCodeæµ‹è¯•åµŒå¥—åŒ…ï¼Œè€Œä¸æ˜¯ç”¨IDEçš„è¯ï¼Œé‚£å®šä¹‰äº†åŒ…å°±ä¸èƒ½ç›´æ¥æ‰§è¡Œäº†ï¼Œéœ€è¦<code>scalac</code>å…ˆç¼–è¯‘ï¼Œå¹¶æŒ‡å®šå…¥å£ç±»è¿è¡Œã€‚ç¼–è¯‘åçš„å­—èŠ‚ç æ–‡ä»¶å’Œjavaä¸€æ ·ä¼šè‡ªåŠ¨æŒ‰ç…§åŒ…å±‚çº§å…³ç³»æ’åˆ—ã€‚</li>
</ul>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">scalac </span>PackageManagement.<span class="hljs-keyword">scala</span><br><span class="hljs-keyword"></span><span class="hljs-keyword">scala </span>com.inner.<span class="hljs-keyword">scala.Inner </span><br></code></pre></td></tr></table></figure></li>
</ul>
<p>åŒ…å¯¹è±¡ï¼š</p>
<ul>
<li>ä¸ºscalaåŒ…å®šä¹‰ä¸€ä¸ªåŒåçš„å•ä¾‹åŒ…å¯¹è±¡ï¼Œå®šä¹‰åœ¨åŒ…å¯¹è±¡ä¸­çš„æˆå‘˜ï¼Œä½œä¸ºå…¶å¯¹åº”åŒ…ä¸‹çš„æ‰€æœ‰ç±»å’Œå¯¹è±¡çš„å…±äº«å˜é‡ï¼Œå¯ä»¥è¢«ç›´æ¥è®¿é—®ï¼Œæ— éœ€å¯¼å…¥ã€‚</li>
<li>å…³é”®å­—<code>package object</code>ï¼Œéœ€è¦å’ŒåŒ…åœ¨åŒä¸€å±‚çº§ä¸‹ã€‚æ¯”å¦‚ä¸º<code>com.inner</code>åŒ…å®šä¹‰åŒ…å¯¹è±¡çš„è¯ï¼Œå¿…é¡»åœ¨<code>com</code>åŒ…ä¸­ï¼Œå®šä¹‰å½¢å¼<code>package obejct inner &#123; ... &#125;</code>ã€‚</li>
</ul>
<p>åŒ…çš„å¯¼å…¥ï¼š</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-keyword">import</span> users.<span class="hljs-literal">_</span>      <span class="hljs-comment">// å¯¼å…¥åŒ… users ä¸­çš„æ‰€æœ‰æˆå‘˜</span><br><span class="hljs-keyword">import</span> users.User   <span class="hljs-comment">// å¯¼å…¥ç±» User</span><br><span class="hljs-keyword">import</span> users.&#123;User, UserPreferences&#125;      <span class="hljs-comment">// ä»…å¯¼å…¥é€‰æ‹©çš„æˆå‘˜</span><br><span class="hljs-keyword">import</span> users.&#123;UserPreferences =&gt; UPrefs&#125;  <span class="hljs-comment">// å¯¼å…¥ç±»å¹¶ä¸”è®¾ç½®åˆ«å</span><br><span class="hljs-keyword">import</span> users.&#123;User =&gt; <span class="hljs-literal">_</span>, <span class="hljs-literal">_</span>&#125;               <span class="hljs-comment">// å¯¼å…¥å‡ºUserç±»ä»¥å¤–çš„æ‰€æœ‰usersåŒ…ä¸­çš„å†…å®¹</span><br></code></pre></td></tr></table></figure>

<ul>
<li>å¯ä»¥åœ¨ä»»æ„ä½ç½®å¯¼å…¥ï¼ˆä½œç”¨äºä»£ç å—ï¼‰ï¼Œå¯ä»¥è®¾ç½®åˆ«åï¼Œå¯ä»¥é€‰æ‹©æ€§å¯¼å…¥æƒ³è¦å¯¼å…¥çš„å†…å®¹ï¼Œå¯ä»¥å±è”½æŸä¸ªç±»ã€‚</li>
<li>æ‰€æœ‰scalaæºæ–‡ä»¶é»˜è®¤å¯¼å…¥ï¼š</li>
</ul>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> java.lang._<br><span class="hljs-keyword">import</span> scala._<br><span class="hljs-keyword">import</span> scala.Predef._<br></code></pre></td></tr></table></figure>

<h2 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h2><p>ç±»å®šä¹‰ï¼š</p>
<ul>
<li>å›é¡¾javaä¸­ï¼Œå¦‚æœæ˜¯<code>public</code>å‘å¤–å…¬å¼€çš„ï¼Œé‚£ä¹ˆå¿…é¡»å’Œæ–‡ä»¶åä¸€è‡´ï¼Œä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªã€‚ä¸å†™è®¿é—®ä¿®é¥°ç¬¦åˆ™å¯ä»¥å®šä¹‰å¤šä¸ªï¼ŒåŒ…è®¿é—®æƒé™ã€‚</li>
<li>scalaä¸­æ²¡æœ‰<code>public</code>å…³é”®å­—ï¼Œé»˜è®¤å°±æ˜¯å…¬æœ‰ï¼Œä¸èƒ½åŠ <code>public</code>ï¼Œä¸€ä¸ªæ–‡ä»¶å¯ä»¥å†™å¤šä¸ªç±»ï¼Œä¸è¦æ±‚å’Œæ–‡ä»¶åä¸€è‡´ã€‚</li>
</ul>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[descriptor]</span> <span class="hljs-keyword">class</span> <span class="hljs-symbol">classname</span> &#123;<br>    <span class="hljs-comment">// body: fields &amp; methods</span><br><span class="hljs-string">    [descriptor]</span> var/val name: Type = _<br><span class="hljs-string">    [descriptor]</span> method(args: ArgsType): RetType = &#123;<br>        <span class="hljs-comment">// method body</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥æ˜¯ï¼š<code>private</code> <code>protected</code> <code>private [pacakgeName]</code>ï¼Œé»˜è®¤å°±æ˜¯å…¬æœ‰ï¼Œä¸éœ€è¦åŠ ã€‚</li>
<li>æˆå‘˜å¦‚æœéœ€è¦Java Beanè§„èŒƒçš„getterå’Œsetterçš„è¯å¯ä»¥åŠ <code>@scala.beans.BeanProperty</code>ç›¸å½“äºè‡ªåŠ¨åˆ›å»ºï¼Œä¸éœ€è¦æ˜¾å¼å†™å‡ºã€‚</li>
<li>æˆå‘˜ç»™åˆå€¼<code>_</code>ä¼šèµ‹é»˜è®¤å€¼ï¼Œscalaä¸­å®šä¹‰å˜é‡å¿…é¡»èµ‹å€¼ï¼Œå¯ä»¥è¿™æ ·åšã€‚å€¼ç±»å‹çš„å€¼0ï¼Œå¼•ç”¨åˆ™æ˜¯<code>null</code>ã€‚å®šä¹‰å¸¸é‡çš„è¯ä¸èƒ½ç”¨<code>_</code>ï¼Œå› ä¸ºåªèƒ½åˆå§‹åŒ–ä¸€æ¬¡ï¼Œç¼–è¯‘å™¨ä¼šæç¤ºã€‚</li>
</ul>
<p>å°è£…ï¼š</p>
<ul>
<li>Javaçš„å°è£…ï¼šç§æœ‰åŒ–ï¼Œæä¾›getterå’Œsetterã€‚</li>
<li>scalaä¸­è€ƒè™‘åˆ°Javaå¤ªå†—ä½™äº†ï¼Œè„±è£¤å­æ”¾å±ä¸€æ ·ã€‚scalaä¸­çš„å…¬æœ‰å±æ€§ï¼Œåº•å±‚å®é™…ä¸º<code>private</code>ï¼Œå¹¶é€šè¿‡getæ–¹æ³•<code>obj.field()</code>å’Œsetæ–¹æ³•<code>obj.field_=(value)</code>å¯¹å…¶è¿›è¡Œæ“ä½œã€‚æ‰€ä»¥scalaä¸æ¨èè®¾ç½®ä¸º<code>private</code>ã€‚å¦‚æœéœ€è¦å’Œå…¶ä»–æ¡†æ¶äº’æ“ä½œï¼Œå¿…é¡»æä¾›Java Beanè§„èŒƒçš„getterå’Œsetterçš„è¯å¯ä»¥åŠ <code>@scala.beans.BeanProperty</code>æ³¨è§£ã€‚</li>
</ul>
<p>è®¿é—®æƒé™ï¼š</p>
<ul>
<li>Javaä¸­<code>private protected public</code>å’Œé»˜è®¤åŒ…è®¿é—®æƒé™ã€‚</li>
<li>scalaä¸­å±æ€§å’Œæ–¹æ³•é»˜è®¤å…¬æœ‰ï¼Œå¹¶ä¸”ä¸æä¾›<code>public</code>å…³é”®å­—ã€‚</li>
<li><code>private</code>ç§æœ‰ï¼Œç±»å†…éƒ¨å’Œä¼´ç”Ÿå¯¹è±¡å†…å¯ç”¨ã€‚</li>
<li><code>protected</code>ä¿æŠ¤æƒé™ï¼Œscalaä¸­æ¯”javaä¸­ä¸¥æ ¼ï¼Œåªæœ‰åŒç±»ã€å­ç±»å¯è®¿é—®ï¼ŒåŒåŒ…æ— æ³•è®¿é—®ã€‚ã€å› ä¸ºjavaä¸­è¯´å®è¯æœ‰ç‚¹å¥‡æ€ªã€‘</li>
<li><code>private [pacakgeName]</code>å¢åŠ åŒ…è®¿é—®æƒé™ï¼Œåœ¨åŒ…å†…å¯ä»¥è®¿é—®ã€‚</li>
</ul>
<p>æ„é€ å™¨ï¼š</p>
<ul>
<li>åŒ…æ‹¬ä¸»æ„é€ å™¨å’Œè¾…åŠ©æ„é€ å™¨ã€‚</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClassName</span> [<span class="hljs-title">descriptor</span>] [</span>([descriptor][<span class="hljs-keyword">val</span>/<span class="hljs-keyword">var</span>] arg1: Arg1Type, [descriptor][<span class="hljs-keyword">val</span>/<span class="hljs-keyword">var</span>] arg2: ...)] &#123; <span class="hljs-comment">// main constructor, only one, like record in java</span><br>    <span class="hljs-comment">// assist constructor</span><br>    def <span class="hljs-keyword">this</span>(argsList1) &#123;<br>        <span class="hljs-keyword">this</span>(args) <span class="hljs-comment">// call main constructor</span><br>    &#125;<br>    def <span class="hljs-keyword">this</span>(argsList2) &#123; <span class="hljs-comment">// overload constrcutor</span><br>        <span class="hljs-keyword">this</span>(argsList1) <span class="hljs-comment">// can call main constructor or other constructor that call main constructor directly or indirectly</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>ä¾‹å­ï¼š</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">object</span> Constructor &#123;<br>    def main(args: Array[String]): <span class="hljs-built_in">Unit</span> = &#123;<br>        <span class="hljs-keyword">val</span> p: Person = new Person()<br>        p.Person() <span class="hljs-comment">// call main constructor</span><br><br>        <span class="hljs-keyword">val</span> p1 = new Person(<span class="hljs-string">&quot;alice&quot;</span>)<br>        <span class="hljs-keyword">val</span> p2 = new Person(<span class="hljs-string">&quot;bob&quot;</span>, <span class="hljs-number">25</span>)<br>        p1.Person()<br>    &#125;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;<br>    <span class="hljs-keyword">var</span> name: String = _<br>    <span class="hljs-keyword">var</span> age: <span class="hljs-built_in">Int</span> = _<br>    println(<span class="hljs-string">&quot;call main construtor&quot;</span>)<br><br>    def <span class="hljs-keyword">this</span>(name: String) &#123;<br>        <span class="hljs-keyword">this</span>()<br>        println(<span class="hljs-string">&quot;call assist constructor 1&quot;</span>)<br>        <span class="hljs-keyword">this</span>.name = name<br>        println(s<span class="hljs-string">&quot;Person: <span class="hljs-variable">$name</span> <span class="hljs-variable">$age</span>&quot;</span>)<br>    &#125;<br><br>    def <span class="hljs-keyword">this</span>(name: String, age: <span class="hljs-built_in">Int</span>) &#123;<br>        <span class="hljs-keyword">this</span>(name)<br>        <span class="hljs-keyword">this</span>.age = age<br>        println(<span class="hljs-string">&quot;call assist constructor 2&quot;</span>)<br>        println(s<span class="hljs-string">&quot;Person: <span class="hljs-variable">$name</span> <span class="hljs-variable">$age</span>&quot;</span>)<br>    &#125;<br><br>    <span class="hljs-comment">// just a common method, not constructor</span><br>    def Person(): <span class="hljs-built_in">Unit</span> = &#123;<br>        println(<span class="hljs-string">&quot;call Person.Person() method&quot;</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä¸»æ„é€ å™¨å†™åœ¨ç±»å®šä¹‰ä¸Šï¼Œä¸€å®šæ˜¯æ„é€ æ—¶æœ€å…ˆè¢«è°ƒç”¨çš„æ„é€ å™¨ï¼Œæ–¹æ³•ä½“å°±æ˜¯ç±»å®šä¹‰ï¼Œå¯ä»¥åœ¨ç±»ä¸­æ–¹æ³•å®šä¹‰çš„åŒçº§ç¼–å†™é€»è¾‘ï¼Œéƒ½æ˜¯ä¸»æ„é€ å™¨ä¸€éƒ¨åˆ†ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œã€‚</li>
<li>è¾…åŠ©æ„é€ å™¨ç”¨<code>this</code>å®šä¹‰ã€‚</li>
<li>è¾…åŠ©æ„é€ å™¨å¿…é¡»ç›´æ¥æˆ–è€…é—´æ¥è°ƒç”¨ä¸»æ„é€ å™¨ï¼Œè°ƒç”¨å…¶ä»–æ„é€ å¿…é¡»ä½äºç¬¬ä¸€è¡Œã€‚</li>
<li>ä¸»æ„é€ å™¨å’Œè¾…åŠ©æ„é€ å™¨æ˜¯é‡è½½çš„æ–¹æ³•ï¼Œæ‰€ä»¥å‚æ•°åˆ—è¡¨ä¸èƒ½ä¸€è‡´ã€‚</li>
<li>å¯ä»¥å®šä¹‰å’Œç±»ååŒåæ–¹æ³•ï¼Œå°±æ˜¯ä¸€ä¸ªæ™®é€šæ–¹æ³•ã€‚</li>
</ul>
</li>
<li><p>ä¸»æ„é€ å™¨ä¸­å½¢å‚ä¸‰ç§å½¢å¼ï¼šä¸ä½¿ç”¨ä»»ä½•ä¿®é¥°ï¼Œ</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-keyword">var</span><br></code></pre></td></tr></table></figure>

<p>ä¿®é¥°ï¼Œ</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">val</span><br></code></pre></td></tr></table></figure>

<p>ä¿®é¥°ã€‚</p>
<ul>
<li>ä¸ä½¿ç”¨ä»»ä½•ä¿®é¥°é‚£å°±æ˜¯ä¸€ä¸ªå½¢å‚ï¼Œä½†æ­¤æ—¶åœ¨ç±»å†…éƒ½å¯ä»¥è®¿é—®åˆ°è¿™ä¸ªå˜é‡ã€‚é€»è¾‘ä¸Šä¸æ˜¯ä¸€ä¸ªæˆå‘˜ï¼ˆæŠ¥é”™ä¿¡æ¯è¿™ä¹ˆå†™ï¼‰ï¼Œä½†æ˜¯å¯ä»¥è®¿é—®ï¼ŒWTFï¼Ÿï¼Ÿï¼Ÿ</li>
<li>ä½¿ç”¨<code>var val</code>ä¿®é¥°é‚£å°±æ˜¯å®šä¹‰ä¸ºç±»æˆå‘˜ï¼Œåˆ†åˆ«æ˜¯å˜é‡å’Œå¸¸é‡ï¼Œä¸éœ€è¦ä¹Ÿä¸èƒ½åœ¨ç±»å†…å†å®šä¹‰ä¸€ä¸ªåŒåå­—æ®µã€‚è°ƒç”¨æ—¶ä¼ å…¥å‚æ•°å°±ç›´æ¥ç»™åˆ°è¯¥æˆå‘˜ï¼Œä¸éœ€è¦å†æ˜¾å¼èµ‹å€¼ã€‚</li>
<li>ä¸»æ„é€ å™¨ä¸­çš„<code>var val</code>æˆå‘˜ä¹Ÿå¯ä»¥æ·»åŠ è®¿é—®ä¿®é¥°ç¬¦ã€‚</li>
<li>ä¸åŠ å‚æ•°åˆ—è¡¨ç›¸å½“äºä¸ºç©ºï¼Œ<code>()</code>å¯ä»¥çœç•¥ã€‚</li>
<li>ä¸»æ„é€ å™¨çš„è®¿é—®ä¿®é¥°ç¬¦æ·»åŠ åˆ°å‚æ•°åˆ—è¡¨<code>()</code>å‰ã€‚</li>
</ul>
</li>
<li><p>å®è·µæŒ‡å—ï¼š</p>
<ul>
<li>æ¨èä½¿ç”¨scalaé£æ ¼çš„ä¸»æ„é€ å™¨<code>var val</code>ä¿®é¥°å‚æ•°çš„ç¼–å†™æ–¹æ³•ï¼Œè€Œä¸è¦è¢«Javaæ¯’å®³ï¼</li>
<li>å¦‚æœéœ€è¦å¤šç§é‡è½½çš„æ„é€ å™¨é‚£ä¹ˆå°±æ·»åŠ æ–°çš„çš„è¾…åŠ©æ„é€ å™¨ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> name: String) &#123;<br>    <span class="hljs-keyword">var</span> age: <span class="hljs-built_in">Int</span> = _<br>    println(<span class="hljs-string">&quot;call main construtor&quot;</span>)<br><br>    def <span class="hljs-keyword">this</span>(name: String, age: <span class="hljs-built_in">Int</span>) = &#123;<br>        <span class="hljs-keyword">this</span>(name)<br>        <span class="hljs-keyword">this</span>.age = age<br>        println(<span class="hljs-string">&quot;call assist constructor 2&quot;</span>)<br>        println(s<span class="hljs-string">&quot;Person: <span class="hljs-variable">$name</span> <span class="hljs-variable">$age</span>&quot;</span>)<br>    &#125;<br><br>    <span class="hljs-comment">// just a common method, not constructor</span><br>    def Person(): <span class="hljs-built_in">Unit</span> = &#123;<br>        println(<span class="hljs-string">&quot;call Person.Person() method&quot;</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>ç»§æ‰¿ï¼š</p>
<ul>
<li><code>class ChildClassName[(argList1)] extends BaseClassName[(args)] &#123; body &#125;</code></li>
<li>å­ç±»ç»§æ‰¿çˆ¶ç±»å±æ€§å’Œæ–¹æ³•ã€‚</li>
<li>å¯ä»¥è°ƒç”¨çˆ¶ç±»æ„é€ å™¨ï¼Œä½†æ„Ÿè§‰å¥½åƒå¾ˆå±€é™ï¼Œå­ç±»ä¸­åªå¯èƒ½è°ƒç”¨åˆ°ä¸»æ„é€ æˆ–è€…è¾…åŠ©æ„é€ ä¸­çš„å…¶ä¸­ä¸€ä¸ªæ„é€ å™¨ã€‚é‚£å¦‚æœçˆ¶ç±»æœ‰å¤šç§æ„é€ æ–¹å¼ï¼Œå­ç±»æƒ³ç»§æ‰¿ä¹Ÿæ²¡æœ‰åŠæ³•ï¼Ÿåªèƒ½æ˜¯å…¶ä¸­ä¸€ç§ã€‚</li>
<li>ä¸è€ƒè™‘å¤ªå¤šè´Ÿæ‹…ï¼ŒæŒ‰ç…§scalaæƒ¯ç”¨å†™æ³•æ¥å†™èµ·æ¥è¿˜æ˜¯æŒºè½»æ¾çš„ã€‚</li>
</ul>
<p>å¤šæ€ï¼š</p>
<ul>
<li>javaä¸­å±æ€§é™æ€ç»‘å®šï¼Œæ ¹æ®å˜é‡çš„å¼•ç”¨ç±»å‹ç¡®å®šï¼Œæ–¹æ³•æ˜¯åŠ¨æ€ç»‘å®šã€‚</li>
<li>ä½†scalaä¸­<strong>å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯åŠ¨æ€ç»‘å®š</strong>ã€‚å°±å±æ€§è€Œè¨€ï¼Œå…¶å®ä¹Ÿä¸åº”è¯¥åœ¨å­ç±»å’Œçˆ¶ç±»ä¸­å®šä¹‰åŒåå­—æ®µã€‚</li>
<li>åŒjavaä¸€æ ·ï¼Œæ‰€æœ‰å®ä¾‹æ–¹æ³•éƒ½æ˜¯è™šæ–¹æ³•ï¼Œéƒ½å¯ä»¥è¢«å­ç±»è¦†å†™ã€‚</li>
<li><code>override</code>å…³é”®å­—è¦†å†™ã€‚</li>
<li>scalaä¸­<strong>å±æ€§ï¼ˆå­—æ®µï¼‰ä¹Ÿå¯ä»¥è¢«é‡å†™</strong>ï¼ŒåŠ <code>override</code>å…³é”®å­—ã€‚</li>
</ul>
<p>æŠ½è±¡ç±»ï¼š</p>
<ul>
<li><code>abstract calss ClassName</code></li>
<li>æŠ½è±¡å±æ€§ï¼š<code>val/var name: Type</code>ï¼Œä¸ç»™å®šåˆå§‹å€¼ã€‚</li>
<li>æŠ½è±¡æ–¹æ³•ï¼š<code>def methodName(): RetType</code>ï¼Œåªå£°æ˜ä¸å®ç°ã€‚</li>
<li>å­ç±»å¦‚æœæ²¡æœ‰è¦†å†™å…¨éƒ¨çˆ¶ç±»æœªå®šä¹‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œé‚£ä¹ˆå°±å¿…é¡»å®šä¹‰ä¸ºæŠ½è±¡ç±»ã€‚è€ç”Ÿå¸¸è°ˆäº†ã€‚</li>
<li>é‡å†™éæŠ½è±¡æ–¹æ³•å±æ€§å¿…é¡»åŠ <code>override</code>ï¼Œé‡å†™æŠ½è±¡æ–¹æ³•åˆ™å¯ä»¥ä¸åŠ <code>override</code>ã€‚</li>
<li>å­ç±»è°ƒç”¨çˆ¶ç±»ä¸­æ–¹æ³•ä½¿ç”¨<code>super</code>å…³é”®å­—ã€‚</li>
<li>å­ç±»é‡å†™çˆ¶ç±»æŠ½è±¡å±æ€§ï¼Œçˆ¶ç±»æŠ½è±¡å±æ€§å¯ä»¥ç”¨<code>var</code>ä¿®é¥°ï¼Œ<code>val var</code>éƒ½å¯ä»¥ã€‚å› ä¸ºçˆ¶ç±»æ²¡æœ‰å®ç°å˜›ï¼Œéœ€è¦åˆ°å­ç±»ä¸­æ¥å®ç°ã€‚</li>
<li>å¦‚æœæ˜¯<strong>é‡å†™éæŠ½è±¡å±æ€§</strong>ï¼Œåˆ™çˆ¶ç±»éæŠ½è±¡å±æ€§åªæ”¯æŒ<code>val</code>ï¼Œä¸æ”¯æŒ<code>var</code>ã€‚å› ä¸º<code>var</code>ä¿®é¥°ä¸ºå¯å˜é‡ï¼Œå­ç±»ç»§æ‰¿åå¯ä»¥ç›´æ¥ä½¿ç”¨ä¿®æ”¹ï¼Œæ²¡æœ‰å¿…è¦é‡å†™ã€‚<code>val</code>ä¸å¯å˜æ‰æœ‰å¿…è¦é‡å†™ã€‚</li>
<li>å®è·µå»ºè®®æ˜¯é‡å†™å°±åŠ <code>override</code>ï¼Œéƒ½æ˜¯å¾ˆè‡ªç„¶çš„ä¸œè¥¿ï¼Œç†è§£å°±å¥½ï¼Œä¸å¿…çº ç»“äºæ¯ä¸€ä¸ªç»†èŠ‚ã€‚</li>
</ul>
<p>åŒ¿åå­ç±»ï¼›</p>
<ul>
<li>å’Œjavaå¦‚å‡ºä¸€è¾™ã€‚é‡å†™æ‰€æœ‰æŠ½è±¡å­—æ®µå’Œæ–¹æ³•ã€‚</li>
</ul>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs fsharp"><span class="hljs-keyword">val</span><span class="hljs-operator">/</span>var p<span class="hljs-operator">:</span> baseClass <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">baseClass</span> &#123;<br>    <span class="hljs-keyword">override</span> <span class="hljs-operator">...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>ä¼´ç”Ÿå¯¹è±¡ï¼ˆCompanion Objectï¼‰ï¼š</p>
<ul>
<li>å–ä»£<code>static</code>è¯­ä¹‰ã€‚</li>
<li>ç¼–è¯‘åå…¶å®ä¼šç”Ÿæˆä¸¤ä¸ªç±»ï¼Œä¼´ç”Ÿå¯¹è±¡æ˜¯ä¼´ç”Ÿç±»ï¼ˆç±»åä¸ºå¯¹åº”ç±»ååŠ <code>$</code>ç¬¦å·ï¼‰çš„å•ä¾‹å¯¹è±¡ã€‚</li>
<li><code>obejct</code>ï¼Œåç§°å’Œç±»ä¸€è‡´ï¼Œå¿…é¡»æ”¾åŒä¸€ä¸ªæ–‡ä»¶ï¼Œå‰é¢å·²ç»è¯´è¿‡äº†ã€‚</li>
<li>å¸¸è§ç”¨æ³•ï¼šæ„é€ å™¨ç§æœ‰åŒ–ï¼Œç”¨ä¼´ç”Ÿå¯¹è±¡ä¸­çš„å·¥å‚æ–¹æ³•ã€‚å’Œé™æ€å·¥å‚æ–¹æ³•ä½¿ç”¨èµ·æ¥ä¹Ÿæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚</li>
<li>ä¼´ç”Ÿå¯¹è±¡å®ç°<code>apply</code>æ–¹æ³•åè°ƒç”¨æ—¶å¯ä»¥çœç•¥<code>.apply</code>ï¼Œç›´æ¥ä½¿ç”¨<code>className(args)</code>ã€‚åº“ä¸­å¾ˆå¤šè¿™ç§ç”¨æ³•åˆ›å»ºå®ä¾‹ï¼Œæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ã€‚</li>
<li>æµ‹è¯•ä¼´ç”Ÿå¯¹è±¡æ—¶å°±åœ¨è¯¥å¯¹è±¡å†…å®šä¹‰<code>main</code>å‡½æ•°ç¼–è¯‘æ—¶ä¼šå‡ºç°çš„å¥‡æ€ªçš„è®¿é—®æƒé™é—®é¢˜ã€‚å¯èƒ½å¯¹åŒ…å«å…¥å£çš„ä¼´ç”Ÿå¯¹è±¡åšäº†ç‰¹æ®Šå¤„ç†ï¼Œå…·ä½“ç»†èŠ‚å°šä¸æ¸…æ¥šã€‚æœ€å¥½å°†<code>main</code>å®šä¹‰åœ¨å•ç‹¬çš„ä¼´ç”Ÿå¯¹è±¡å†…ã€‚</li>
</ul>
<p>Traitï¼ˆç‰¹å¾&#x2F;ç‰¹è´¨ï¼‰ï¼š</p>
<ul>
<li>æ›¿ä»£javaæ¥å£çš„æ¦‚å¿µã€‚ä½†æ¯”æ¥å£æ›´ä¸ºçµæ´»ï¼Œä¸€ç§å®ç°å¤šç»§æ‰¿çš„æ‰‹æ®µã€‚</li>
<li>å¤šä¸ªç±»å…·æœ‰ç›¸åŒçš„ç‰¹å¾æ—¶ï¼Œå°±å¯ä»¥å°†è¿™ä¸ªç‰¹å¾æå–å‡ºæ¥ï¼Œç”¨ç»§æ‰¿çš„æ–¹å¼æ¥å¤ç”¨ã€‚</li>
<li>ç”¨å…³é”®å­—<code>trait</code>å£°æ˜ã€‚</li>
</ul>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs lasso"><span class="hljs-keyword">trait</span> traitName &#123;<br>    <span class="hljs-params">...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>å¼•å…¥&#x2F;æ··å…¥(mixin)ç‰¹å¾ï¼š<ul>
<li>æœ‰çˆ¶ç±»<code>class extends baseClass with trait1 with trait2 ... &#123;&#125;</code></li>
<li>æ²¡æœ‰çˆ¶ç±»<code>class extends trait1 with trait2 ... &#123;&#125;</code></li>
</ul>
</li>
<li>å…¶ä¸­å¯ä»¥å®šä¹‰æŠ½è±¡å’ŒéæŠ½è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</li>
<li>åŒ¿åå­ç±»ä¹Ÿå¯ä»¥å¼•å…¥ç‰¹å¾ã€‚</li>
<li>ç‰¹å¾å’ŒåŸºç±»æˆ–è€…å¤šä¸ªç‰¹å¾ä¸­é‡åçš„å±æ€§æˆ–æ–¹æ³•éœ€è¦åœ¨å­ç±»ä¸­è¦†å†™ä»¥è§£å†³å†²çªï¼Œæœ€åå› ä¸ºåŠ¨æ€ç»‘å®šï¼Œæ‰€æœ‰ä½¿ç”¨çš„åœ°æ–¹éƒ½æ˜¯å­ç±»çš„å­—æ®µæˆ–æ–¹æ³•ã€‚å±æ€§çš„è¯éœ€è¦ç±»å‹ä¸€è‡´ï¼Œä¸ç„¶æç¤ºä¸å…¼å®¹ã€‚æ–¹æ³•çš„è¯å‚æ•°åˆ—è¡¨ä¸ä¸€è‡´ä¼šè§†ä¸ºé‡è½½è€Œä¸æ˜¯å†²çªã€‚</li>
<li>å¦‚æœåŸºç±»å’Œç‰¹å¾ä¸­çš„å±æ€§æˆ–æ–¹æ³•ä¸€ä¸ªæ˜¯æŠ½è±¡çš„ï¼Œä¸€ä¸ªéæŠ½è±¡ï¼Œä¸”å…¼å®¹ï¼Œé‚£ä¹ˆå¯ä»¥ä¸è¦†å†™ã€‚å¾ˆç›´è§‚ï¼Œå°±æ˜¯ä¸èƒ½å†²çªä¸èƒ½äºŒä¹‰å°±è¡Œã€‚</li>
<li>å¤šä¸ªç‰¹å¾å’ŒåŸºç±»å®šä¹‰äº†åŒåæ–¹æ³•çš„ï¼Œå°±éœ€è¦åœ¨å­ç±»é‡å†™è§£å†³å†²çªã€‚å…¶ä¸­å¯ä»¥è°ƒç”¨çˆ¶ç±»å’Œç‰¹å¾çš„æ–¹æ³•ï¼Œæ­¤æ—¶<code>super.methodName</code>æŒ‡ä»£æŒ‰ç…§é¡ºåºæœ€åä¸€ä¸ªæ‹¥æœ‰è¯¥æ–¹æ³•å®šä¹‰çš„ç‰¹å¾æˆ–åŸºç±»ã€‚ä¹Ÿå¯ä»¥ç”¨<code>super[baseClassOrTraitName].methodName</code>ç›´æ¥æŒ‡ä»£æŸä¸ªåŸºç±»çš„æ–¹æ³•ï¼Œæ³¨æ„éœ€è¦æ˜¯ç›´æ¥åŸºç±»ï¼Œé—´æ¥åŸºç±»åˆ™ä¸è¡Œã€‚</li>
<li>ä¹Ÿå°±æ˜¯è¯´åŸºç±»å’Œç‰¹å¾åŸºæœ¬æ˜¯åŒç­‰åœ°ä½ã€‚</li>
<li>ä¾‹å­ï¼š</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;<br>    <span class="hljs-keyword">val</span> name: <span class="hljs-type">String</span> = <span class="hljs-string">&quot;Person&quot;</span><br>    <span class="hljs-keyword">var</span> age: <span class="hljs-type">Int</span> = <span class="hljs-number">18</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sayHi</span></span>(): <span class="hljs-type">Unit</span> = &#123;<br>        println(<span class="hljs-string">s&quot;hello from : <span class="hljs-subst">$name</span>&quot;</span>)<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Young</span> </span>&#123;<br>    <span class="hljs-comment">// abstract and non-abstract attribute</span><br>    <span class="hljs-keyword">var</span> age: <span class="hljs-type">Int</span><br>    <span class="hljs-keyword">val</span> name: <span class="hljs-type">String</span> = <span class="hljs-string">&quot;young&quot;</span><br><br>    <span class="hljs-comment">// method</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">play</span></span>(): <span class="hljs-type">Unit</span> = &#123;<br>        println(<span class="hljs-string">s&quot;young people <span class="hljs-subst">$name</span> is playing&quot;</span>)<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dating</span></span>(): <span class="hljs-type">Unit</span><br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Knowledge</span> </span>&#123;<br>    <span class="hljs-keyword">var</span> amount: <span class="hljs-type">Int</span> = <span class="hljs-number">0</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">increase</span></span>(): <span class="hljs-type">Unit</span> = &#123;<br>        amount += <span class="hljs-number">1</span><br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Talent</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">increase</span></span>(): <span class="hljs-type">Unit</span> = &#123;<br>        println(<span class="hljs-string">&quot;increase talent&quot;</span>)<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Person</span> <span class="hljs-keyword">with</span> <span class="hljs-title">Young</span> <span class="hljs-keyword">with</span> <span class="hljs-title">Knowledge</span> <span class="hljs-keyword">with</span> <span class="hljs-title">Talent</span></span>&#123;<br>    <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> name: <span class="hljs-type">String</span> = <span class="hljs-string">&quot;alice&quot;</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dating</span></span>(): <span class="hljs-type">Unit</span> = &#123;<br>        println(<span class="hljs-string">s&quot;Sutdent <span class="hljs-subst">$name</span> <span class="hljs-subst">$age</span> is dating&quot;</span>)<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">study</span></span>(): <span class="hljs-type">Unit</span> = println(<span class="hljs-string">s&quot;Student <span class="hljs-subst">$name</span> is studying&quot;</span>)<br><br>    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sayHi</span></span>(): <span class="hljs-type">Unit</span> = &#123;<br>        <span class="hljs-keyword">super</span>.sayHi()<br>        println(<span class="hljs-string">s&quot;hello from : student <span class="hljs-subst">$name</span>&quot;</span>)<br>    &#125;<br><br>    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">increase</span></span>(): <span class="hljs-type">Unit</span> = &#123;<br>        <span class="hljs-keyword">super</span>.increase() <span class="hljs-comment">// call Talent.increase(), just the last</span><br>        println(<span class="hljs-string">s&quot;studnet <span class="hljs-subst">$name</span> knowledge increase: <span class="hljs-subst">$amount</span>&quot;</span>)<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Trait</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = &#123;<br>        <span class="hljs-keyword">val</span> s = <span class="hljs-keyword">new</span> <span class="hljs-type">Student</span>()<br>        s.sayHi()<br>        s.increase()<br><br>        s.study()<br>        s.increase()<br><br>        s.play()<br>        s.increase()<br><br>        s.dating()<br>        s.increase()<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>ç‰¹å¾çš„ç»§æ‰¿ï¼š<code>trait childTrait extends baseTrait</code></li>
<li>ç‰¹å¾çš„<strong>è±å½¢ç»§æ‰¿</strong>è§£å†³æ–¹å¼ï¼šè½¬æ¢ä¸ºçº¿æ€§çš„ç»§æ‰¿é“¾æ¡ï¼Œåœ¨å‰é¢çš„æˆä¸ºåŸºç±»ï¼Œåé¢çš„æˆä¸ºå­ç±»ã€‚</li>
<li>ä¾‹å­ï¼š</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Ball</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">describe</span></span>(): <span class="hljs-type">String</span> = <span class="hljs-string">&quot;ball&quot;</span><br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">ColorBall</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Ball</span> </span>&#123;<br>    <span class="hljs-keyword">var</span> color: <span class="hljs-type">String</span> = <span class="hljs-string">&quot;red&quot;</span><br>    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">describe</span></span>(): <span class="hljs-type">String</span> = color + <span class="hljs-string">&quot;_&quot;</span> + <span class="hljs-keyword">super</span>.describe()<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">CategoryBall</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Ball</span> </span>&#123;<br>    <span class="hljs-keyword">var</span> category: <span class="hljs-type">String</span> = <span class="hljs-string">&quot;foot&quot;</span><br>    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">describe</span></span>(): <span class="hljs-type">String</span> = category + <span class="hljs-string">&quot;_&quot;</span> + <span class="hljs-keyword">super</span>.describe()<br>&#125;<br><br><span class="hljs-comment">// equals to MyFootBall -&gt; ColorBall -&gt; CategoryBall -&gt; Ball</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyFootBall</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CategoryBall</span> <span class="hljs-keyword">with</span> <span class="hljs-title">ColorBall</span> </span>&#123;<br>    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">describe</span></span>(): <span class="hljs-type">String</span> = <span class="hljs-keyword">super</span>.describe()<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">TraitInheritance</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = &#123;<br>        <span class="hljs-keyword">val</span> b = <span class="hljs-keyword">new</span> <span class="hljs-type">MyFootBall</span>()<br>        println(b.describe()) <span class="hljs-comment">// red_foot_ball</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>å…¶å®ç‰¹å¾çš„å¤šç»§æ‰¿å’ŒC++çš„å¤šç»§æ‰¿å·²ç»å¾ˆåƒäº†ï¼Œåªæ˜¯åç§°å†²çªçš„è§£å†³æ–¹å¼ä¸ä¸€æ ·ï¼Œè±å½¢ç»§æ‰¿çš„è§£å†³æ–¹å¼ä¹Ÿä¸ä¸€æ ·ï¼Œè€Œä¸”ä¸èƒ½è®¿é—®é—´æ¥åŸºç±»ã€‚</li>
<li>scala<strong>å•ç»§æ‰¿å¤šå®ç°</strong>ï¼Œå®ç°ä½“ç°åœ¨ç‰¹å¾ä¸Šã€‚åŸºç±»ä¸»è¦ç”¨äºä¸€ä¸ªå¯¹è±¡æ¯”è¾ƒæ ¸å¿ƒæ¯”è¾ƒæœ¬è´¨çš„éƒ¨åˆ†ä¸Šã€‚</li>
<li><strong>ç»§æ‰¿ç‰¹å¾ä¸ç±»çš„åŒºåˆ«</strong>ï¼šç‰¹å¾æ„é€ æ—¶ä¸èƒ½ç»™å‚æ•°ã€‚å…¶ä»–éƒ½æ˜¯åŒæ ·çš„ï¼Œéƒ½å¯ä»¥å®ç°å¤šæ€ã€‚</li>
</ul>
<p>è‡ªèº«ç±»å‹ï¼ˆself typeï¼‰ï¼š</p>
<ul>
<li>å¯å®ç°<strong>ä¾èµ–æ³¨å…¥</strong>çš„åŠŸèƒ½ã€‚</li>
<li>ä¸€ä¸ªç±»æˆ–è€…ç‰¹å¾æŒ‡å®šäº†è‡ªèº«ç±»å‹çš„è¯ï¼Œå®ƒçš„å¯¹è±¡å’Œå­ç±»å¯¹è±¡å°±ä¼šæ‹¥æœ‰è¿™ä¸ªè‡ªèº«ç±»å‹ä¸­çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚</li>
<li>æ˜¯å°†ä¸€ä¸ªç±»æˆ–è€…ç‰¹å¾æ’å…¥åˆ°å¦ä¸€ä¸ªç±»æˆ–è€…ç‰¹å¾ä¸­ï¼Œå±æ€§å’Œæ–¹æ³•éƒ½å°±åƒç›´æ¥å¤åˆ¶æ’å…¥è¿‡æ¥ä¸€æ ·ï¼Œèƒ½ç›´æ¥ä½¿ç”¨ã€‚ä½†ä¸æ˜¯ç»§æ‰¿ï¼Œä¸èƒ½ç”¨å¤šæ€ã€‚</li>
<li>è¯­æ³•ï¼Œåœ¨ç±»æˆ–ç‰¹å¾ä¸­ï¼š<code>_: SelfType =&gt;</code>ï¼Œå…¶ä¸­<code>_</code>çš„ä½ç½®æ˜¯åˆ«åå®šä¹‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ï¼Œ<code>_</code>æŒ‡ä»£<code>this</code>ã€‚æ’å…¥åå°±å¯ä»¥ç”¨<code>this.xxx</code>æ¥è®¿é—®è‡ªèº«ç±»å‹ä¸­çš„å±æ€§å’Œæ–¹æ³•äº†ã€‚</li>
<li>æ³¨å…¥è¿›æ¥çš„ç›®çš„æ˜¯è®©ä½ èƒ½å¤Ÿä½¿ç”¨ï¼Œå¯è§ï¼Œæå‰ä½¿ç”¨åº”è¯¥æ‹¥æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚æœ€ç»ˆåªè¦è‡ªèº«ç±»å‹å’Œæ³¨å…¥ç›®æ ‡ç±»å‹åŒæ—¶è¢«ç»§æ‰¿å°±èƒ½å¤Ÿå¾—åˆ°å®šä¹‰äº†ã€‚</li>
<li>ä¾‹å­ï¼š</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>(<span class="hljs-params">val name: <span class="hljs-type">String</span>, val password: <span class="hljs-type">String</span></span>)</span><br><span class="hljs-comment">// user database access object</span><br><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">UserDao</span> </span>&#123;<br>    <span class="hljs-comment">// dependency injection from external</span><br>    _: <span class="hljs-type">User</span> =&gt; <span class="hljs-comment">// self type</span><br>    <span class="hljs-comment">// simulate insert data to databse</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">insert</span></span>(): <span class="hljs-type">Unit</span> = &#123;<br>        println(<span class="hljs-string">s&quot;insert into db: <span class="hljs-subst">$name</span> <span class="hljs-subst">$password</span>&quot;</span>)<br>    &#125;<br>&#125;<br><span class="hljs-comment">// register user</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RegisterUser</span>(<span class="hljs-params">name: <span class="hljs-type">String</span>, password: <span class="hljs-type">String</span></span>) <span class="hljs-keyword">extends</span> <span class="hljs-title">User</span>(<span class="hljs-params">name, password</span>) <span class="hljs-keyword">with</span> <span class="hljs-title">UserDao</span></span><br><br><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">SelfType</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = &#123;<br>        <span class="hljs-keyword">val</span> u = <span class="hljs-keyword">new</span> <span class="hljs-type">RegisterUser</span>(<span class="hljs-string">&quot;catholly&quot;</span>, <span class="hljs-string">&quot;nephren&quot;</span>)<br>        u.insert()<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿è¡Œæ—¶ç±»å‹è¯†åˆ«RTTIï¼š</p>
<ul>
<li>åˆ¤æ–­ç±»å‹ï¼š<code>obj.isInstanceOf[T]</code>ï¼Œç¡®åˆ‡åŒ¹é…çš„ç±»å‹æˆ–è€…çˆ¶ç±»éƒ½è¿”å›trueã€‚</li>
<li>è½¬æ¢ç±»å‹ï¼š<code>obj.asInstance[T]</code>ï¼Œè½¬æ¢ä¸ºç›®æ ‡ç±»å‹ã€‚</li>
<li>è·å–ç±»åï¼š<code>classOf[T]</code>ï¼Œå¾—åˆ°ç±»å¯¹åº”çš„<code>Class</code>å¯¹è±¡<code>Class[T]</code>ï¼Œè½¬å­—ç¬¦ä¸²ç»“æœæ˜¯<code>class package.xxx.className</code>ã€‚</li>
<li>è·å–å¯¹è±¡çš„ç±»ï¼š<code>obj.getClass</code></li>
</ul>
<p>æšä¸¾ç±»ï¼š</p>
<ul>
<li>ç»§æ‰¿<code>Enumeration</code>ã€‚</li>
<li>ç”¨<code>Value</code>ç±»å‹å®šä¹‰æšä¸¾å€¼ã€‚</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">WorkDay</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Enumeration</span> </span>&#123;<br>    <span class="hljs-keyword">val</span> <span class="hljs-type">MONDAY</span> = <span class="hljs-type">Value</span>(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;Monday&quot;</span>)<br>    <span class="hljs-keyword">val</span> <span class="hljs-type">TUESDAY</span> = <span class="hljs-type">Value</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;Tuesday&quot;</span>)<br>    <span class="hljs-keyword">val</span> <span class="hljs-type">THURSDAy</span> = <span class="hljs-type">Value</span>(<span class="hljs-number">3</span>, <span class="hljs-string">&quot;Thrusday&quot;</span>)<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">EnumClass</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = &#123;<br>        println(<span class="hljs-type">WorkDay</span>.<span class="hljs-type">MONDAY</span>)<br>        println(<span class="hljs-type">WorkDay</span>.<span class="hljs-type">TUESDAY</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>åº”ç”¨ç±»ï¼š</p>
<ul>
<li>ç»§æ‰¿<code>App</code>ï¼ŒåŒ…è£…äº†<code>main</code>æ–¹æ³•ï¼Œå°±ä¸éœ€è¦æ˜¾å¼å®šä¹‰<code>main</code>æ–¹æ³•äº†ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œã€‚</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">TestApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">App</span> </span>&#123;<br>    println(<span class="hljs-string">&quot;hello,world!&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å®šä¹‰ç±»å‹åˆ«åï¼š<code>type SelfDefineType = TargetType</code>ã€‚</p>
<p>å¯†å°ç±»ï¼š <code>sealed</code>ï¼Œå­ç±»åªèƒ½å®šä¹‰åœ¨åŒä¸€ä¸ªæ–‡ä»¶å†…ã€‚</p>
<h2 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h2><p>Javaé›†åˆï¼š</p>
<ul>
<li>ä¸‰å¤§ç±»å‹ï¼šåˆ—è¡¨<code>List</code>ã€é›†åˆ<code>Set</code>ã€æ˜ å°„<code>Map</code>ï¼Œæœ‰å¤šç§ä¸åŒå®ç°ã€‚</li>
</ul>
<p>Scalaé›†åˆä¸‰å¤§ç±»å‹ï¼š</p>
<ul>
<li><p>åºåˆ—<code>Seq</code>ï¼Œé›†åˆ<code>Set</code>ï¼Œæ˜ å°„<code>Map</code>ï¼Œæ‰€æœ‰é›†åˆéƒ½æ‰©å±•è‡ª<code>Iterable</code>ã€‚</p>
</li>
<li><p>å¯¹äºå‡ ä¹æ‰€æœ‰é›†åˆç±»ï¼Œéƒ½åŒæ—¶æä¾›</p>
<p>å¯å˜å’Œä¸å¯å˜</p>
<p>ç‰ˆæœ¬ã€‚</p>
<ul>
<li>ä¸å¯å˜é›†åˆï¼š<code>scala.collection.immutable</code></li>
<li>å¯å˜é›†åˆï¼š<code>scala.collection.mutable</code></li>
<li>ä¸¤ä¸ªåŒ…ä¸­å¯èƒ½æœ‰åŒåçš„ç±»å‹ï¼Œéœ€è¦æ³¨æ„åŒºåˆ†æ˜¯ç”¨çš„å¯å˜è¿˜æ˜¯ä¸å¯å˜ç‰ˆæœ¬ï¼Œé¿å…å†²çªå’Œæ··æ·†ã€‚</li>
</ul>
</li>
<li><p>å¯¹äºä¸å¯å˜é›†åˆï¼ŒæŒ‡è¯¥é›†åˆé•¿åº¦æ•°é‡ä¸å¯ä¿®æ”¹ï¼Œæ¯æ¬¡ä¿®æ”¹ï¼ˆæ¯”å¦‚å¢åˆ å…ƒç´ ï¼‰éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œä¸ä¼šä¿®æ”¹æºå¯¹è±¡ã€‚</p>
</li>
<li><p>å¯å˜é›†åˆå¯ä»¥å¯¹æºå¯¹è±¡ä»»æ„ä¿®æ”¹ï¼Œä¸€èˆ¬ä¹Ÿæä¾›ä¸å¯å˜é›†åˆç›¸åŒçš„è¿”å›æ–°å¯¹è±¡çš„æ–¹æ³•ï¼Œä½†ä¹Ÿå¯ä»¥ç”¨å…¶ä»–æ–¹æ³•ä¿®æ”¹æºå¯¹è±¡ã€‚</p>
</li>
<li><p><strong>å»ºè®®</strong>ï¼šæ“ä½œé›†åˆæ—¶ï¼Œä¸å¯å˜ç”¨æ“ä½œç¬¦ï¼Œå¯å˜ç”¨æ–¹æ³•ã€‚æ“ä½œç¬¦ä¹Ÿä¸ä¸€å®šå°±ä¼šè¿”å›æ–°å¯¹è±¡ï¼Œä½†å¤§å¤šæ˜¯è¿™æ ·çš„ï¼Œè¿˜æ˜¯è¦å…·ä½“çœ‹ã€‚</p>
</li>
<li><p>scalaä¸­é›†åˆç±»çš„å®šä¹‰æ¯”javaè¦æ¸…æ™°ä¸å°‘ã€‚</p>
</li>
</ul>
<p>ä¸å¯å˜é›†åˆï¼š</p>
<ul>
<li><code>scala.collection.immutable</code>åŒ…ä¸­ä¸å¯å˜é›†åˆå…³ç³»ä¸€è§ˆï¼š <a target="_blank" rel="noopener" href="https://github.com/tch0/notes/blob/master/Images/Scala_immutable_collections_tree.jpg"><img src="https://github.com/tch0/notes/raw/master/Images/Scala_immutable_collections_tree.jpg" srcset="/img/loading.gif" lazyload alt="Scala_mutable_collections_tree"></a></li>
<li>ä¸å¯å˜é›†åˆæ²¡æœ‰å¤ªå¤šå¥½è¯´çš„ï¼Œé›†åˆå’Œæ˜ å°„çš„å“ˆå¸Œè¡¨å’ŒäºŒå‰æ ‘å®ç°æ˜¯è‚¯å®šéƒ½æœ‰çš„ï¼Œåºåˆ—ä¸­åˆ†ä¸ºéšæœºè®¿é—®åºåˆ—ï¼ˆæ•°ç»„å®ç°ï¼‰å’Œçº¿æ€§åºåˆ—ï¼ˆé“¾è¡¨å®ç°ï¼‰ï¼ŒåŸºæœ¬æ•°æ®ç»“æ„éƒ½æœ‰äº†ã€‚</li>
<li><code>Range</code>æ˜¯èŒƒå›´ï¼Œå¸¸ç”¨æ¥éå†ï¼Œæœ‰è¯­æ³•ç³–æ”¯æŒ<code>1 to 10 by 2</code> <code>10 until 1 by -1</code>å…¶å®å°±æ˜¯éšå¼è½¬æ¢åŠ ä¸Šæ–¹æ³•è°ƒç”¨ã€‚</li>
<li>scalaä¸­çš„<code>String</code>å°±æ˜¯<code>java.lang.String</code>ï¼Œå’Œé›†åˆæ— ç›´æ¥å…³ç³»ï¼Œæ‰€ä»¥æ˜¯è™šç®­å¤´ï¼Œæ˜¯é€šè¿‡<code>Perdef</code>ä¸­çš„ä½ä¼˜å…ˆçº§éšå¼è½¬æ¢æ¥åšåˆ°çš„ã€‚ç»è¿‡éšå¼è½¬æ¢ä¸ºä¸€ä¸ªåŒ…è£…ç±»å‹åå°±å¯ä»¥å½“åšé›†åˆäº†ã€‚</li>
<li><code>Array</code>å’Œ<code>String</code>ç±»ä¼¼ï¼Œåœ¨å›¾ä¸­æ¼æ‰äº†ã€‚</li>
<li>æ­¤ç±»åŒ…è£…ä¸ºäº†å…¼å®¹javaåœ¨scalaä¸­éå¸¸å¸¸è§ï¼Œscalaä¸­å¾ˆå¤šç±»å‹å°±æ˜¯å¯¹javaç±»å‹çš„åŒ…è£…æˆ–è€…ä»…ä»…æ˜¯åˆ«åã€‚</li>
<li>scalaä¸­å¯èƒ½ä¼šæ¨èæ›´å¤šåœ°ä½¿ç”¨ä¸å¯å˜é›†åˆã€‚èƒ½ç”¨ä¸å¯å˜å°±ç”¨ä¸å¯å˜ã€‚</li>
</ul>
<p>å¯å˜é›†åˆï¼š</p>
<ul>
<li><code>scala.collection.mutable</code>åŒ…ä¸­å¯å˜é›†åˆå…³ç³»ä¸€è§ˆï¼š</li>
</ul>
<p><img src="https://raw.githubusercontent.com/YUTING0907/PicGo/main/imgScala_mutable_collections_tree.jpeg" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>åºåˆ—ä¸­å¤šäº†<code>Buffer</code>ï¼Œæ•´ä½“ç»“æ„å·®ä¸å¤šã€‚</li>
</ul>
<p>ä¸å¯å˜å’Œå¯å˜ï¼š</p>
<ul>
<li>ä¸å¯å˜æŒ‡çš„æ˜¯å¯¹è±¡å¤§å°ä¸å¯å˜ï¼Œä½†æ˜¯å¯ä»¥ä¿®æ”¹å…ƒç´ çš„å€¼ï¼ˆä¸èƒ½ä¿®æ”¹é‚£åˆ›å»ºäº†ä¹Ÿæ²¡æœ‰ç”¨å¯¹å§ï¼‰ï¼Œéœ€è¦æ³¨æ„è¿™ä¸€ç‚¹ã€‚è€Œå¦‚æœç”¨äº†<code>val</code>ä¸å˜é‡å­˜å‚¨ï¼Œé‚£ä¹ˆæŒ‡å‘å¯¹è±¡çš„åœ°å€ä¹Ÿä¸å¯å˜ã€‚</li>
<li>ä¸å¯å˜é›†åˆåœ¨åŸé›†åˆä¸Šä¸ªæ’å…¥åˆ é™¤æ•°æ®æ˜¯åšä¸åˆ°çš„ï¼Œåªèƒ½è¿”å›æ–°çš„é›†åˆã€‚</li>
</ul>
<p>æ³›å‹ï¼š</p>
<ul>
<li>é›†åˆç±»å‹å¤§å¤šéƒ½æ˜¯æ”¯æŒæ³›å‹ï¼Œä½¿ç”¨æ³›å‹çš„è¯­æ³•æ˜¯<code>[Type]</code>ï¼Œä¸åŒäºjavaçš„<code>&lt;Type&gt;</code>ã€‚</li>
</ul>
<p>ä¸å¯å˜æ•°ç»„ï¼š</p>
<ul>
<li>è®¿é—®å…ƒç´ ä½¿ç”¨<code>()</code>è¿ç®—ç¬¦ï¼Œé€šè¿‡<code>apply/update</code>æ–¹æ³•å®ç°ï¼Œæºç ä¸­çš„å®ç°åªæ˜¯æŠ›å‡ºé”™è¯¯ä½œä¸º<strong>å­˜æ ¹æ–¹æ³•</strong>ï¼ˆstab methodï¼‰ï¼Œå…·ä½“é€»è¾‘ç”±ç¼–è¯‘å™¨å¡«å……ã€‚</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-comment">// 1. new</span><br>val arr = new Array<span class="hljs-selector-attr">[Int]</span>(<span class="hljs-number">5</span>)<br><br><span class="hljs-comment">// 2. factory method in companion obejct</span><br>val arr1 = Array<span class="hljs-selector-attr">[Int]</span>(<span class="hljs-number">5</span>)<br>val arr2 = <span class="hljs-built_in">Array</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br><br><span class="hljs-comment">// 3. traverse, range for</span><br><span class="hljs-keyword">for</span> (<span class="hljs-selector-tag">i</span> &lt;- <span class="hljs-number">0</span> until arr.length) <span class="hljs-built_in">arr</span>(i) = <span class="hljs-selector-tag">i</span><br><span class="hljs-keyword">for</span> (<span class="hljs-selector-tag">i</span> &lt;- arr.indices) <span class="hljs-built_in">print</span>(s<span class="hljs-string">&quot;$&#123;arr(i)&#125; &quot;</span>)<br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">()</span></span><br><br><span class="hljs-comment">// 4. tarverse, foreach</span><br><span class="hljs-keyword">for</span> (elem &lt;- arr) <span class="hljs-built_in">print</span>(s<span class="hljs-string">&quot;$elem &quot;</span>) <span class="hljs-comment">// elem is a val</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">()</span></span><br><br><span class="hljs-comment">// 5. tarverse, use iterator</span><br>val iter = arr<span class="hljs-selector-class">.iterator</span><br>while (iter.hasNext)<br>    <span class="hljs-built_in">print</span>(s<span class="hljs-string">&quot;$&#123;iter.next()&#125; &quot;</span>)<br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">()</span></span><br><br><span class="hljs-comment">// 6. traverse, use foreach method, pass a function</span><br>arr<span class="hljs-selector-class">.foreach</span>((elem: Int) =&gt; <span class="hljs-built_in">print</span>(s<span class="hljs-string">&quot;$elem &quot;</span>))<br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">()</span></span><br><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(arr2.mkString(<span class="hljs-string">&quot;, &quot;</span>)</span></span>) <span class="hljs-comment">// to string directly</span><br><br><span class="hljs-comment">// 7. add element, return a new array, : should toward to object</span><br>val newArr = arr :+ <span class="hljs-number">10</span> <span class="hljs-comment">//  arr.:+(10) add to end</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(newArr.mkString(<span class="hljs-string">&quot;, &quot;</span>)</span></span>)<br>val newArr2 = <span class="hljs-number">20</span> +: <span class="hljs-number">10</span> +: arr :+ <span class="hljs-number">30</span> <span class="hljs-comment">// arr.+:(10).+:(20).:+(30)</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(newArr2.mkString(<span class="hljs-string">&quot;, &quot;</span>)</span></span>)<br></code></pre></td></tr></table></figure>

<ul>
<li>å¯ä»¥çœ‹åˆ°è‡ªå®šä¹‰è¿ç®—ç¬¦å¯ä»¥éå¸¸çµæ´»ï¼Œè§„å®šå¦‚æœè¿ç®—ç¬¦é¦–å°¾æœ‰<code>:</code>é‚£ä¹ˆ<code>:</code>ä¸€å®šè¦æŒ‡å‘å¯¹è±¡ã€‚</li>
<li>ä¸‹æ ‡è¶Šç•Œå½“ç„¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä½¿ç”¨å‰åº”è¯¥æ£€æŸ¥ã€‚</li>
<li>é€šè¿‡<code>Predef</code>ä¸­çš„éšå¼è½¬æ¢ä¸ºä¸€ä¸ªæ··å…¥äº†é›†åˆç›¸å…³ç‰¹å¾çš„åŒ…è£…ç±»å‹ä»è€Œå¾—ä»¥ä½¿ç”¨scalaçš„é›†åˆç›¸å…³ç‰¹å¾ï¼Œ<code>Array</code>ç±»å‹ä¸­å¹¶æ²¡æœ‰ç›¸å…³æ··å…¥ã€‚</li>
</ul>
<p>å¯å˜æ•°ç»„ï¼š</p>
<ul>
<li>ç±»å‹<code>ArrayBuffer</code>ã€‚</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-comment">// 1. create</span><br>val arr: ArrayBuffer<span class="hljs-selector-attr">[Int]</span> = new ArrayBuffer<span class="hljs-selector-attr">[Int]</span>()<br>val arr1: ArrayBuffer<span class="hljs-selector-attr">[Int]</span> = <span class="hljs-built_in">ArrayBuffer</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>)<br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(arr.mkString(<span class="hljs-string">&quot;, &quot;</span>)</span></span>)<br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(arr1)</span></span> <span class="hljs-comment">// call toString ArrayBuffer(10, 20, 30)</span><br><br><span class="hljs-comment">// 2. visit</span><br><span class="hljs-function"><span class="hljs-title">arr1</span><span class="hljs-params">(<span class="hljs-number">2</span>)</span></span> = <span class="hljs-number">10</span><br><span class="hljs-comment">// 3. add element to tail</span><br><span class="hljs-selector-tag">var</span> newArr = arr :+ <span class="hljs-number">15</span> :+ <span class="hljs-number">20</span> <span class="hljs-comment">// do not change arr</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(newArr)</span></span><br>newArr = arr += <span class="hljs-number">15</span> <span class="hljs-comment">// modify arr itself, add to tail return itself, do notrecommand assign to other var</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(arr)</span></span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(newArr == arr)</span></span> <span class="hljs-comment">// true</span><br><span class="hljs-comment">// 4. add to head</span><br><span class="hljs-number">77</span> +=: arr <span class="hljs-comment">// WTF?</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(arr)</span></span><br><span class="hljs-comment">// 5. insert to middle</span><br>arr<span class="hljs-selector-class">.insert</span>(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)<br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(arr)</span></span><br><span class="hljs-comment">// 6. remove element</span><br>arr<span class="hljs-selector-class">.remove</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) <span class="hljs-comment">// startIndex, count</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(arr)</span></span><br>arr -= <span class="hljs-number">15</span> <span class="hljs-comment">// remove specific element</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(arr)</span></span><br><span class="hljs-comment">// 7. convert to Array</span><br>val newImmuArr: Array<span class="hljs-selector-attr">[Int]</span> = arr<span class="hljs-selector-class">.toArray</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(newImmuArr.mkString(<span class="hljs-string">&quot;, &quot;</span>)</span></span>)<br><span class="hljs-comment">// 8. Array to ArryBuffer</span><br>val buffer: scala<span class="hljs-selector-class">.collection</span><span class="hljs-selector-class">.mutable</span><span class="hljs-selector-class">.Buffer</span><span class="hljs-selector-attr">[Int]</span> = newImmuArr<span class="hljs-selector-class">.toBuffer</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(buffer)</span></span><br></code></pre></td></tr></table></figure>

<ul>
<li>æ¨èï¼šä¸å¯å˜é›†åˆç”¨è¿ç®—ç¬¦ï¼Œå¯å˜é›†åˆç›´æ¥è°ƒç”¨å¯¹åº”æ–¹æ³•ã€‚è¿ç®—ç¬¦å®¹æ˜“è¿·æƒ‘ã€‚</li>
<li>æ›´å¤šæ–¹æ³•æŸ¥çœ‹æ–‡æ¡£å’Œæºç ç”¨åˆ°å»æ‰¾å°±è¡Œã€‚</li>
<li>å¯å˜æ•°ç»„å’Œä¸å¯å˜æ•°ç»„å¯ä»¥è°ƒç”¨æ–¹æ³•äº’ç›¸è½¬æ¢ã€‚</li>
</ul>
<p>äºŒç»´æ•°ç»„ï¼š</p>
<ul>
<li>å°±æ˜¯æ•°ç»„çš„æ•°ç»„ã€‚</li>
<li>ä½¿ç”¨<code>Array.ofDim[Type](firstDim, secondDim, ...)</code>æ–¹æ³•ã€‚</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-comment">// create 2d array</span><br>val arr: Array<span class="hljs-selector-attr">[Array[Int]</span>] = Array<span class="hljs-selector-class">.ofDim</span><span class="hljs-selector-attr">[Int]</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-function"><span class="hljs-title">arr</span><span class="hljs-params">(<span class="hljs-number">0</span>)</span><span class="hljs-params">(<span class="hljs-number">1</span>)</span></span> = <span class="hljs-number">10</span><br><span class="hljs-function"><span class="hljs-title">arr</span><span class="hljs-params">(<span class="hljs-number">1</span>)</span><span class="hljs-params">(<span class="hljs-number">0</span>)</span></span> = <span class="hljs-number">100</span><br> <br><span class="hljs-comment">// traverse</span><br>arr<span class="hljs-selector-class">.foreach</span>(v =&gt; <span class="hljs-built_in">println</span>(v<span class="hljs-selector-class">.mkString</span>(<span class="hljs-string">&quot;,&quot;</span>)))<br></code></pre></td></tr></table></figure>

<p>ä¸å¯å˜åˆ—è¡¨ï¼š</p>
<ul>
<li><code>List</code>ï¼ŒæŠ½è±¡ç±»ï¼Œä¸èƒ½ç›´æ¥<code>new</code>ï¼Œä½¿ç”¨ä¼´ç”Ÿå¯¹è±¡<code>apply</code>ä¼ å…¥å…ƒç´ åˆ›å»ºã€‚</li>
<li><code>List</code>æœ¬èº«ä¹Ÿæœ‰<code>apply</code>èƒ½éšæœºè®¿é—®ï¼ˆåšäº†ä¼˜åŒ–ï¼‰ï¼Œä½†æ˜¯ä¸èƒ½<code>update</code>æ›´æ”¹ã€‚</li>
<li><code>foreach</code>æ–¹æ³•éå†ã€‚</li>
<li>æ”¯æŒ<code>+: :+</code>é¦–å°¾æ·»åŠ å…ƒç´ ã€‚</li>
<li><code>Nil</code>ç©ºåˆ—è¡¨ï¼Œ<code>::</code>æ·»åŠ å…ƒç´ åˆ°è¡¨å¤´ã€‚</li>
<li>å¸¸ç”¨<code>Nil.::(elem)</code>åˆ›å»ºåˆ—è¡¨ï¼Œæ¢ä¸€ç§å†™æ³•å°±æ˜¯<code>10 :: 20 :: 30 :: Nil</code>å¾—åˆ°ç»“æœ<code>List(10, 20, 30)</code>ï¼Œç³–æ˜¯çœŸæ»´å¤šï¼</li>
<li>åˆå¹¶ä¸¤ä¸ªåˆ—è¡¨ï¼š<code>list1 ::: list2</code> æˆ–è€…<code>list1 ++ list2</code>ã€‚</li>
</ul>
<p>å¯å˜åˆ—è¡¨ï¼š</p>
<ul>
<li>å¯å˜åˆ—è¡¨<code>ListBuffer</code>ï¼Œå’Œ<code>ArrayBuffer</code>å¾ˆåƒã€‚</li>
<li><code>final</code>çš„ï¼Œå¯ä»¥ç›´æ¥<code>new</code>ï¼Œä¹Ÿå¯ä»¥ä¼´ç”Ÿå¯¹è±¡<code>apply</code>ä¼ å…¥å…ƒç´ åˆ›å»ºï¼ˆæ€»ä½“æ¥è¯´scalaä¸­æ›´æ¨èè¿™ç§æ–¹å¼ï¼‰ã€‚</li>
<li>æ–¹æ³•ï¼š<code>append prepend insert remove</code></li>
<li>æ·»åŠ å…ƒç´ åˆ°å¤´æˆ–å°¾ï¼š<code>+=: +=</code></li>
<li>åˆå¹¶ï¼š<code>++</code>å¾—åˆ°æ–°çš„åˆ—è¡¨ï¼Œ<code>++=</code>åˆå¹¶åˆ°æºä¸Šã€‚</li>
<li>åˆ é™¤å…ƒç´ ä¹Ÿå¯ä»¥ç”¨<code>-=</code>è¿ç®—ç¬¦ã€‚</li>
<li>å…·ä½“æ“ä½œå¾ˆå¤šï¼Œä½¿ç”¨æ—¶é˜…è¯»æ–‡æ¡£å³å¯ã€‚</li>
</ul>
<p>ä¸å¯å˜é›†åˆï¼š</p>
<ul>
<li>æ•°æ®æ— åºï¼Œä¸å¯é‡å¤ã€‚</li>
<li>å¯å˜å’Œä¸å¯å˜éƒ½å«<code>Set</code>ï¼Œéœ€è¦åšåŒºåˆ†ã€‚é»˜è®¤<code>Set</code>å®šä¹‰ä¸º<code>immutable.Set</code>åˆ«åã€‚</li>
<li>åˆ›å»ºæ—¶é‡å¤æ•°æ®ä¼šè¢«å»é™¤ï¼Œå¯ç”¨æ¥å»é‡ã€‚</li>
<li>æ·»åŠ å…ƒç´ ï¼š<code>set + elem</code></li>
<li>åˆå¹¶ï¼š<code>set1 ++ set2</code></li>
<li>ç§»é™¤å…ƒç´ ï¼š<code>set - elem</code></li>
<li>ä¸æ”¹å˜æºé›†åˆã€‚</li>
</ul>
<p>å¯å˜é›†åˆï¼š</p>
<ul>
<li>æ“ä½œåŸºäºæºé›†åˆåšæ›´æ”¹ã€‚</li>
<li>ä¸ºäº†ä¸ä¸å¯å˜é›†åˆåŒºåˆ†ï¼Œ<code>import scala.collection.mutable</code>å¹¶ç”¨<code>mutable.Set</code>ã€‚</li>
<li>ä¸å¯å˜é›†åˆæœ‰çš„éƒ½æœ‰ã€‚</li>
<li>æ·»åŠ å…ƒç´ åˆ°æºä¸Šï¼š<code>set += elem</code> <code>add</code></li>
<li>åˆ é™¤å…ƒç´ ï¼š<code>set -= elem</code> <code>remove</code></li>
<li>åˆå¹¶ï¼š<code>set1 ++= set2</code></li>
<li>éƒ½å¾ˆç®€å•å¾ˆå¥½ç†è§£ï¼Œå¤šçœ‹æ–‡æ¡£å’Œæºç å°±è¡Œã€‚</li>
</ul>
<p>ä¸å¯å˜æ˜ å°„ï¼š</p>
<ul>
<li><code>Map</code>é»˜è®¤å°±æ˜¯<code>immutable.Map</code>åˆ«åã€‚</li>
<li>ä¸¤ä¸ªæ³›å‹ç±»å‹ã€‚</li>
<li>åŸºæœ¬å…ƒç´ æ˜¯ä¸€ä¸ªäºŒå…ƒç»„ã€‚</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-comment">// create Map</span><br>val map: Map<span class="hljs-selector-attr">[String, Int]</span> = <span class="hljs-built_in">Map</span>(<span class="hljs-string">&quot;a&quot;</span> -&gt; <span class="hljs-number">13</span>, <span class="hljs-string">&quot;b&quot;</span> -&gt; <span class="hljs-number">20</span>)<br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(map)</span></span><br><span class="hljs-comment">// traverse</span><br>map<span class="hljs-selector-class">.foreach</span>((kv: (String, Int)) =&gt; <span class="hljs-built_in">println</span>(kv))<br>map<span class="hljs-selector-class">.foreach</span>(kv =&gt; <span class="hljs-built_in">println</span>(s<span class="hljs-string">&quot;$&#123;kv._1&#125; : $&#123;kv._2&#125;&quot;</span>))<br><span class="hljs-comment">// get keys and values</span><br><span class="hljs-keyword">for</span> (key &lt;- map.keys) &#123;<br>    <span class="hljs-built_in">println</span>(s<span class="hljs-string">&quot;$&#123;key&#125; : $&#123;map.get(key)&#125;&quot;</span>)<br>&#125;<br><span class="hljs-comment">// get value of given key</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(map.get(<span class="hljs-string">&quot;a&quot;</span>)</span></span>.get)<br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(map.getOrElse(<span class="hljs-string">&quot;c&quot;</span>, -<span class="hljs-number">1</span>)</span></span>) <span class="hljs-comment">// avoid excption</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(map(<span class="hljs-string">&quot;a&quot;</span>)</span></span>) <span class="hljs-comment">// if no such key will throw exception</span><br><span class="hljs-comment">// merge</span><br>val map2 = map ++ <span class="hljs-built_in">Map</span>(<span class="hljs-string">&quot;e&quot;</span> -&gt; <span class="hljs-number">1024</span>)<br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(map2)</span></span><br></code></pre></td></tr></table></figure>

<p>å¯å˜æ˜ å°„ï¼š</p>
<ul>
<li><code>mutable.Map</code></li>
<li>ä¸å¯å˜çš„éƒ½æ”¯æŒã€‚</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-comment">// create mutable Map</span><br>val map: mutable<span class="hljs-selector-class">.Map</span><span class="hljs-selector-attr">[String, Int]</span> = mutable<span class="hljs-selector-class">.Map</span>(<span class="hljs-string">&quot;a&quot;</span> -&gt; <span class="hljs-number">10</span>, <span class="hljs-string">&quot;b&quot;</span> -&gt; <span class="hljs-number">20</span>)<br><span class="hljs-comment">// add element</span><br>map<span class="hljs-selector-class">.put</span>(<span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-number">30</span>)<br>map += ((<span class="hljs-string">&quot;d&quot;</span>, <span class="hljs-number">40</span>)) <span class="hljs-comment">// two () represent tuple to avoid ambiguity</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(map)</span></span><br><span class="hljs-comment">// remove element</span><br>map<span class="hljs-selector-class">.remove</span>(<span class="hljs-string">&quot;a&quot;</span>)<br>map -= <span class="hljs-string">&quot;b&quot;</span> <span class="hljs-comment">// just need key</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(map)</span></span><br><span class="hljs-comment">// modify element</span><br>map<span class="hljs-selector-class">.put</span>(<span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-number">100</span>) <span class="hljs-comment">// call update, add/modify</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(map)</span></span><br><span class="hljs-comment">// merge Map</span><br>map ++= <span class="hljs-built_in">Map</span>(<span class="hljs-string">&quot;a&quot;</span> -&gt; <span class="hljs-number">10</span>, <span class="hljs-string">&quot;b&quot;</span> -&gt; <span class="hljs-number">20</span>, <span class="hljs-string">&quot;c&quot;</span> -&gt; <span class="hljs-number">30</span>) <span class="hljs-comment">// add and will override</span><br><span class="hljs-function"><span class="hljs-title">println</span><span class="hljs-params">(map)</span></span><br></code></pre></td></tr></table></figure>

<p>å…ƒç»„ï¼š</p>
<ul>
<li><code>(elem1, elem2, ...)</code> ç±»å‹å¯ä»¥ä¸åŒã€‚</li>
<li>æœ€å¤šåªèƒ½22ä¸ªå…ƒç´ ï¼Œä»<code>Tuple1</code>å®šä¹‰åˆ°äº†<code>Tuple22</code>ã€‚</li>
<li>ä½¿ç”¨<code>_1 _2 _3 ...</code>è®¿é—®ã€‚</li>
<li>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>productElement(index)</code>è®¿é—®ï¼Œä¸‹æ ‡ä»0å¼€å§‹ã€‚</li>
<li><code>-&gt;</code>åˆ›å»ºäºŒå…ƒç»„ã€‚</li>
<li>éå†ï¼š<code>for(elem &lt;- tuple.productIterator)</code></li>
<li>å¯ä»¥åµŒå¥—ï¼Œå…ƒç»„çš„å…ƒç´ ä¹Ÿå¯ä»¥æ˜¯å…ƒç»„ã€‚</li>
</ul>
<p>é›†åˆé€šç”¨å±æ€§å’Œæ–¹æ³•ï¼š</p>
<ul>
<li>çº¿æ€§åºåˆ—æ‰æœ‰é•¿åº¦<code>length</code>ã€æ‰€æœ‰é›†åˆç±»å‹éƒ½æœ‰å¤§å°<code>size</code>ã€‚</li>
<li>éå†<code>for (elem &lt;- collection)</code>ã€è¿­ä»£å™¨<code>for (elem &lt;- collection.iterator)</code>ã€‚</li>
<li>ç”Ÿæˆå­—ç¬¦ä¸²<code>toString</code> <code>mkString</code>ï¼Œåƒ<code>Array</code>è¿™ç§æ˜¯éšå¼è½¬æ¢ä¸ºscalaé›†åˆçš„ï¼Œ<code>toString</code>æ˜¯ç»§æ‰¿è‡ª<code>java.lang.Object</code>çš„ï¼Œéœ€è¦è‡ªè¡Œå¤„ç†ã€‚</li>
<li>æ˜¯å¦åŒ…å«å…ƒç´ <code>contains</code>ã€‚</li>
</ul>
<p>è¡ç”Ÿé›†åˆçš„æ–¹å¼ï¼š</p>
<ul>
<li>è·å–é›†åˆçš„å¤´å…ƒç´ <code>head</code>ï¼ˆå…ƒç´ ï¼‰å’Œå‰©ä¸‹çš„å°¾<code>tail</code>ï¼ˆé›†åˆï¼‰ã€‚</li>
<li>é›†åˆæœ€åä¸€ä¸ªå…ƒç´ <code>last</code>ï¼ˆå…ƒç´ ï¼‰å’Œé™¤å»æœ€åä¸€ä¸ªå…ƒç´ çš„åˆå§‹æ•°æ®<code>init</code>ï¼ˆé›†åˆï¼‰ã€‚</li>
<li>åè½¬<code>reverse</code>ã€‚</li>
<li>å–å‰ånä¸ªå…ƒç´ <code>take(n) takeRight(n)</code></li>
<li>å»æ‰å‰ånä¸ªå…ƒç´ <code>drop(n) dropRight(n)</code></li>
<li>äº¤é›†<code>intersect</code></li>
<li>å¹¶é›†<code>union</code>ï¼Œçº¿æ€§åºåˆ—çš„è¯å·²åºŸå¼ƒç”¨<code>concat</code>è¿æ¥ã€‚</li>
<li>å·®é›†<code>diff</code>ï¼Œå¾—åˆ°å±äºè‡ªå·±ã€ä¸å±äºä¼ å…¥å‚æ•°çš„éƒ¨åˆ†ã€‚</li>
<li>æ‹‰é“¾<code>zip</code>ï¼Œå¾—åˆ°ä¸¤ä¸ªé›†åˆå¯¹åº”ä½ç½®å…ƒç´ ç»„åˆèµ·æ¥æ„æˆäºŒå…ƒç»„çš„é›†åˆï¼Œå¤§å°ä¸åŒ¹é…ä¼šä¸¢æ‰å…¶ä¸­ä¸€ä¸ªé›†åˆä¸åŒ¹é…çš„å¤šä½™éƒ¨åˆ†ã€‚</li>
<li>æ»‘çª—<code>sliding(n, step = 1)</code>ï¼Œæ¡†ä½ç‰¹å®šä¸ªæ•°å…ƒç´ ï¼Œæ–¹ä¾¿ç§»åŠ¨å’Œæ“ä½œã€‚å¾—åˆ°è¿­ä»£å™¨ï¼Œå¯ä»¥ç”¨æ¥éå†ï¼Œæ¯ä¸ªè¿­ä»£çš„å…ƒç´ éƒ½æ˜¯ä¸€ä¸ªnä¸ªå…ƒç´ é›†åˆã€‚æ­¥é•¿å¤§äº1çš„è¯æœ€åä¸€ä¸ªçª—å£å…ƒç´ æ•°é‡å¯èƒ½ä¸ªæ•°ä¼šå°‘ä¸€äº›ã€‚</li>
</ul>
<p>é›†åˆçš„ç®€å•è®¡ç®—æ“ä½œï¼š</p>
<ul>
<li>æ±‚å’Œ<code>sum</code> æ±‚ä¹˜ç§¯<code>product</code> æœ€å°å€¼<code>min</code> æœ€å¤§å€¼<code>max</code></li>
<li><code>maxBy(func)</code>æ”¯æŒä¼ å…¥ä¸€ä¸ªå‡½æ•°è·å–å…ƒç´ å¹¶è¿”å›æ¯”è¾ƒä¾æ®çš„å€¼ï¼Œæ¯”å¦‚å…ƒç»„é»˜è®¤å°±åªä¼šåˆ¤æ–­ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¦æ ¹æ®ç¬¬äºŒä¸ªå…ƒç´ åˆ¤æ–­å°±è¿”å›ç¬¬äºŒä¸ªå…ƒç´ å°±è¡Œ<code>xxx.maxBy(_._2)</code>ã€‚</li>
<li>æ’åº<code>sorted</code>ï¼Œé»˜è®¤ä»å°åˆ°å¤§æ’åºã€‚ä»å¤§åˆ°å°æ’åº<code>sorted(Ordering[Int].reverse)</code>ã€‚</li>
<li>æŒ‰å…ƒç´ æ’åº<code>sortBy(func)</code>ï¼ŒæŒ‡å®šè¦ç”¨æ¥åšæ’åºçš„å­—æ®µã€‚ä¹Ÿå¯ä»¥å†ä¼ ä¸€ä¸ªéšå¼å‚æ•°é€†åº<code>sortBy(func)(Ordering[Int].reverse)</code></li>
<li>è‡ªå®šä¹‰æ¯”è¾ƒå™¨<code>sortWith(cmp)</code>ï¼Œæ¯”å¦‚æŒ‰å…ƒç´ å‡åºæ’åˆ—<code>sortWith((a, b) =&gt; a &lt; b)</code>æˆ–è€…<code>sortWith(_ &lt; _)</code>ï¼ŒæŒ‰å…ƒç»„å…ƒç´ ç¬¬äºŒä¸ªå…ƒç´ å‡åº<code>sortWith(_._2 &gt; _._2)</code>ã€‚</li>
<li>ä¾‹å­ï¼š</li>
</ul>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs processing">object Calculations &#123;<br>    def <span class="hljs-title function_">main</span>(args: <span class="hljs-built_in">Array</span>[<span class="hljs-built_in">String</span>]): Unit = &#123;<br>        <span class="hljs-comment">// calculations of collections</span><br>        val list = <span class="hljs-title function_">List</span>(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>)<br>        <br>        <span class="hljs-comment">// sum</span><br>        var sum = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> (elem &lt;- list) sum += elem<br>        <span class="hljs-built_in">println</span>(sum)<br>        <br>        <span class="hljs-built_in">println</span>(list.<span class="hljs-property">sum</span>)<br>        <span class="hljs-built_in">println</span>(list.<span class="hljs-property">product</span>)<br>        <span class="hljs-built_in">println</span>(list.<span class="hljs-property">min</span>)<br>        <span class="hljs-built_in">println</span>(list.<span class="hljs-property">max</span>)<br><br>        val list2 = <span class="hljs-title function_">List</span>((<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">1</span>), (<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">2</span>), (<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-number">-3</span>))<br>        <span class="hljs-built_in">println</span>(list2.<span class="hljs-property">maxBy</span>((tuple: (Char, Int)) =&gt; tuple._2))<br>        <span class="hljs-built_in">println</span>(list2.<span class="hljs-property">minBy</span>(_._2))<br><br>        <span class="hljs-comment">// sort, default is ascending</span><br>        val sortedList = list.<span class="hljs-property">sorted</span><br>        <span class="hljs-built_in">println</span>(sortedList)<br>        <span class="hljs-comment">// descending</span><br>        <span class="hljs-built_in">println</span>(list.<span class="hljs-property">sorted</span>(Ordering[Int].<span class="hljs-property">reverse</span>))<br><br>        <span class="hljs-comment">// sortBy</span><br>        <span class="hljs-built_in">println</span>(list2.<span class="hljs-property">sortBy</span>(_._2))<br><br>        <span class="hljs-comment">// sortWith</span><br>        <span class="hljs-built_in">println</span>(list.<span class="hljs-property">sortWith</span>((a, b) =&gt; a &lt; b))<br>        <span class="hljs-built_in">println</span>(list2.<span class="hljs-property">sortWith</span>(_._2 &gt; _._2))<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>ç®€å•æ“ä½œè¿˜æ˜¯å¤ªå°‘äº†ï¼Œä¸è¶³ä»¥åº”å¯¹å¤æ‚çš„éœ€æ±‚ã€‚</li>
</ul>
<p>é›†åˆé«˜çº§è®¡ç®—å‡½æ•°ï¼š</p>
<ul>
<li>å¤§æ•°æ®çš„å¤„ç†æ ¸å¿ƒå°±æ˜¯æ˜ å°„ï¼ˆmapï¼‰å’Œè§„çº¦ï¼ˆreduceï¼‰ã€‚</li>
<li>æ˜ å°„æ“ä½œï¼ˆå¹¿ä¹‰ä¸Šçš„mapï¼‰ï¼š<ul>
<li>è¿‡æ»¤ï¼šè‡ªå®šä¹‰è¿‡æ»¤æ¡ä»¶ï¼Œ<code>filter(Elem =&gt; Boolean)</code></li>
<li>è½¬åŒ–&#x2F;æ˜ å°„ï¼ˆç‹­ä¹‰ä¸Šçš„mapï¼‰ï¼šè‡ªå®šä¹‰æ˜ å°„å‡½æ•°ï¼Œ<code>map(Elem =&gt; NewElem)</code></li>
<li>æ‰å¹³åŒ–ï¼ˆflattenï¼‰ï¼šå°†é›†åˆä¸­é›†åˆå…ƒç´ æ‹†å¼€ï¼Œå»æ‰é‡Œå±‚é›†åˆï¼Œæ”¾åˆ°å¤–å±‚ä¸­æ¥ã€‚<code>flatten</code></li>
<li>æ‰å¹³åŒ–+æ˜ å°„ï¼šå…ˆæ˜ å°„ï¼Œå†æ‰å¹³åŒ–ï¼Œ<code>flatMap(Elem =&gt; NewElem)</code></li>
<li>åˆ†ç»„ï¼ˆgroupï¼‰ï¼šæŒ‡å®šåˆ†ç»„è§„åˆ™ï¼Œ<code>groupBy(Elem =&gt; Key)</code>å¾—åˆ°ä¸€ä¸ªMapï¼Œkeyæ ¹æ®ä¼ å…¥çš„å‡½æ•°è¿ç”¨äºé›†åˆå…ƒç´ å¾—åˆ°ï¼Œvalueæ˜¯å¯¹åº”å…ƒç´ çš„åºåˆ—ã€‚</li>
</ul>
</li>
<li>è§„çº¦æ“ä½œï¼ˆå¹¿ä¹‰çš„reduceï¼‰ï¼š<ul>
<li>ç®€åŒ–&#x2F;è§„çº¦ï¼ˆç‹­ä¹‰çš„reduceï¼‰ï¼šå¯¹æ‰€æœ‰æ•°æ®åšä¸€ä¸ªå¤„ç†ï¼Œè§„çº¦å¾—åˆ°ä¸€ä¸ªç»“æœï¼ˆæ¯”å¦‚è¿åŠ è¿ä¹˜æ“ä½œï¼‰ã€‚<code>reduce((CurRes, NextElem) =&gt; NextRes)</code>ï¼Œä¼ å…¥å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆç¬¬ä¸€æ¬¡è¿ç®—ï¼‰å’Œä¸Šä¸€è½®ç»“æœï¼ˆåé¢çš„è®¡ç®—ï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯å½“å‰å…ƒç´ ï¼Œå¾—åˆ°æœ¬è½®ç»“æœï¼Œæœ€åä¸€è½®çš„ç»“æœå°±æ˜¯æœ€ç»ˆç»“æœã€‚<code>reduce</code>è°ƒç”¨<code>reduceLeft</code>ä»å·¦å¾€å³ï¼Œä¹Ÿå¯ä»¥<code>reduceRight</code>ä»å³å¾€å·¦ï¼ˆå®é™…ä¸Šæ˜¯é€’å½’è°ƒç”¨ï¼Œå’Œä¸€èˆ¬æ„ä¹‰ä¸Šçš„ä»å³å¾€å·¦æœ‰åŒºåˆ«ï¼Œçœ‹ä¸‹é¢ä¾‹å­ï¼‰ã€‚</li>
<li>æŠ˜å ï¼ˆfoldï¼‰ï¼š<code>fold(InitialVal)((CurRes, Elem) =&gt; NextRes)</code>ç›¸å¯¹äº<code>reduce</code>æ¥è¯´å…¶å®å°±æ˜¯<code>fold</code>è‡ªå·±ç»™åˆå€¼ï¼Œä»ç¬¬ä¸€ä¸ªå¼€å§‹è®¡ç®—ï¼Œ<code>reduce</code>ç”¨ç¬¬ä¸€ä¸ªåšåˆå€¼ï¼Œä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ç®—ã€‚<code>fold</code>è°ƒç”¨<code>foldLeft</code>ï¼Œä»å³å¾€å·¦åˆ™ç”¨<code>foldRight</code>ï¼ˆç¿»è½¬ä¹‹åå†<code>foldLeft</code>ï¼‰ã€‚å…·ä½“é€»è¾‘è¿˜å¾—è¿˜æºç ã€‚ä»å³å¾€å·¦éƒ½æœ‰ç‚¹ç»•å’Œéš¾ä»¥ç†è§£ï¼Œå¦‚æœè¦ä½¿ç”¨éœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚</li>
</ul>
</li>
<li>ä»¥ä¸Šï¼š</li>
</ul>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">object</span> HighLevelCalculations &#123;<br>    def main(args: Array<span class="hljs-literal">[S<span class="hljs-identifier">tring</span>]</span>): Unit = &#123;<br>        <span class="hljs-keyword">val</span> <span class="hljs-built_in">list</span> = <span class="hljs-constructor">List(1, 10, 100, 3, 5, 111)</span><br>        <br>        <span class="hljs-comment">// 1. map functions</span><br>        <span class="hljs-comment">// filter</span><br>        <span class="hljs-keyword">val</span> evenList = <span class="hljs-built_in">list</span>.filter(_ % <span class="hljs-number">2</span><span class="hljs-operator"> == </span><span class="hljs-number">0</span>)<br>        println(evenList)<br><br>        <span class="hljs-comment">// map</span><br>        println(<span class="hljs-built_in">list</span>.map(_<span class="hljs-operator"> * </span><span class="hljs-number">2</span>))<br>        println(<span class="hljs-built_in">list</span>.map(x =&gt; x<span class="hljs-operator"> * </span>x))<br><br>        <span class="hljs-comment">// flatten</span><br>        <span class="hljs-keyword">val</span> nestedList: List<span class="hljs-literal">[L<span class="hljs-identifier">ist</span>[I<span class="hljs-identifier">nt</span>]</span>] = <span class="hljs-constructor">List(List(1, 2, 3)</span>, <span class="hljs-constructor">List(3, 4, 5)</span>, <span class="hljs-constructor">List(10, 100)</span>)<br>        <span class="hljs-keyword">val</span> flatList = nested<span class="hljs-constructor">List(0)</span> ::: nested<span class="hljs-constructor">List(1)</span> ::: nested<span class="hljs-constructor">List(2)</span><br>        println(flatList)<br><br>        <span class="hljs-keyword">val</span> flatList2 = nestedList.flatten<br>        println(flatList2) <span class="hljs-comment">// equals to flatList</span><br><br>        <span class="hljs-comment">// map and flatten</span><br>        <span class="hljs-comment">// example: change a string list into a word list</span><br>        <span class="hljs-keyword">val</span> strings: List<span class="hljs-literal">[S<span class="hljs-identifier">tring</span>]</span> = <span class="hljs-constructor">List(<span class="hljs-string">&quot;hello world&quot;</span>, <span class="hljs-string">&quot;hello scala&quot;</span>, <span class="hljs-string">&quot;yes no&quot;</span>)</span><br>        <span class="hljs-keyword">val</span> splitList: List<span class="hljs-literal">[A<span class="hljs-identifier">rray</span>[S<span class="hljs-identifier">tring</span>]</span>] = strings.map(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_</span>.</span></span>split(<span class="hljs-string">&quot; &quot;</span>)) <span class="hljs-comment">// divide string to words</span><br>        <span class="hljs-keyword">val</span> flattenList = splitList.flatten<br>        println(flattenList)<br><br>        <span class="hljs-comment">// merge two steps above into one</span><br>        <span class="hljs-comment">// first map then flatten</span><br>        <span class="hljs-keyword">val</span> flatMapList = strings.flat<span class="hljs-constructor">Map(<span class="hljs-params">_</span>.<span class="hljs-params">split</span>(<span class="hljs-string">&quot; &quot;</span>)</span>)<br>        println(flatMapList)<br><br>        <span class="hljs-comment">// divide elements into groups</span><br>        <span class="hljs-keyword">val</span> groupMap = <span class="hljs-built_in">list</span>.group<span class="hljs-constructor">By(<span class="hljs-params">_</span> % 2)</span> <span class="hljs-comment">// keys: 0 &amp; 1</span><br>        <span class="hljs-keyword">val</span> groupMap2 = <span class="hljs-built_in">list</span>.group<span class="hljs-constructor">By(<span class="hljs-params">data</span> =&gt; <span class="hljs-params">if</span> (<span class="hljs-params">data</span> % 2 <span class="hljs-operator">==</span> 0)</span> <span class="hljs-string">&quot;even&quot;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;odd&quot;</span>) <span class="hljs-comment">// keys : &quot;even&quot; &amp; &quot;odd&quot;</span><br>        println(groupMap)<br>        println(groupMap2)<br><br>        <span class="hljs-keyword">val</span> worldList = <span class="hljs-constructor">List(<span class="hljs-string">&quot;China&quot;</span>, <span class="hljs-string">&quot;America&quot;</span>, <span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;Curry&quot;</span>, <span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-string">&quot;Japan&quot;</span>)</span><br>        println(worldList.group<span class="hljs-constructor">By(<span class="hljs-params">_</span>.<span class="hljs-params">charAt</span>(0)</span>))<br><br>        <span class="hljs-comment">// 2. reduce functions</span><br>        <span class="hljs-comment">// narrowly reduce</span><br>        println(<span class="hljs-constructor">List(1, 2, 3, 4)</span>.reduce(_ + _)) <span class="hljs-comment">// 1+2+3+4 = 10</span><br>        println(<span class="hljs-constructor">List(1, 2, 3, 4)</span>.reduce<span class="hljs-constructor">Left(<span class="hljs-params">_</span> - <span class="hljs-params">_</span>)</span>) <span class="hljs-comment">// 1-2-3-4 = -8</span><br>        println(<span class="hljs-constructor">List(1, 2, 3, 4)</span>.reduce<span class="hljs-constructor">Right(<span class="hljs-params">_</span> - <span class="hljs-params">_</span>)</span>) <span class="hljs-comment">// 1-(2-(3-4)) = -2, a little confusing</span><br><br>        <span class="hljs-comment">// fold</span><br>        println(<span class="hljs-constructor">List(1, 2, 3, 4)</span>.fold(<span class="hljs-number">0</span>)(_ + _)) <span class="hljs-comment">// 0+1+2+3+4 = 10</span><br>        println(<span class="hljs-constructor">List(1, 2, 3, 4)</span>.fold(<span class="hljs-number">10</span>)(_ + _)) <span class="hljs-comment">// 10+1+2+3+4 = 20</span><br>        println(<span class="hljs-constructor">List(1, 2, 3, 4)</span>.fold<span class="hljs-constructor">Right(10)</span>(_ - _)) <span class="hljs-comment">// 1-(2-(3-(4-10))) = 8, a little confusing</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>é›†åˆåº”ç”¨æ¡ˆä¾‹ï¼š</p>
<ul>
<li>Mapçš„é»˜è®¤åˆå¹¶æ“ä½œæ˜¯ç”¨åé¢çš„åŒkeyå…ƒç´ è¦†ç›–å‰é¢çš„ï¼Œå¦‚æœè¦å®šåˆ¶ä¸ºç´¯åŠ ä»–ä»¬çš„å€¼å¯ä»¥ç”¨<code>fold</code>ã€‚</li>
</ul>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">// merging two Map will override the value of the same key</span><br><span class="hljs-comment">// custom the merging process instead of just override</span><br><span class="hljs-keyword">val</span> map1 = <span class="hljs-constructor">Map(<span class="hljs-string">&quot;a&quot;</span> -&gt; 1, <span class="hljs-string">&quot;b&quot;</span> -&gt; 3, <span class="hljs-string">&quot;c&quot;</span> -&gt; 4)</span><br><span class="hljs-keyword">val</span> map2 = <span class="hljs-keyword">mutable</span>.<span class="hljs-constructor">Map(<span class="hljs-string">&quot;a&quot;</span> -&gt; 6, <span class="hljs-string">&quot;b&quot;</span> -&gt; 2, <span class="hljs-string">&quot;c&quot;</span> -&gt; 5, <span class="hljs-string">&quot;d&quot;</span> -&gt; 10)</span><br><span class="hljs-keyword">val</span> map3 = map1.fold<span class="hljs-constructor">Left(<span class="hljs-params">map2</span>)</span>(<br>   <span class="hljs-function"> (<span class="hljs-params">mergedMap</span>, <span class="hljs-params">kv</span>) =&gt;</span> &#123;<br>        merged<span class="hljs-constructor">Map(<span class="hljs-params">kv</span>.<span class="hljs-params">_1</span>)</span> = mergedMap.get<span class="hljs-constructor">OrElse(<span class="hljs-params">kv</span>.<span class="hljs-params">_1</span>, 0)</span> + kv._2<br>        mergedMap<br>    &#125;<br>)<br>println(map3) <span class="hljs-comment">// HashMap(a -&gt; 7, b -&gt; 5, c -&gt; 9, d -&gt; 10)</span><br></code></pre></td></tr></table></figure>

<ul>
<li>ç»å…¸æ¡ˆä¾‹ï¼šå•è¯è®¡æ•°ï¼šåˆ†è¯ï¼Œè®¡æ•°ï¼Œå–æ’åå‰ä¸‰ç»“æœã€‚</li>
</ul>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-comment">// count words in string list, and get 3 highest frequency words</span><br>def wordCount(): <span class="hljs-type">Unit </span>= &#123;<br>    val stringList: <span class="hljs-type">List</span>[<span class="hljs-keyword">String</span>] = List(<br>        <span class="hljs-string">&quot;hello&quot;</span>,<br>        <span class="hljs-string">&quot;hello world&quot;</span>,<br>        <span class="hljs-string">&quot;hello scala&quot;</span>,<br>        <span class="hljs-string">&quot;hello spark from scala&quot;</span>,<br>        <span class="hljs-string">&quot;hello flink from scala&quot;</span><br>    )<br><br>    <span class="hljs-comment">// 1. split</span><br>    val wordList: <span class="hljs-type">List</span>[<span class="hljs-keyword">String</span>] = stringList.flatMap(<span class="hljs-literal">_</span>.split(<span class="hljs-string">&quot; &quot;</span>))<br>    println(wordList)<br><br>    <span class="hljs-comment">// 2. group same words</span><br>    val groupMap: <span class="hljs-type">Map</span>[<span class="hljs-keyword">String</span>, List[<span class="hljs-keyword">String</span>]] = wordList.groupBy(word =&gt; word)<br>    println(groupMap)<br><br>    <span class="hljs-comment">// 3. get length of the every word, to (word, length)</span><br>    val countMap: <span class="hljs-type">Map</span>[<span class="hljs-keyword">String</span>, <span class="hljs-keyword">Int</span>] = groupMap.map(kv =&gt; (kv._1, kv._2.length))<br><br>    <span class="hljs-comment">// 4. convert map to list, sort and take first 3</span><br>    val countList: <span class="hljs-type">List</span>[(<span class="hljs-keyword">String</span>, <span class="hljs-keyword">Int</span>)] = countMap.toList<br>        .sortWith(<span class="hljs-literal">_</span>._2 &gt; <span class="hljs-literal">_</span>._2)<br>        .take(<span class="hljs-number">3</span>)<br><br>    println(countList) <span class="hljs-comment">// result</span><br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>å•è¯è®¡æ•°æ¡ˆä¾‹æ‰©å±•ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²éƒ½å¯èƒ½å‡ºç°å¤šæ¬¡å¹¶ä¸”å·²ç»ç»Ÿè®¡å¥½å‡ºç°æ¬¡æ•°ï¼Œè§£å†³æ–¹å¼ï¼Œå…ˆæŒ‰æ¬¡æ•°åˆå¹¶ä¹‹åå†æŒ‰ç…§ä¸Šè¿°ä¾‹å­å¤„ç†ã€‚</li>
</ul>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">// strings has their frequency</span><br>def wordCountAdvanced(): Unit = &#123;<br>    val tupleList: List[(String, Int)] = List(<br>        (<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-number">1</span>),<br>        (<span class="hljs-string">&quot;hello world&quot;</span>, <span class="hljs-number">2</span>),<br>        (<span class="hljs-string">&quot;hello scala&quot;</span>, <span class="hljs-number">3</span>),<br>        (<span class="hljs-string">&quot;hello spark from scala&quot;</span>, <span class="hljs-number">1</span>),<br>        (<span class="hljs-string">&quot;hello flink from scala&quot;</span>, <span class="hljs-number">2</span>)<br>    )<br><br>    val newStringList: List[String] = tupleList.<span class="hljs-built_in">map</span>(<br>        <span class="hljs-function"><span class="hljs-params">kv</span> =&gt;</span> (kv._1.<span class="hljs-built_in">trim</span> + <span class="hljs-string">&quot; &quot;</span>) * kv._2<br>    )<br><br>    <span class="hljs-comment">// just like wordCount</span><br>    val wordCountList: List[(String, Int)] = newStringList<br>        .flatMap(_.<span class="hljs-built_in">split</span>(<span class="hljs-string">&quot; &quot;</span>))<br>        .<span class="hljs-built_in">groupBy</span>(<span class="hljs-function"><span class="hljs-params">word</span> =&gt;</span> word)<br>        .<span class="hljs-built_in">map</span>(<span class="hljs-function"><span class="hljs-params">kv</span> =&gt;</span> (kv._1, kv._2.<span class="hljs-built_in">length</span>))<br>        .toList<br>        .sortWith(_._2 &gt; _._2)<br>        .take(<span class="hljs-number">3</span>)<br><br>    println(wordCountList) <span class="hljs-comment">// result</span><br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>å½“ç„¶è¿™å¹¶ä¸é«˜æ•ˆï¼Œæ›´å¥½çš„æ–¹å¼æ˜¯åˆ©ç”¨ä¸Šå·²ç»ç»Ÿè®¡çš„é¢‘ç‡ä¿¡æ¯ã€‚</li>
</ul>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs arcade">def wordCountAdvanced2(): Unit = &#123;<br>    val tupleList: List[(String, Int)] = List(<br>        (<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-number">1</span>),<br>        (<span class="hljs-string">&quot;hello world&quot;</span>, <span class="hljs-number">2</span>),<br>        (<span class="hljs-string">&quot;hello scala&quot;</span>, <span class="hljs-number">3</span>),<br>        (<span class="hljs-string">&quot;hello spark from scala&quot;</span>, <span class="hljs-number">1</span>),<br>        (<span class="hljs-string">&quot;hello flink from scala&quot;</span>, <span class="hljs-number">2</span>)<br>    )<br><br>    <span class="hljs-comment">// first split based on the input frequency</span><br>    val preCountList: List[(String, Int)] = tupleList.flatMap(<br>        <span class="hljs-function"><span class="hljs-params">tuple</span> =&gt;</span> &#123;<br>            val strings: <span class="hljs-built_in">Array</span>[String] = tuple._1.<span class="hljs-built_in">split</span>(<span class="hljs-string">&quot; &quot;</span>)<br>            strings.<span class="hljs-built_in">map</span>(<span class="hljs-function"><span class="hljs-params">word</span> =&gt;</span> (word, tuple._2)) <span class="hljs-comment">// Array[(String, Int)]</span><br>        &#125;<br>    )<br><br>    <span class="hljs-comment">// group as words</span><br>    val groupedMap: <span class="hljs-built_in">Map</span>[String, List[(String, Int)]] = preCountList.<span class="hljs-built_in">groupBy</span>(_._1)<br>    println(groupedMap)<br><br>    <span class="hljs-comment">// count frequency of all words</span><br>    val countMap: <span class="hljs-built_in">Map</span>[String, Int] = groupedMap.<span class="hljs-built_in">map</span>(<br>        <span class="hljs-function"><span class="hljs-params">kv</span> =&gt;</span> (kv._1, kv._2.<span class="hljs-built_in">map</span>(_._2).<span class="hljs-built_in">sum</span>)<br>    )<br>    println(countMap)<br><br>    <span class="hljs-comment">// to list, sort and take first 3 words</span><br>    val countList = countMap.toList.sortWith(_._2 &gt; _._2).take(<span class="hljs-number">3</span>)<br>    println(countList)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>é˜Ÿåˆ—ï¼š</p>
<ul>
<li>å¯å˜é˜Ÿåˆ—<code>mutable.Queue</code></li>
<li>å…¥é˜Ÿ<code>enqueue(Elem*)</code> å‡ºé˜Ÿ<code>Elem = dequeue()</code></li>
<li>ä¸å¯å˜é˜Ÿåˆ—<code>immutable.Queue</code>ï¼Œä½¿ç”¨ä¼´ç”Ÿå¯¹è±¡åˆ›å»ºï¼Œå‡ºé˜Ÿå…¥é˜Ÿè¿”å›æ–°é˜Ÿåˆ—ã€‚</li>
</ul>
<p>å¹¶è¡Œé›†åˆï¼ˆParllel Collectionï¼‰ï¼š</p>
<ul>
<li>ä½¿ç”¨å¹¶è¡Œé›†åˆæ‰§è¡Œæ—¶ä¼šè°ƒç”¨å¤šä¸ªçº¿ç¨‹åŠ é€Ÿæ‰§è¡Œã€‚</li>
<li>ä½¿ç”¨é›†åˆç±»å‰åŠ ä¸€ä¸ª<code>.par</code>æ–¹æ³•ã€‚</li>
<li>å…·ä½“ç»†èŠ‚å¾…è¡¥ã€‚</li>
<li>ä¾èµ–<code>scala.collection.parallel.immutable/mutable</code>ï¼Œ2.13ç‰ˆæœ¬åä¸å†åœ¨æ ‡å‡†åº“ä¸­æä¾›ï¼Œéœ€è¦å•ç‹¬ä¸‹è½½ï¼Œæš‚æœªæ‰¾åˆ°ç¼–å¥½çš„jarçš„ä¸‹è½½åœ°å€ï¼Œä»æºç æ„é€ éœ€è¦sbtï¼ŒTODOã€‚</li>
</ul>
<h2 id="æ¨¡å¼åŒ¹é…"><a href="#æ¨¡å¼åŒ¹é…" class="headerlink" title="æ¨¡å¼åŒ¹é…"></a>æ¨¡å¼åŒ¹é…</h2><p><code>match-case</code>ä¸­çš„æ¨¡å¼åŒ¹é…ï¼š</p>
<ul>
<li>ç”¨äºæ›¿ä»£ä¼ ç»ŸC&#x2F;C++&#x2F;Javaçš„<code>switch-case</code>ç»“æ„ï¼Œä½†è¡¥å……äº†æ›´å¤šåŠŸèƒ½ï¼Œæ‹¥æœ‰æ›´å¼ºçš„èƒ½åŠ›ã€‚</li>
<li>è¯­æ³•ï¼šï¼ˆJavaä¸­ç°åœ¨ä¹Ÿæ”¯æŒ<code>=&gt;</code>çš„å†™æ³•äº†ï¼‰</li>
</ul>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs coq">value <span class="hljs-keyword">match</span> &#123;<br>    <span class="hljs-built_in">case</span> caseVal1 =&gt; returnVal1<br>    <span class="hljs-built_in">case</span> caseVal2 =&gt; returnVal2<br>    ...<br>    <span class="hljs-built_in">case</span> <span class="hljs-keyword">_</span> =&gt; defaultVal<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>æ¯ä¸€ä¸ªcaseæ¡ä»¶æˆç«‹æ‰è¿”å›ï¼Œå¦åˆ™ç»§ç»­å¾€ä¸‹èµ°ã€‚</li>
<li><code>case</code>åŒ¹é…ä¸­å¯ä»¥æ·»åŠ æ¨¡å¼å®ˆå«ï¼Œç”¨æ¡ä»¶åˆ¤æ–­æ¥ä»£æ›¿ç²¾ç¡®åŒ¹é…ã€‚</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dart">def abs(<span class="hljs-built_in">num</span>: Int): Int= &#123;<br>    <span class="hljs-built_in">num</span> match &#123;<br>        <span class="hljs-keyword">case</span> i <span class="hljs-keyword">if</span> i &gt;= <span class="hljs-number">0</span> =&gt; i<br>        <span class="hljs-keyword">case</span> i <span class="hljs-keyword">if</span> i &lt; <span class="hljs-number">0</span> =&gt; -i<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>æ¨¡å¼åŒ¹é…æ”¯æŒç±»å‹ï¼šæ‰€æœ‰ç±»å‹å­—é¢é‡ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²ã€å­—ç¬¦ã€æ•°å­—ã€å¸ƒå°”å€¼ã€ç”šè‡³æ•°ç»„åˆ—è¡¨ç­‰ã€‚</li>
<li>ä½ ç”šè‡³å¯ä»¥ä¼ å…¥<code>Any</code>ç±»å‹å˜é‡ï¼ŒåŒ¹é…ä¸åŒç±»å‹å¸¸é‡ã€‚</li>
<li>éœ€è¦æ³¨æ„é»˜è®¤æƒ…å†µå¤„ç†ï¼Œ<code>case _</code>ä¹Ÿéœ€è¦è¿”å›å€¼ï¼Œå¦‚æœæ²¡æœ‰ä½†æ˜¯åˆæ²¡æœ‰åŒ¹é…åˆ°ï¼Œå°±æŠ›å‡ºè¿è¡Œæ—¶é”™è¯¯ã€‚é»˜è®¤æƒ…å†µ<code>case _</code>ä¸å¼ºåˆ¶è¦æ±‚é€šé…ç¬¦ï¼ˆåªæ˜¯åœ¨ä¸éœ€è¦å˜é‡çš„å€¼å»ºè®®è¿™ä¹ˆåšï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨<code>case abc</code>ä¸€ä¸ªå˜é‡æ¥æ¥ä½ï¼Œå¯ä»¥ä»€ä¹ˆéƒ½ä¸åšï¼Œå¯ä»¥ä½¿ç”¨å®ƒçš„å€¼ã€‚</li>
<li>é€šè¿‡æŒ‡å®šåŒ¹é…å˜é‡çš„ç±»å‹ï¼ˆç”¨ç‰¹å®šç±»å‹å˜é‡æ¥ä½ï¼‰ï¼Œå¯ä»¥åŒ¹é…ç±»å‹è€Œä¸åŒ¹é…å€¼ï¼Œä¹Ÿå¯ä»¥æ··ç”¨ã€‚</li>
<li>éœ€è¦æ³¨æ„ç±»å‹åŒ¹é…æ—¶ç”±äºæ³›å‹æ“¦é™¤ï¼Œå¯èƒ½å¹¶ä¸èƒ½ä¸¥æ ¼åŒ¹é…æ³›å‹çš„ç±»å‹å‚æ•°ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šæŠ¥è­¦å‘Šã€‚ä½†<code>Array</code>æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¯¹åº”äºjavaçš„åŸç”Ÿæ•°ç»„ç±»å‹ï¼Œèƒ½å¤ŸåŒ¹é…æ³›å‹ç±»å‹å‚æ•°ã€‚</li>
</ul>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-comment">// match type</span><br><span class="hljs-keyword">def</span> describeType(x: <span class="hljs-keyword">Any</span>) = x match &#123;<br>    <span class="hljs-keyword">case</span> i: <span class="hljs-keyword">Int</span> =&gt; <span class="hljs-string">&quot;Int &quot;</span> + i<br>    <span class="hljs-keyword">case</span> s: String =&gt; <span class="hljs-string">&quot;String &quot;</span> + s<br>    <span class="hljs-keyword">case</span> list: List[String] =&gt; <span class="hljs-string">&quot;List &quot;</span> + list<br>    <span class="hljs-keyword">case</span> array: Array[<span class="hljs-keyword">Int</span>] =&gt; <span class="hljs-string">&quot;Array[Int] &quot;</span> + array<br>    <span class="hljs-keyword">case</span> a =&gt; <span class="hljs-string">&quot;Something else &quot;</span> + a <br>&#125;<br><span class="hljs-keyword">println</span>(describeType(<span class="hljs-number">20</span>)) <span class="hljs-comment">// match</span><br><span class="hljs-keyword">println</span>(describeType(<span class="hljs-string">&quot;hello&quot;</span>)) <span class="hljs-comment">// match</span><br><span class="hljs-keyword">println</span>(describeType(List(<span class="hljs-string">&quot;hi&quot;</span>, <span class="hljs-string">&quot;hello&quot;</span>))) <span class="hljs-comment">// match</span><br><span class="hljs-keyword">println</span>(describeType(List(<span class="hljs-number">20</span>, <span class="hljs-number">30</span>))) <span class="hljs-comment">// match</span><br><span class="hljs-keyword">println</span>(describeType(Array(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>))) <span class="hljs-comment">// match</span><br><span class="hljs-keyword">println</span>(describeType(Array(<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-string">&quot;yes&quot;</span>))) <span class="hljs-comment">// not match</span><br><span class="hljs-keyword">println</span>(describeType((<span class="hljs-number">10</span>, <span class="hljs-number">20</span>))) <span class="hljs-comment">// not match</span><br></code></pre></td></tr></table></figure>

<ul>
<li>å¯¹äºæ•°ç»„å¯ä»¥å®šä¹‰å¤šç§åŒ¹é…å½¢å¼ï¼Œå¯ä»¥å®šä¹‰æ¨¡ç³Šçš„å…ƒç´ ç±»å‹åŒ¹é…ã€å…ƒç´ æ•°é‡åŒ¹é…æˆ–è€…ç²¾ç¡®çš„æŸä¸ªæ•°ç»„å…ƒç´ å€¼åŒ¹é…ï¼Œéå¸¸å¼ºå¤§ã€‚</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">for</span> (arr &lt;- <span class="hljs-built_in">List</span>(<br>    Array(<span class="hljs-number">0</span>),<br>    Array(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>),<br>    Array(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>),<br>    Array(<span class="hljs-number">10</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">5</span>),<br>    Array(<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>)<br>)) &#123;<br>    val result = arr match &#123;<br>        <span class="hljs-keyword">case</span> Array(<span class="hljs-number">0</span>) =&gt; <span class="hljs-string">&quot;0&quot;</span><br>        <span class="hljs-keyword">case</span> Array(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>) =&gt; <span class="hljs-string">&quot;Array(1, 0)&quot;</span><br>        <span class="hljs-keyword">case</span> Array(x: Int, y: Int) =&gt; s<span class="hljs-string">&quot;Array(<span class="hljs-subst">$x</span>, <span class="hljs-subst">$y</span>)&quot;</span> <span class="hljs-comment">// Array of two elements</span><br>        <span class="hljs-keyword">case</span> Array(<span class="hljs-number">0</span>, _*) =&gt; s<span class="hljs-string">&quot;an array begin with 0&quot;</span><br>        <span class="hljs-keyword">case</span> Array(x, <span class="hljs-number">1</span>, z) =&gt; s<span class="hljs-string">&quot;an array with three elements, no.2 is 1&quot;</span><br>        <span class="hljs-keyword">case</span> Array(x:<span class="hljs-built_in">String</span>, _*) =&gt; s<span class="hljs-string">&quot;array that first element is a string&quot;</span><br>        <span class="hljs-keyword">case</span> _ =&gt; <span class="hljs-string">&quot;somthing else&quot;</span><br>    &#125;<br>    println(result)<br></code></pre></td></tr></table></figure>

<ul>
<li>ListåŒ¹é…å’ŒArrayå·®ä¸å¤šï¼Œä¹Ÿå¾ˆçµæ´»ã€‚è¿˜å¯ç”¨ç”¨é›†åˆç±»çµæ´»çš„è¿ç®—ç¬¦æ¥åŒ¹é…ã€‚<ul>
<li>æ¯”å¦‚ä½¿ç”¨<code>::</code>è¿ç®—ç¬¦åŒ¹é…<code>first :: second :: rest</code>ï¼Œå°†ä¸€ä¸ªåˆ—è¡¨æ‹†æˆä¸‰ä»½ï¼Œç¬¬ä¸€ä¸ªç¬¬äºŒä¸ªå…ƒç´ å’Œå‰©ä½™å…ƒç´ æ„æˆçš„åˆ—è¡¨ã€‚</li>
</ul>
</li>
<li>æ³¨æ„æ¨¡å¼åŒ¹é…ä¸ä»…å¯ä»¥é€šè¿‡è¿”å›å€¼å½“åšè¡¨è¾¾å¼æ¥ç”¨ï¼Œä¹Ÿå¯ä»¥ä»…æ‰§è¡Œè¯­å¥ç±»ä¼¼äºä¼ ç»Ÿ<code>switch-case</code>è¯­å¥ä¸å…³å¿ƒè¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥æ—¢æ‰§è¡Œè¯­å¥åŒæ—¶ä¹Ÿè¿”å›ã€‚</li>
<li>å…ƒç»„åŒ¹é…ï¼š<ul>
<li>å¯ä»¥åŒ¹é…nå…ƒç»„ã€åŒ¹é…å…ƒç´ ç±»å‹ã€åŒ¹é…å…ƒç´ å€¼ã€‚å¦‚æœåªå…³å¿ƒæŸä¸ªå…ƒç´ ï¼Œå…¶ä»–å°±å¯ä»¥ç”¨é€šé…ç¬¦æˆ–å˜é‡ã€‚</li>
<li>å…ƒç»„å¤§å°å›ºå®šï¼Œæ‰€ä»¥ä¸èƒ½ç”¨<code>_*</code>ã€‚</li>
</ul>
</li>
</ul>
<p>å˜é‡å£°æ˜åŒ¹é…ï¼š</p>
<ul>
<li>å˜é‡å£°æ˜ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ¨¡å¼åŒ¹é…çš„è¿‡ç¨‹ã€‚</li>
<li>å…ƒç»„å¸¸ç”¨äºæ‰¹é‡èµ‹å€¼ã€‚</li>
<li><code>val (x, y) = (10, &quot;hello&quot;)</code></li>
<li><code>val List(first, second, _*) = List(1, 3, 4, 5)</code></li>
<li><code>val List(first :: second :: rest) = List(1, 2, 3, 4)</code></li>
</ul>
<p><code>for</code>æ¨å¯¼å¼ä¸­ä¹Ÿå¯ä»¥è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼š</p>
<ul>
<li>å…ƒç»„ä¸­å–å…ƒç´ æ—¶ï¼Œå¿…é¡»ç”¨<code>_1 _2 ...</code>ï¼Œå¯ä»¥ç”¨å…ƒç»„èµ‹å€¼å°†å…ƒç´ èµ‹ç»™å˜é‡ï¼Œæ›´æ¸…æ™°ä¸€äº›ã€‚</li>
<li><code>for ((first, second) &lt;- tupleList)</code></li>
<li><code>for ((first, _) &lt;- tupleList)</code></li>
<li>æŒ‡å®šç‰¹å®šå…ƒç´ çš„å€¼ï¼Œå¯ä»¥å®ç°ç±»ä¼¼äºå¾ªç¯å®ˆå«çš„åŠŸèƒ½ï¼Œç›¸å½“äºåŠ ä¸€å±‚ç­›é€‰ã€‚æ¯”å¦‚<code>for ((10, second) &lt;- tupleList)</code></li>
<li>å…¶ä»–åŒ¹é…ä¹ŸåŒæ ·å¯ä»¥ç”¨ï¼Œå¯ä»¥å…³æ³¨æ•°é‡ã€å€¼ã€ç±»å‹ç­‰ï¼Œç›¸å½“äºåšäº†ç­›é€‰ã€‚</li>
<li>å…ƒç»„åˆ—è¡¨åŒ¹é…ã€èµ‹å€¼åŒ¹é…ã€<code>for</code>å¾ªç¯ä¸­åŒ¹é…éå¸¸çµæ´»ï¼Œçµæ´»è¿ç”¨å¯ä»¥æé«˜ä»£ç å¯è¯»æ€§ã€‚</li>
</ul>
<p>åŒ¹é…å¯¹è±¡ï¼š</p>
<ul>
<li>å¯¹è±¡å†…å®¹åŒ¹é…ã€‚</li>
<li>ç›´æ¥<code>match-case</code>ä¸­åŒ¹é…å¯¹åº”å¼•ç”¨å˜é‡çš„è¯è¯­æ³•æ˜¯æœ‰é—®é¢˜çš„ã€‚ç¼–è¯‘æŠ¥é”™ä¿¡æ¯æç¤ºï¼šä¸æ˜¯æ ·ä¾‹ç±»ä¹Ÿæ²¡æœ‰ä¸€ä¸ªåˆæ³•çš„<code>unapply/unapplySeq</code>æˆå‘˜å®ç°ã€‚</li>
<li>è¦åŒ¹é…å¯¹è±¡ï¼Œéœ€è¦å®ç°ä¼´ç”Ÿå¯¹è±¡<code>unapply</code>æ–¹æ³•ï¼Œç”¨æ¥å¯¹å¯¹è±¡å±æ€§è¿›è¡Œæ‹†è§£ä»¥åšåŒ¹é…ã€‚</li>
</ul>
<p>æ ·ä¾‹ç±»ï¼š</p>
<ul>
<li>ç¬¬äºŒç§å®ç°å¯¹è±¡åŒ¹é…çš„æ–¹å¼æ˜¯æ ·ä¾‹ç±»ã€‚</li>
<li><code>case class className</code>å®šä¹‰æ ·ä¾‹ç±»ï¼Œä¼šç›´æ¥å°†æ‰“åŒ…<code>apply</code>å’Œæ‹†åŒ…<code>unapply</code>çš„æ–¹æ³•ç›´æ¥å®šä¹‰å¥½ã€‚</li>
<li>æ ·ä¾‹ç±»å®šä¹‰ä¸­ä¸»æ„é€ å‚æ•°åˆ—è¡¨ä¸­çš„<code>val</code>ç”šè‡³éƒ½å¯ä»¥çœç•¥ï¼Œå¦‚æœæ˜¯<code>var</code>çš„è¯åˆ™ä¸èƒ½çœç•¥ï¼Œæœ€å¥½åŠ ä¸Šçš„æ„Ÿè§‰ï¼Œå¥‡å¥‡æ€ªæ€ªçš„å„ç§è¾¹è§’ç®€åŒ–ã€‚</li>
</ul>
<p>å¯¹è±¡åŒ¹é…å’Œæ ·ä¾‹ç±»ä¾‹å­ï¼š</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">object</span> MatchObject &#123;<br>    def main(args: Array<span class="hljs-literal">[S<span class="hljs-identifier">tring</span>]</span>): Unit = &#123;<br>        <span class="hljs-keyword">val</span> person = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Person(<span class="hljs-string">&quot;Alice&quot;</span>, 18)</span><br><br>        <span class="hljs-keyword">val</span> result: String = person <span class="hljs-keyword">match</span> &#123;<br>            case <span class="hljs-constructor">Person(<span class="hljs-string">&quot;Alice&quot;</span>, 18)</span> =&gt; <span class="hljs-string">&quot;Person: Alice, 18&quot;</span><br>            case<span class="hljs-function"> <span class="hljs-params">_</span> =&gt;</span> <span class="hljs-string">&quot;something else&quot;</span><br>        &#125;<br>        println(result)<br><br>        <span class="hljs-keyword">val</span> s = <span class="hljs-constructor">Student(<span class="hljs-string">&quot;Alice&quot;</span>, 18)</span><br>        <span class="hljs-keyword">val</span> result2: String = s <span class="hljs-keyword">match</span> &#123;<br>            case <span class="hljs-constructor">Student(<span class="hljs-string">&quot;Alice&quot;</span>, 18)</span> =&gt; <span class="hljs-string">&quot;Student: Alice, 18&quot;</span><br>            case<span class="hljs-function"> <span class="hljs-params">_</span> =&gt;</span> <span class="hljs-string">&quot;something else&quot;</span><br>        &#125;<br>        println(result2)<br>    &#125;<br>&#125;<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-constructor">Person(<span class="hljs-params">val</span> <span class="hljs-params">name</span>: String, <span class="hljs-params">val</span> <span class="hljs-params">age</span>: Int)</span><br><span class="hljs-keyword">object</span> Person &#123;<br>    def apply(name: String, age: Int) = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Person(<span class="hljs-params">name</span>, <span class="hljs-params">age</span>)</span><br>    def unapply(person: Person): Option<span class="hljs-literal">[(S<span class="hljs-identifier">tring</span>, I<span class="hljs-identifier">nt</span>)]</span> = &#123;<br>        <span class="hljs-keyword">if</span> (person<span class="hljs-operator"> == </span>null) &#123; <span class="hljs-comment">// avoid null reference</span><br>            None<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-constructor">Some((<span class="hljs-params">person</span>.<span class="hljs-params">name</span>, <span class="hljs-params">person</span>.<span class="hljs-params">age</span>)</span>)<br>        &#125;<br>    &#125;<br>&#125;<br><br>case <span class="hljs-keyword">class</span> <span class="hljs-constructor">Student(<span class="hljs-params">name</span>: String, <span class="hljs-params">age</span>: Int)</span> <span class="hljs-comment">// name and age are vals</span><br></code></pre></td></tr></table></figure>

<p>åå‡½æ•°ï¼š</p>
<ul>
<li>åå‡½æ•°æ˜¯å‡½æ•°çš„ä¸€ç§ï¼Œé€šè¿‡åå‡½æ•°æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°å¯¹å‚æ•°åšæ›´ç²¾ç¡®çš„æ£€æŸ¥ï¼Œä¾‹å¦‚åå‡½æ•°è¾“å…¥ç±»å‹æ˜¯<code>List[Int]</code>ï¼Œéœ€è¦ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯0çš„é›†åˆï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ¨¡å¼åŒ¹é…å®ç°çš„ã€‚</li>
<li>å®šä¹‰ï¼š</li>
</ul>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">val partialFuncName: PartialFunction[List[<span class="hljs-type">Int</span>], <span class="hljs-keyword">Option</span>[<span class="hljs-type">Int</span>]] = &#123;<br>    <span class="hljs-keyword">case</span> x :: y :: _ =&gt; <span class="hljs-keyword">Some</span>(y)<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>é€šè¿‡ä¸€ä¸ªå˜é‡å®šä¹‰æ–¹å¼å®šä¹‰ï¼Œ<code>PartialFunction</code>çš„æ³›å‹ç±»å‹ä¸­ï¼Œå‰è€…æ˜¯å‚æ•°ç±»å‹ï¼Œåè€…æ˜¯è¿”å›å€¼ç±»å‹ã€‚å‡½æ•°ä½“ä¸­ç”¨ä¸€ä¸ª<code>case</code>è¯­å¥æ¥è¿›è¡Œæ¨¡å¼åŒ¹é…ã€‚ä¸Šé¢ä¾‹å­è¿”å›è¾“å…¥çš„<code>List</code>é›†åˆä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ ã€‚</li>
<li>ä¸€èˆ¬ä¸€ä¸ªåå‡½æ•°åªèƒ½å¤„ç†è¾“å…¥çš„ä¸€éƒ¨åˆ†åœºæ™¯ï¼Œå®é™…ä¸­å¾€å¾€éœ€è¦å®šä¹‰å¤šä¸ªåå‡½æ•°ç”¨ä»¥ç»„åˆä½¿ç”¨ã€‚</li>
<li>ä¾‹å­ï¼š</li>
</ul>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs haxe">object PartialFunctionTest &#123;<br>    def main(args: <span class="hljs-type">Array</span>[<span class="hljs-keyword">String</span>]): <span class="hljs-type">Unit </span>= &#123;<br>        val list: <span class="hljs-type">List</span>[(<span class="hljs-keyword">String</span>, <span class="hljs-keyword">Int</span>)] = List((<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-number">12</span>), (<span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-number">10</span>), (<span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-number">100</span>), (<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-number">5</span>))<br><br>        <span class="hljs-comment">// keep first constant and double second value of the tuple</span><br>        <span class="hljs-comment">// 1. use map</span><br>        val <span class="hljs-keyword">new</span><span class="hljs-type">List</span> = list.map(tuple =&gt; (tuple._1, tuple._2 * <span class="hljs-number">2</span>))<br>        println(<span class="hljs-keyword">new</span><span class="hljs-type">List</span>)<br><br>        <span class="hljs-comment">// 2. pattern matching</span><br>        val <span class="hljs-keyword">new</span><span class="hljs-type">List1</span> = list.map(<br>            tuple =&gt; &#123;<br>                tuple match &#123;<br>                    <span class="hljs-keyword">case</span> (x, y) =&gt; (x, y * <span class="hljs-number">2</span>)<br>                &#125;<br>            &#125;<br>        )<br>        println(<span class="hljs-keyword">new</span><span class="hljs-type">List1</span>)<br><br>        <span class="hljs-comment">// simplify to partial function</span><br>        val <span class="hljs-keyword">new</span><span class="hljs-type">List2</span> = list.map &#123;<br>            <span class="hljs-keyword">case</span> (x, y) =&gt; (x, y * <span class="hljs-number">2</span>) <span class="hljs-comment">// this is a partial function</span><br>        &#125;<br>        println(<span class="hljs-keyword">new</span><span class="hljs-type">List2</span>)<br><br>        <span class="hljs-comment">// application of partial function</span><br>        <span class="hljs-comment">// get absolute value, deal with: negative, 0, positive</span><br>        val positiveAbs: <span class="hljs-type">PartialFunction</span>[<span class="hljs-keyword">Int</span>, <span class="hljs-keyword">Int</span>] = &#123;<br>            <span class="hljs-keyword">case</span> x <span class="hljs-keyword">if</span> x &gt; <span class="hljs-number">0</span> =&gt; x<br>        &#125;<br>        val negativeAbs: <span class="hljs-type">PartialFunction</span>[<span class="hljs-keyword">Int</span>, <span class="hljs-keyword">Int</span>] = &#123;<br>            <span class="hljs-keyword">case</span> x <span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">0</span> =&gt; -x<br>        &#125;<br>        val zeroAbs: <span class="hljs-type">PartialFunction</span>[<span class="hljs-keyword">Int</span>, <span class="hljs-keyword">Int</span>] = &#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span> =&gt; <span class="hljs-number">0</span><br>        &#125;<br><br>        <span class="hljs-comment">// combine a function with three partial functions</span><br>        def abs(x: <span class="hljs-type">Int</span>): <span class="hljs-type">Int </span>= (positiveAbs orElse negativeAbs orElse zeroAbs) (x)<br>        println(abs(<span class="hljs-number">-13</span>))<br>        println(abs(<span class="hljs-number">30</span>))<br>        println(abs(<span class="hljs-number">0</span>))<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h2><p>scalaå¼‚å¸¸å¤„ç†æ•´ä½“ä¸Šçš„è¯­æ³•å’Œåº•å±‚å¤„ç†ç»†èŠ‚å’Œjavaéå¸¸ç±»ä¼¼ã€‚</p>
<p>Javaå¼‚å¸¸å¤„ç†ï¼š</p>
<ul>
<li>ç”¨<code>try</code>è¯­å¥åŒ…å›´è¦æ•è·å¼‚å¸¸çš„å—ï¼Œå¤šä¸ªä¸åŒ<code>catch</code>å—ç”¨äºæ•è·ä¸åŒçš„å¼‚å¸¸ï¼Œ<code>finally</code>å—ä¸­æ˜¯æ•è·å¼‚å¸¸ä¸å¦éƒ½ä¼šæ‰§è¡Œçš„é€»è¾‘ã€‚</li>
</ul>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs abnf">try &#123;<br>    int a <span class="hljs-operator">=</span> <span class="hljs-number">0</span><span class="hljs-comment">;</span><br>    int b <span class="hljs-operator">=</span> <span class="hljs-number">0</span><span class="hljs-comment">;</span><br>    int c <span class="hljs-operator">=</span> a / b<span class="hljs-comment">;</span><br>&#125; catch (ArithmeticException e) &#123;<br>    e.printStackTrace()<span class="hljs-comment">;</span><br>&#125; catch (Exception e) &#123;<br>    e.printStackTrace()<span class="hljs-comment">;</span><br>&#125; finally &#123;<br>    System.out.println(<span class="hljs-string">&quot;finally&quot;</span>)<span class="hljs-comment">;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>scalaå¼‚å¸¸å¤„ç†ï¼š</p>
<ul>
<li><code>try</code>åŒ…å›´è¦æ•è·å¼‚å¸¸çš„å†…å®¹ï¼Œ<code>catch</code>ä»…ä»…æ˜¯å…³é”®å­—ï¼Œå°†æ•è·å¼‚å¸¸çš„æ‰€æœ‰é€»è¾‘åŒ…å›´åœ¨<code>catch</code>å—ä¸­ã€‚<code>finally</code>å—å’Œjavaä¸€æ ·éƒ½ä¼šæ‰§è¡Œï¼Œä¸€èˆ¬ç”¨äºå¯¹è±¡çš„æ¸…ç†å·¥ä½œã€‚</li>
<li>scalaä¸­æ²¡æœ‰ç¼–è¯‘æœŸå¼‚å¸¸ï¼Œæ‰€æœ‰å¼‚å¸¸éƒ½æ˜¯è¿è¡Œæ—¶å¤„ç†ã€‚</li>
<li>scalaä¸­ä¹Ÿæ˜¯ç”¨<code>throw</code>å…³é”®å­—æŠ›å‡ºå¼‚å¸¸ï¼Œæ‰€æœ‰å¼‚å¸¸éƒ½æ˜¯<code>Throwable</code>çš„å­ç±»ï¼Œ<code>throw</code>è¡¨è¾¾å¼æ˜¯æœ‰ç±»å‹çš„ï¼Œå°±æ˜¯<code>Nothing</code>ã€‚<code>Nothing</code>ä¸»è¦ç”¨åœ¨ä¸€ä¸ªå‡½æ•°æ€»æ˜¯ä¸èƒ½æ­£å¸¸å·¥ä½œï¼Œæ€»æ˜¯æŠ›å‡ºå¼‚å¸¸çš„æ—¶å€™ç”¨ä½œè¿”å›å€¼ç±»å‹ã€‚</li>
<li>javaä¸­ç”¨äº†<code>throws</code>å…³é”®å­—å£°æ˜æ­¤æ–¹æ³•å¯èƒ½å¼•å‘çš„å¼‚å¸¸ä¿¡æ¯ï¼Œåœ¨scalaä¸­å¯¹åº”åœ°ä½¿ç”¨<code>@throws[ExceptionList]</code>æ³¨è§£æ¥å£°æ˜ï¼Œç”¨æ³•å·®ä¸å¤šã€‚</li>
</ul>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs processing">object Exceptionstest &#123;<br>    def <span class="hljs-title function_">main</span>(args: <span class="hljs-built_in">Array</span>[<span class="hljs-built_in">String</span>]): Unit = &#123;<br>        <span class="hljs-comment">// test of exceptions</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            val n = <span class="hljs-number">10</span> / <span class="hljs-number">0</span><br>        &#125; <span class="hljs-keyword">catch</span> &#123;<br>            <span class="hljs-keyword">case</span> e: ArithmeticException =&gt; &#123;<br>                <span class="hljs-built_in">println</span>(s<span class="hljs-string">&quot;ArithmeticException raised.&quot;</span>)<br>            &#125;<br>            <span class="hljs-keyword">case</span> e: Exception =&gt; &#123;<br>                <span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;Normal Exceptions raised.&quot;</span>)<br>            &#125;<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;finally&quot;</span>)<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="éšå¼è½¬æ¢"><a href="#éšå¼è½¬æ¢" class="headerlink" title="éšå¼è½¬æ¢"></a>éšå¼è½¬æ¢</h2><p>å‰é¢è¯´äº†å¾ˆå¤šäº†ï¼Œç¼–è¯‘å™¨åšéšå¼è½¬æ¢çš„æ—¶æœºï¼š</p>
<ul>
<li>ç¼–è¯‘å™¨ç¬¬ä¸€æ¬¡ç¼–è¯‘å¤±è´¥æ—¶ï¼Œä¼šåœ¨å½“å‰ç¯å¢ƒä¸­æŸ¥æ‰¾èƒ½è®©ä»£ç ç¼–è¯‘é€šè¿‡çš„æ–¹æ³•ï¼Œå°†ç±»å‹éšå¼è½¬æ¢ï¼Œå°è¯•äºŒæ¬¡ç¼–è¯‘ã€‚</li>
</ul>
<p>éšå¼å‡½æ•°ï¼š</p>
<ul>
<li>å‡½æ•°å®šä¹‰å‰åŠ ä¸Š<code>implicit</code>å£°æ˜ä¸ºéšå¼è½¬æ¢å‡½æ•°ã€‚</li>
<li>å½“ç¼–è¯‘é”™è¯¯æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå°è¯•åœ¨å½“å‰ä½œç”¨åŸŸèŒƒå›´æŸ¥æ‰¾èƒ½è°ƒç”¨å¯¹åº”åŠŸèƒ½çš„è½¬æ¢è§„åˆ™ï¼Œè¿™ä¸ªè¿‡ç¨‹ç”±ç¼–è¯‘å™¨å®Œæˆï¼Œç§°ä¹‹ä¸ºéšå¼è½¬æ¢æˆ–è€…è‡ªåŠ¨è½¬æ¢ã€‚</li>
</ul>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs fortran">// convert <span class="hljs-built_in">Int</span> to MyRichInt<br><span class="hljs-keyword">implicit</span> def convert(arg: <span class="hljs-built_in">Int</span>): MyRichInt = &#123;<br>    new MyRickInt(arg)<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>åœ¨å½“å‰ä½œç”¨åŸŸå®šä¹‰æ—¶éœ€è¦åœ¨ä½¿ç”¨å‰å®šä¹‰æ‰èƒ½æ‰¾åˆ°ã€‚</li>
</ul>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs fortran">object  ImplicitConversion &#123;<br>    def main(args: Array[String]): <span class="hljs-keyword">Unit</span> = &#123;<br>        <span class="hljs-keyword">implicit</span> def convert(num: <span class="hljs-built_in">Int</span>): MyRichInt = new MyRichInt(num)<br><br>        println(<span class="hljs-number">12.</span>myMax(<span class="hljs-number">15</span>)) // will <span class="hljs-keyword">call</span> convert implicitly<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> MyRichInt(val self: <span class="hljs-built_in">Int</span>) &#123;<br>    // self define compare method<br>    def myMax(n: <span class="hljs-built_in">Int</span>): <span class="hljs-built_in">Int</span> = <span class="hljs-keyword">if</span> (n &lt; self) self <span class="hljs-keyword">else</span> n<br>    def myMin(n: <span class="hljs-built_in">Int</span>): <span class="hljs-built_in">Int</span> = <span class="hljs-keyword">if</span> (n &gt; self) self <span class="hljs-keyword">else</span> n<br>&#125;<br></code></pre></td></tr></table></figure>

<p>éšå¼å‚æ•°ï¼š</p>
<ul>
<li>æ™®é€šæ–¹æ³•æˆ–è€…å‡½æ•°ä¸­çš„å‚æ•°å¯ä»¥é€šè¿‡<code>implicit</code>å…³é”®å­—å£°æ˜ä¸ºéšå¼å‚æ•°ï¼Œè°ƒç”¨æ–¹æ³•æ—¶ï¼Œå¦‚æœä¼ å…¥äº†ï¼Œé‚£ä¹ˆä»¥ä¼ å…¥å‚æ•°ä¸ºå‡†ã€‚å¦‚æœæ²¡æœ‰ä¼ å…¥ï¼Œç¼–è¯‘å™¨ä¼šåœ¨å½“å‰ä½œç”¨åŸŸå¯»æ‰¾å¤åˆæ¡ä»¶çš„éšå¼å€¼ã€‚ä¾‹å­ï¼šé›†åˆæ’åºæ–¹æ³•çš„æ’åºè§„åˆ™å°±æ˜¯éšå¼å‚æ•°ã€‚</li>
<li>éšå¼å€¼ï¼š<ul>
<li>åŒä¸€ä¸ªä½œç”¨åŸŸï¼Œç›¸åŒç±»å‹éšå¼å€¼åªèƒ½æœ‰ä¸€ä¸ªã€‚</li>
<li>ç¼–è¯‘å™¨æŒ‰ç…§éšå¼å‚æ•°çš„ç±»å‹å»å¯»æ‰¾å¯¹åº”éšå¼å€¼ï¼Œä¸éšå¼å€¼åç§°æ— å…³ã€‚</li>
<li>éšå¼å‚æ•°ä¼˜å…ˆäºé»˜è®¤å‚æ•°ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´éšå¼å‚æ•°å’Œé»˜è®¤å‚æ•°å¯ä»¥åŒæ—¶å­˜åœ¨ï¼ŒåŠ ä¸Šé»˜è®¤å‚æ•°ä¹‹åå…¶å®å°±ç›¸å½“äºä¸¤ä¸ªä¸åŒä¼˜å…ˆçº§çš„é»˜è®¤å‚æ•°ï¼‰</li>
</ul>
</li>
<li>éšå¼å‚æ•°æœ‰ä¸€ä¸ªå¾ˆæ·¦çš„ç‚¹ï¼š<ul>
<li>å¦‚æœå‚æ•°åˆ—è¡¨ä¸­åªæœ‰ä¸€ä¸ªéšå¼å‚æ•°ï¼Œæ— è®ºè¿™ä¸ªéšå¼å‚æ•°æ˜¯å¦æä¾›é»˜è®¤å‚æ•°ï¼Œé‚£ä¹ˆå¦‚æœè¦ç”¨è¿™ä¸ªéšå¼å‚æ•°å°±åº”è¯¥<strong>å°†è°ƒç”¨éšå¼å‚æ•°çš„å‚æ•°åˆ—è¡¨è¿åŒæ‹¬å·ä¸€èµ·çœç•¥æ‰</strong>ã€‚å¦‚æœè°ƒç”¨æ—¶åˆæƒ³åŠ æ‹¬å·å¯ä»¥åœ¨å‡½æ•°å®šä¹‰çš„éšå¼å‚æ•°åˆ—è¡¨å‰åŠ ä¸€ä¸ªç©ºå‚æ•°åˆ—è¡¨<code>()</code>ï¼Œé‚£ä¹ˆ<code>()</code>å°†ä½¿ç”¨éšå¼å‚æ•°ï¼Œ<code>()()</code>å°†ä½¿ç”¨é»˜è®¤å‚æ•°ï¼ˆå¦‚æœæœ‰ï¼Œæ²¡æœ‰è‚¯å®šç¼–ä¸è¿‡ï¼‰ï¼Œ<code>()(arg)</code>ä½¿ç”¨ä¼ å…¥å‚æ•°ã€‚</li>
<li>ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªéšå¼å‚æ•°æ—¶é€šè¿‡æ˜¯å¦åŠ æ‹¬å·å¯ä»¥åŒºåˆ†éšå¼å‚æ•°ã€é»˜è®¤å‚æ•°ã€ä¼ å…¥å‚æ•°ä¸‰ç§æƒ…å†µã€‚</li>
<li>é‚£ä¹ˆå¦‚æœå¤šå‚æ•°æƒ…å†µä¸‹ï¼šéšå¼å‚æ•°ã€é»˜è®¤å‚æ•°ã€æ™®é€šå‚æ•°æ’åˆ—ç»„åˆåœ¨ä¸€ä¸ªå‚æ•°åˆ—è¡¨ä¸­æ··ç”¨ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿæ²¡æœ‰è¯•éªŒè¿‡ï¼Œä¸è¦è¿™ä¹ˆç”¨ï¼Œæ€è€ƒè¿™äº›ä¸œè¥¿æä»€ä¹ˆå“¦ï¼</li>
<li>å…·ä½“è¦ä¸è¦åŠ è¿™ä¸ªæŸ¯é‡ŒåŒ–çš„ç©ºå‚æ•°åˆ—è¡¨ï¼Œé‚£çœ‹ä¹ æƒ¯å°±è¡Œã€‚ä¸åŠ å¯èƒ½æ›´å¥½ä¸€ç‚¹ï¼ŒåŠ äº†å¯èƒ½æœ‰ç‚¹è®©äººè´¹è§£ã€‚</li>
</ul>
</li>
<li>å¯ä»¥è¿›ä¸€æ­¥ç®€å†™éšå¼å‚æ•°ï¼Œåœ¨å‚æ•°åˆ—è¡¨ä¸­ç›´æ¥å»æ‰ï¼Œåœ¨å‡½æ•°ä¸­ç›´æ¥ä½¿ç”¨<code>implicity[Type]</code>ï¼ˆ<code>Predef</code>ä¸­å®šä¹‰çš„ï¼‰ã€‚ä½†è¿™æ—¶å°±ä¸èƒ½ä¼ å‚æ•°äº†ï¼Œæœ‰ä»€ä¹ˆç”¨å•Šï¼Ÿç›¸å½“äºä¸€ä¸ªåœ¨è‡ªå·±ä½œç”¨åŸŸèŒƒå›´å†…èµ·ä½œç”¨çš„å…¨å±€é‡ï¼Ÿ</li>
</ul>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs fortran">object ImplicitArgments &#123;<br>    def main(args: Array[String]): <span class="hljs-keyword">Unit</span> = &#123;<br>        <span class="hljs-keyword">implicit</span> val str: String = <span class="hljs-string">&quot;Alice from implicit argument&quot;</span><br>        <br>        def sayHello()(<span class="hljs-keyword">implicit</span> <span class="hljs-keyword">name</span>: String = <span class="hljs-string">&quot;Alice from default argument&quot;</span>): <span class="hljs-keyword">Unit</span> = &#123;<br>            println(s<span class="hljs-string">&quot;hello $name&quot;</span>)<br>        &#125;<br><br>        sayHello() // <span class="hljs-keyword">implicit</span><br>        sayHello()() // <span class="hljs-keyword">default</span><br>        sayHello()(<span class="hljs-string">&quot;Alice from normal argument&quot;</span>) // normal<br><br>        def sayHi(<span class="hljs-keyword">implicit</span> <span class="hljs-keyword">name</span>: String = <span class="hljs-string">&quot;Alice from default argument&quot;</span>): <span class="hljs-keyword">Unit</span> = &#123;<br>            println(s<span class="hljs-string">&quot;hi $name&quot;</span>)<br>        &#125;<br><br>        sayHi // <span class="hljs-keyword">implicit</span><br>        sayHi() // <span class="hljs-keyword">default</span><br>        sayHi(<span class="hljs-string">&quot;Alice from normal argument&quot;</span>) // normal<br><br>        def sayBye() = &#123;<br>            println(s<span class="hljs-string">&quot;bye $&#123;implicitly[String]&#125;&quot;</span>)<br>        &#125;<br><br>        sayBye()<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>éšå¼ç±»ï¼š</p>
<ul>
<li>scala2.10ä¹‹åæä¾›äº†éšå¼ç±»ï¼Œä½¿ç”¨<code>implicit</code>å£°æ˜ä¸ºéšå¼ç±»ã€‚å°†ç±»çš„æ„é€ æ–¹æ³•å£°æ˜ä¸ºéšå¼è½¬æ¢å‡½æ•°ã€‚</li>
<li>ä¹Ÿå°±æ˜¯è¯´å¦‚æœç¼–è¯‘é€šä¸è¿‡ï¼Œå°±å¯èƒ½å°†æ•°æ®ç›´æ¥ä¼ ç»™æ„é€ è½¬æ¢ä¸ºå¯¹åº”çš„ç±»ã€‚</li>
<li>éšå¼å‡½æ•°çš„ä¸€ä¸ªæ‰©å±•ã€‚</li>
<li>è¯´æ˜ï¼š<ul>
<li>æ‰€å¸¦æ„é€ å‚æ•°æœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªã€‚</li>
<li>éšå¼ç±»å¿…é¡»è¢«å®šä¹‰åœ¨ç±»æˆ–è€…ä¼´ç”Ÿå¯¹è±¡æˆ–è€…åŒ…å¯¹è±¡ä¸­ï¼Œéšå¼ç±»ä¸èƒ½æ˜¯é¡¶å±‚çš„ã€‚</li>
</ul>
</li>
<li>åŒä¸€ä¸ªä½œç”¨åŸŸå®šä¹‰éšå¼è½¬æ¢å‡½æ•°å’Œéšå¼ç±»ä¼šå†²çªï¼Œå®šä¹‰ä¸€ä¸ªå°±è¡Œã€‚</li>
</ul>
<p>éšå¼è§£ææœºåˆ¶çš„ä½œç”¨åŸŸï¼š</p>
<ul>
<li>é¦–å…ˆåœ¨<strong>å½“å‰ä»£ç ä½œç”¨åŸŸä¸‹</strong>æŸ¥æ‰¾éšå¼å®ä½“ï¼ˆéšå¼æ–¹æ³•ã€éšå¼ç±»ã€éšå¼å¯¹è±¡ï¼‰ã€‚</li>
<li>å¦‚æœç¬¬ä¸€æ¡è§„æŸ¥æ‰¾éšå¼å¯¹è±¡å¤±è´¥ï¼Œä¼šç»§ç»­åœ¨<strong>éšå¼å‚æ•°çš„ç±»å‹çš„ä½œç”¨åŸŸ</strong>ä¸­æŸ¥æ‰¾ã€‚</li>
<li>ç±»å‹çš„ä½œç”¨åŸŸæ˜¯æŒ‡è¯¥ç±»å‹ç›¸å…³è”çš„å…¨éƒ¨ä¼´ç”Ÿå¯¹è±¡ä»¥åŠè¯¥ç±»å‹æ‰€åœ¨åŒ…çš„åŒ…å¯¹è±¡ã€‚</li>
</ul>
<p>ä½œç”¨ï¼š</p>
<ul>
<li>éšå¼å‡½æ•°å’Œéšå¼ç±»å¯ä»¥ç”¨äºæ‰©å……ç±»çš„åŠŸèƒ½ï¼Œå¸¸ç”¨è¯­æ¯”å¦‚å†…å»ºç±»<code>Int Double String</code>è¿™ç§ã€‚</li>
<li>éšå¼å‚æ•°ç›¸å½“äºå°±æ˜¯ä¸€ç§æ›´é«˜ä¼˜å…ˆçº§çš„é»˜è®¤å‚æ•°ã€‚ç”¨äºå¤šä¸ªå‡½æ•°éœ€è¦åŒä¸€ä¸ªé»˜è®¤å‚æ•°æ—¶ï¼Œå°±ä¸ç”¨æ¯ä¸ªå‡½æ•°å®šä¹‰æ—¶éƒ½å†™ä¸€æ¬¡é»˜è®¤å€¼äº†ã€‚ä¸ºäº†ç®€æ´æ— æ‰€ä¸ç”¨å…¶æå•ŠçœŸæ˜¯ã€‚</li>
</ul>
<h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><p>æ³›å‹ï¼š</p>
<ul>
<li><code>[TypeList]</code>ï¼Œå®šä¹‰å’Œä½¿ç”¨éƒ½æ˜¯ã€‚</li>
<li>å¸¸ç”¨äºé›†åˆç±»å‹ä¸­ç”¨äºæ”¯æŒä¸åŒå…ƒç´ ç±»å‹ã€‚</li>
<li>å’Œjavaä¸€æ ·é€šè¿‡ç±»å‹æ“¦é™¤&#x2F;æ“¦æ‹­æ³•æ¥å®ç°ã€‚</li>
<li>å®šä¹‰æ—¶å¯ä»¥ç”¨<code>+-</code>è¡¨ç¤ºåå˜å’Œé€†å˜ï¼Œä¸åŠ åˆ™æ˜¯ä¸å˜ã€‚</li>
</ul>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyList</span>[+T] &#123;&#125; <span class="hljs-comment">// åå˜</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyList</span>[-T] &#123;&#125; <span class="hljs-comment">// é€†å˜</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyList</span>[T] &#123;&#125; <span class="hljs-comment">// ä¸å˜</span><br></code></pre></td></tr></table></figure>

<p>åå˜å’Œé€†å˜ï¼š</p>
<ul>
<li>æ¯”å¦‚Sonå’ŒFatheræ˜¯çˆ¶å­å…³ç³»ï¼ŒSonæ˜¯å­ç±»ã€‚<ul>
<li>åå˜ï¼ˆCovarianceï¼‰ï¼š<code>MyList[Son]</code>æ˜¯<code>MyList[Father]</code>çš„å­ç±»ï¼ŒååŒå˜åŒ–ã€‚</li>
<li>é€†å˜ï¼ˆContravarianceï¼‰ï¼š<code>MyList[Son]</code>æ˜¯<code>MyList[Father]</code>çš„çˆ¶ç±»ï¼Œé€†å‘å˜åŒ–ã€‚</li>
<li>ä¸å˜ï¼ˆInvariantï¼‰ï¼š<code>MyList[Father] MyList[Son]</code>æ²¡æœ‰çˆ¶å­å…³ç³»ã€‚</li>
</ul>
</li>
<li>è¿˜éœ€è¦æ·±å…¥äº†è§£ã€‚</li>
</ul>
<p>æ³›å‹ä¸Šä¸‹é™ï¼š</p>
<ul>
<li>æ³›å‹ä¸Šé™ï¼š<code>class MyList[T &lt;: Type]</code>ï¼Œå¯ä»¥ä¼ å…¥<code>Type</code>è‡ªèº«æˆ–è€…å­ç±»ã€‚</li>
<li>æ³›å‹ä¸‹é™ï¼š<code>class MyList[T &gt;: Type]</code>ï¼Œå¯ä»¥ä¼ å…¥<code>Type</code>è‡ªèº«æˆ–è€…çˆ¶ç±»ã€‚</li>
<li>å¯¹ä¼ å…¥çš„æ³›å‹è¿›è¡Œé™å®šã€‚</li>
</ul>
<p>ä¸Šä¸‹æ–‡é™å®šï¼š</p>
<ul>
<li><code>def f[A : B](a: A) = println(a)</code>ç­‰åŒäº<code>def f[A](a: A)(implicit arg: B[A])</code></li>
<li>æ˜¯å°†æ³›å‹å’Œéšå¼è½¬æ¢ç»“åˆçš„äº§ç‰©ï¼Œä½¿ç”¨ä¸Šä¸‹æ–‡é™å®šï¼ˆå‰è€…ï¼‰åï¼Œæ–¹æ³•å†…æ— æ³•ä½¿ç”¨éšå¼å‚æ•°åè°ƒç”¨éšå¼å‚æ•°ï¼Œéœ€è¦é€šè¿‡<code>implicitly[Ordering[A]]</code>è·å–éšå¼å˜é‡ã€‚</li>
<li>äº†è§£å³å¯ï¼Œå¯èƒ½åŸºæœ¬ä¸ä¼šç”¨åˆ°ã€‚</li>
</ul>
<h2 id="Style-Guide"><a href="#Style-Guide" class="headerlink" title="Style Guide"></a>Style Guide</h2><p><a target="_blank" rel="noopener" href="https://docs.scala-lang.org/style/index.html">å®˜æ–¹çš„Style Guide</a>ä¸­çš„ä¸€äº›å»ºè®®ï¼š</p>
<ul>
<li>ç¼©è¿›é¼“åŠ±ä¸º2ä¸ªï¼Œå½“ç„¶æˆ‘ä¸Šé¢éƒ½æ˜¯ç”¨çš„4ä¸ªã€‚Scalaä¸­å¾ˆå¤šæ—¶å€™åµŒå¥—å±‚æ¬¡ä¼šå¾ˆæ·±ï¼Œä¹Ÿé¼“åŠ±è¿™æ ·åšï¼Œæ¨¡å¼åŒ¹é…ã€åŒ¿åå‡½æ•°ã€å¾ªç¯ã€æ¡ä»¶ç­‰å„ç§åµŒå¥—ï¼Œå±‚æ¬¡æ·±äº†ä¹‹å4ç©ºæ ¼å¯èƒ½ä¼šæ¯”è¾ƒæŠ˜ç£¨ã€‚</li>
<li>ä¸€ä¸ªè¡¨è¾¾å¼ä¸€è¡Œæ”¾ä¸ä¸‹è¦æ¢è¡Œæ—¶ï¼Œè¯­ä¹‰ä¸Šä¸ä¼šäº§ç”Ÿæ­§ä¹‰å°±è¡Œï¼Œæ¯”å¦‚ä¸€ä¸ªè¿ç®—ç¬¦æ”¾åœ¨æœ«å°¾å°†å…¶å¿…éœ€çš„æ“ä½œæ•°æ¢åˆ°ä¸‹ä¸€è¡Œã€‚</li>
<li>å¤šå‚æ•°å‡½æ•°è°ƒç”¨éœ€è¦æ¢è¡Œä¹¦å†™æ—¶ï¼Œå°†ç¬¬ä¸€ä¸ªå‚æ•°æ”¾åˆ°ç¬¬äºŒè¡Œå¹¶ç¼©è¿›2ä¸ªç©ºæ ¼ä¹¦å†™ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°æ”¾åˆ°ç¬¬ä¸€è¡Œï¼Œç„¶åç¼©è¿›åˆ°å¯¹é½ï¼ˆå…¸å‹javaé£æ ¼ï¼‰ã€‚</li>
</ul>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> right!<br>val myLongFieldNameWithNoRealPoint =<br>  foo(<br>    someVeryLongFieldName,<br>    andAnotherVeryLongFieldName,<br>    <span class="hljs-string">&quot;this is a string&quot;</span>,<br>    <span class="hljs-number">3.1415</span>)<br><br><span class="hljs-regexp">//</span> wrong!<br>val myLongFieldNameWithNoRealPoint = foo(someVeryLongFieldName,<br>                                         andAnotherVeryLongFieldName,<br>                                         <span class="hljs-string">&quot;this is a string&quot;</span>,<br>                                         <span class="hljs-number">3.1415</span>)<br></code></pre></td></tr></table></figure>

<ul>
<li>ä»…ä»‹ç»ç¬¬ä¸€é¡µçš„å†…å®¹ï¼Œä¹Ÿæ²¡æœ‰ç©ºå»çœ‹å®Œï¼Œä»¥åçœŸå†™å¾—å¤šäº†å†å»çœ‹ã€‚</li>
</ul>
<h2 id="sbt"><a href="#sbt" class="headerlink" title="sbt"></a>sbt</h2><p>ä¸Šé¢å·²ç»ç®€å•ä»‹ç»äº†IDEAä½¿ç”¨Mavené¡¹ç›®ç¼–å†™Scalaçš„é…ç½®ï¼Œä½†å­¦ä¹ scalaï¼Œå®˜æ–¹çš„æ„å»ºå·¥å…·sbtè¿˜æ˜¯å¿…é¡»è¦äº†è§£ä¸€ä¸‹çš„ã€‚</p>
<p>å…³äºSBTï¼š</p>
<ul>
<li>SBTæ˜¯Scalaçš„æ„å»ºå·¥å…·ï¼Œå…¨ç§°Simple Build Toolï¼Œç±»ä¼¼äº Maven æˆ– Gradleã€‚</li>
<li><a target="_blank" rel="noopener" href="https://docs.scala-lang.org/getting-started/sbt-track/getting-started-with-scala-and-sbt-on-the-command-line.html">GETTING STARTED WITH SCALA AND SBT ON THE COMMAND LINE</a></li>
<li><a target="_blank" rel="noopener" href="https://www.scala-sbt.org/1.x/docs/index.html">sbt Reference Manual</a> è¦ä½¿ç”¨sbtï¼Œé˜…è¯»å®Œç¬¬ä¸€ç« Getting Started with sbtæ˜¯å¿…è¦çš„ã€‚ä¸‹é¢çš„å†…å®¹çš†æ˜¯ç¬¬ä¸€ç« ç¿»è¯‘ã€‚</li>
</ul>
<p>ç‰¹æ€§ï¼š</p>
<ul>
<li>ç®€å•é¡¹ç›®é›¶é…ç½®ã€‚</li>
<li>ç”¨Scalaæºç ç®¡ç†é¡¹ç›®æ„å»ºã€‚</li>
<li>ç²¾ç¡®çš„é‡ç¼–è¯‘ï¼ŒèŠ‚çœæ—¶é—´ã€‚</li>
<li>ä½¿ç”¨Coursierçš„åº“ç®¡ç†å™¨ã€‚</li>
<li>æ”¯æŒScalaå’ŒJavaçš„æ··åˆé¡¹ç›®ã€‚</li>
<li>ç­‰ç­‰ç­‰ï¼Œå…·ä½“å°±ä¸åˆ—äº†ï¼Œæ€»ä¹‹ä¸€ä¸ªå¤§å‹é¡¹ç›®æ„å»ºç³»ç»Ÿè¯¥æœ‰çš„ä¸œè¥¿ã€‚</li>
</ul>
<p>å®‰è£…ï¼š</p>
<ul>
<li>sbtä¾èµ–Javaï¼Œç¡®ä¿å·²ç»å®‰è£…äº†JDK1.8æˆ–ä»¥ä¸Šç‰ˆæœ¬ã€‚</li>
<li>ä¸‹è½½å‹ç¼©åŒ…æˆ–è€…å®‰è£…åŒ…ï¼Œè¿™é‡Œçš„ç‰ˆæœ¬æ˜¯1.5.5ã€‚</li>
<li>è§£å‹æˆ–è€…å®‰è£…ã€‚</li>
<li>é…ç½®ç¯å¢ƒå˜é‡<code>SBT_HOME</code>ï¼Œå¹¶æ·»åŠ <code>%SBT_HOME%\bin</code>åˆ°pathç¯å¢ƒå˜é‡ï¼Œå®‰è£…åŒ…çš„è¯ä¼šè‡ªåŠ¨é…ç½®ã€‚</li>
</ul>
<h3 id="é€šè¿‡æ¡ˆä¾‹å…¥é—¨sbt"><a href="#é€šè¿‡æ¡ˆä¾‹å…¥é—¨sbt" class="headerlink" title="é€šè¿‡æ¡ˆä¾‹å…¥é—¨sbt"></a>é€šè¿‡æ¡ˆä¾‹å…¥é—¨sbt</h3><p>åˆ›å»ºä¸€ä¸ªé¡¹ç›®helloä½œä¸ºä¾‹å­ï¼š</p>
<ul>
<li>windowsä¸Šæ²¡æœ‰çš„å‘½ä»¤æŒ‰ç…§å«ä¹‰æ“ä½œå³å¯ã€‚</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">mkdir</span> foo-build</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">cd</span> foo-build</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">touch</span> build.sbt</span><br></code></pre></td></tr></table></figure>

<p>å¼€å§‹sbt shellï¼š</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs gradle">$ sbt<br>[info] Updated <span class="hljs-keyword">file</span> <span class="hljs-regexp">/tmp/</span>foo-build<span class="hljs-regexp">/project/</span>build.properties: set sbt.version to <span class="hljs-number">1.1</span>.<span class="hljs-number">4</span><br>[info] Loading <span class="hljs-keyword">project</span> definition <span class="hljs-keyword">from</span> <span class="hljs-regexp">/tmp/</span>foo-build/<span class="hljs-keyword">project</span><br>[info] Loading settings <span class="hljs-keyword">from</span> build.sbt ...<br>[info] Set current <span class="hljs-keyword">project</span> to foo-build (in build <span class="hljs-keyword">file</span>:<span class="hljs-regexp">/tmp/</span>foo-build/)<br>[info] sbt server started at local:<span class="hljs-comment">///Users/eed3si9n/.sbt/1.0/server/abc4fb6c89985a00fd95/sock</span><br>sbt:foo-build&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li>ç¬¬ä¸€æ¬¡åˆå§‹åŒ–æ—¶é—´ä¼šå¾ˆé•¿ã€‚</li>
<li>é€€å‡ºshellï¼š</li>
</ul>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sbt:foo-build&gt; <span class="hljs-keyword">exit</span><br></code></pre></td></tr></table></figure>

<ul>
<li>ç¼–è¯‘ï¼š</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">sb</span><span class="hljs-variable">t:foo</span>-build&gt; compile<br></code></pre></td></tr></table></figure>

<ul>
<li>sbt shellä¸­Tabå¯ä»¥è¡¥å…¨ã€‚</li>
</ul>
<p>å¯¹ä¿®æ”¹é‡æ–°ç¼–è¯‘ï¼š</p>
<ul>
<li>åœ¨<code>compile</code>å‘½ä»¤ï¼ˆæˆ–å…¶ä»–å‘½ä»¤åŒç†ï¼‰å‰åŠ ä¸€ä¸ª<code>~</code>å‰ç¼€ï¼Œä¼šè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œå½“é¡¹ç›®å‘ç”Ÿä¿®æ”¹æ˜¯ä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘ã€‚å½“ç„¶é€€å‡ºè¿™ä¸ªçŠ¶æ€åå°±ä¸ä¼šäº†ã€‚</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">sb</span><span class="hljs-variable">t:foo</span>-build&gt; ~compile<br>[success] Total time: <span class="hljs-number">0</span> s, completed May <span class="hljs-number">6</span>, <span class="hljs-number">2018</span> <span class="hljs-number">3</span>:<span class="hljs-number">52</span>:<span class="hljs-number">08</span> PM<br><span class="hljs-number">1</span>. Waiting <span class="hljs-keyword">for</span> <span class="hljs-keyword">source</span> <span class="hljs-keyword">changes</span>... (press enter <span class="hljs-keyword">to</span> interrupt)<br></code></pre></td></tr></table></figure>

<p>åˆ›å»ºæºæ–‡ä»¶ï¼š</p>
<ul>
<li>æ‰§è¡Œ<code>~compile</code>å¹¶ä¿æŒï¼Œåˆ›å»ºç›®å½•<code>src/main/scala/example</code>æ–°å»ºæºæ–‡ä»¶ä¿å­˜å°±èƒ½çœ‹åˆ°ç¼–è¯‘è¿‡ç¨‹äº†ã€‚</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-comment">// src/main/scala/example/Hello.scala</span><br><span class="hljs-keyword">package</span> example<br><br><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Hello</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">App</span> </span>&#123;<br>  println(<span class="hljs-string">&quot;Hello&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>sbt shellå¸¸ç”¨æ“ä½œï¼š</p>
<ul>
<li><code>help</code>å¸®åŠ©ã€‚</li>
<li><code>help run</code>å…·ä½“æ¡ç›®çš„å¸®åŠ©ã€‚</li>
<li><code>run</code>è¿è¡Œç¨‹åºã€‚</li>
<li>ä¸Šä¸‹ç®­å¤´åˆ‡æ¢å·²æ‰§è¡Œå‘½ä»¤ã€‚</li>
<li><code>scalaVersion</code> scalaç‰ˆæœ¬ã€‚</li>
</ul>
<p>é…ç½®ä¿®æ”¹ï¼š</p>
<ul>
<li>åˆ‡æ¢å½“å‰é¡¹ç›®çš„scalaç‰ˆæœ¬ï¼š<code>set ThisBuild / scalaVersion := &quot;2.13.6&quot;</code>ã€‚</li>
<li><code>session save</code>ä¿å­˜é…ç½®åˆ°<code>build.sbt</code>ï¼Œæ­¤æ—¶å…¶ä¸­å°±ä¼šå¤šå‡º<code>ThisBuild / scalaVersion := &quot;2.13.6&quot;</code>ã€‚</li>
<li>ç¼–è¾‘<code>build.sbt</code>ï¼š</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs go">ThisBuild / scalaVersion := <span class="hljs-string">&quot;2.13.6&quot;</span><br>ThisBuild / organization := <span class="hljs-string">&quot;com.example&quot;</span><br><br>lazy val hello = (project in file(<span class="hljs-string">&quot;.&quot;</span>))<br>  .settings(<br>    name := <span class="hljs-string">&quot;Hello&quot;</span><br>  )<br></code></pre></td></tr></table></figure>

<ul>
<li>é‡æ–°åŠ è½½é…ç½®<code>reload</code>ã€‚</li>
</ul>
<p>æµ‹è¯•ï¼š</p>
<ul>
<li>æ·»åŠ ScalaTeståˆ°ä¾èµ–</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cmake">ThisBuild / scalaVersion := <span class="hljs-string">&quot;2.13.6&quot;</span><br>ThisBuild / organization := <span class="hljs-string">&quot;com.example&quot;</span><br><br>lazy val hello = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;.&quot;</span>))<br>  .settings(<br>    name := <span class="hljs-string">&quot;Hello&quot;</span>,<br>    libraryDependencies += <span class="hljs-string">&quot;org.scalatest&quot;</span> %% <span class="hljs-string">&quot;scalatest&quot;</span> % <span class="hljs-string">&quot;3.2.7&quot;</span> % <span class="hljs-keyword">Test</span>,<br>  )<br></code></pre></td></tr></table></figure>

<ul>
<li>æ‰§è¡Œæµ‹è¯•ï¼š<code>test</code>ã€‚</li>
<li>åç»­ç»§ç»­è¿è¡Œè¿½åŠ çš„æµ‹è¯•ï¼š<code>~testQuick</code></li>
</ul>
<p>ç¼–å†™æµ‹è¯•ï¼š<code>src/test/scala/HelloSpec.scala</code></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-comment">// src/test/scala/HelloSpec.scala</span><br><span class="hljs-keyword">import</span> org.scalatest.funsuite._<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloSpec</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AnyFunSuite</span> </span>&#123;<br>  test(<span class="hljs-string">&quot;Hello should start with H&quot;</span>) &#123;<br>    assert(<span class="hljs-string">&quot;hello&quot;</span>.startsWith(<span class="hljs-string">&quot;H&quot;</span>))<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>æµ‹è¯•ç»“æœå½“ç„¶æ˜¯å¤±è´¥</li>
</ul>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros">sbt:Hello&gt; test<br>[<span class="hljs-built_in">info</span>] HelloSpec:<br>[<span class="hljs-built_in">info</span>] - Hello should start with H *** FAILED ***<br>[<span class="hljs-built_in">info</span>]   <span class="hljs-string">&quot;hello&quot;</span> did <span class="hljs-keyword">not</span> start with <span class="hljs-string">&quot;H&quot;</span> (HelloSpec.scala:5)<br>[<span class="hljs-built_in">info</span>] <span class="hljs-built_in">Run</span> completed <span class="hljs-keyword">in</span> 214 milliseconds.<br>[<span class="hljs-built_in">info</span>] Total number of tests run: 1<br>[<span class="hljs-built_in">info</span>] Suites: completed 1, aborted 0<br>[<span class="hljs-built_in">info</span>] Tests: succeeded 0, failed 1, canceled 0, ignored 0, pending 0<br>[<span class="hljs-built_in">info</span>] *** 1 TEST FAILED ***<br>[<span class="hljs-built_in">error</span>] Failed tests:<br>[<span class="hljs-built_in">error</span>]         HelloSpec<br>[<span class="hljs-built_in">error</span>] (Test / test) sbt.TestsFailedException: Tests unsuccessful<br>[<span class="hljs-built_in">error</span>] Total time: 0 s, completed 2021å¹´9æœˆ27æ—¥ ä¸‹åˆ11:58:01<br></code></pre></td></tr></table></figure>

<ul>
<li>æ”¹ä¸€ä¸‹æºç å†æµ‹è¯•å°±èƒ½é€šè¿‡äº†ï¼š</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-comment">// src/test/scala/HelloSpec.scala</span><br><span class="hljs-keyword">import</span> org.scalatest.funsuite._<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloSpec</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AnyFunSuite</span> </span>&#123;<br>  test(<span class="hljs-string">&quot;Hello should start with H&quot;</span>) &#123;<br>    assert(<span class="hljs-string">&quot;Hello&quot;</span>.startsWith(<span class="hljs-string">&quot;H&quot;</span>))<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æ·»åŠ åº“ä¾èµ–ï¼š</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs mel"><span class="hljs-comment">// build.sbt</span><br>ThisBuild / scalaVersion := <span class="hljs-string">&quot;2.13.6&quot;</span><br>ThisBuild / organization := <span class="hljs-string">&quot;com.example&quot;</span><br><br>lazy val hello = (project <span class="hljs-keyword">in</span> <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;.&quot;</span>))<br>  .settings(<br>    name := <span class="hljs-string">&quot;Hello&quot;</span>,<br>    libraryDependencies += <span class="hljs-string">&quot;com.typesafe.play&quot;</span> %% <span class="hljs-string">&quot;play-json&quot;</span> % <span class="hljs-string">&quot;2.9.2&quot;</span>,<br>    libraryDependencies += <span class="hljs-string">&quot;com.eed3si9n&quot;</span> %% <span class="hljs-string">&quot;gigahorse-okhttp&quot;</span> % <span class="hljs-string">&quot;0.5.0&quot;</span>,<br>    libraryDependencies += <span class="hljs-string">&quot;org.scalatest&quot;</span> %% <span class="hljs-string">&quot;scalatest&quot;</span> % <span class="hljs-string">&quot;3.2.7&quot;</span> % Test,<br>  )<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨REPLï¼ˆRead-Eval-Print Loopï¼‰ï¼š</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">sb</span><span class="hljs-variable">t:Hello</span>&gt; console<br></code></pre></td></tr></table></figure>

<ul>
<li>åœ¨scalaçš„REPLç¯å¢ƒä¸­ç²˜è´´ï¼š<code>:paste</code>ã€‚</li>
<li>é€€å‡ºï¼š<code>:q</code></li>
</ul>
<p>ä¿®æ”¹<code>build.sbt</code>åˆ›å»ºä¸€ä¸ªå­é¡¹ç›®ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cmake">ThisBuild / scalaVersion := <span class="hljs-string">&quot;2.13.6&quot;</span><br>ThisBuild / organization := <span class="hljs-string">&quot;com.example&quot;</span><br><br>lazy val hello = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;.&quot;</span>))<br>  .settings(<br>    name := <span class="hljs-string">&quot;Hello&quot;</span>,<br>    libraryDependencies += <span class="hljs-string">&quot;com.eed3si9n&quot;</span> %% <span class="hljs-string">&quot;gigahorse-okhttp&quot;</span> % <span class="hljs-string">&quot;0.5.0&quot;</span>,<br>    libraryDependencies += <span class="hljs-string">&quot;org.scalatest&quot;</span> %% <span class="hljs-string">&quot;scalatest&quot;</span> % <span class="hljs-string">&quot;3.2.7&quot;</span> % <span class="hljs-keyword">Test</span>,<br>  )<br><br>lazy val helloCore = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;core&quot;</span>))<br>  .settings(<br>    name := <span class="hljs-string">&quot;Hello Core&quot;</span>,<br>  )<br></code></pre></td></tr></table></figure>

<ul>
<li><code>reload</code>æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºç›®å½•<code>core/</code>ã€‚</li>
<li>åˆ—å‡ºæ‰€æœ‰å­é¡¹ç›®ï¼š<code>projects</code></li>
<li>ç¼–è¯‘å­é¡¹ç›®ï¼š</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">helloCore/compile<br></code></pre></td></tr></table></figure>

<ul>
<li>å­é¡¹ç›®æ·»åŠ ä¾èµ–ï¼š</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cmake">ThisBuild / scalaVersion := <span class="hljs-string">&quot;2.13.6&quot;</span><br>ThisBuild / organization := <span class="hljs-string">&quot;com.example&quot;</span><br><br>val scalaTest = <span class="hljs-string">&quot;org.scalatest&quot;</span> %% <span class="hljs-string">&quot;scalatest&quot;</span> % <span class="hljs-string">&quot;3.2.7&quot;</span><br><br>lazy val hello = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;.&quot;</span>))<br>  .settings(<br>    name := <span class="hljs-string">&quot;Hello&quot;</span>,<br>    libraryDependencies += <span class="hljs-string">&quot;com.eed3si9n&quot;</span> %% <span class="hljs-string">&quot;gigahorse-okhttp&quot;</span> % <span class="hljs-string">&quot;0.5.0&quot;</span>,<br>    libraryDependencies += scalaTest % <span class="hljs-keyword">Test</span>,<br>  )<br><br>lazy val helloCore = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;core&quot;</span>))<br>  .settings(<br>    name := <span class="hljs-string">&quot;Hello Core&quot;</span>,<br>    libraryDependencies += scalaTest % <span class="hljs-keyword">Test</span>,<br>  )<br></code></pre></td></tr></table></figure>

<p>å¹¿æ’­å‘½ä»¤ã€æ·»åŠ ä¾èµ–ï¼š</p>
<ul>
<li>è®¾ç½®<code>.aggregate(...)</code>ï¼Œè¿™æ ·å‘é€åˆ°<code>hello</code>çš„å‘½ä»¤éƒ½ä¼šè¢«å¹¿æ’­åˆ°<code>helloCore</code></li>
<li>ä½¿ç”¨<code>.dependsOn(...)</code>å¯ä»¥è®¾ç½®ä¾èµ–ï¼Œä¸‹é¢çš„è®¾ç½®ä½¿<code>hello</code>ä¾èµ–äº<code>helloCore</code></li>
<li>å°†Gigahorseçš„ä¾èµ–ç§»åˆ°<code>helloCore</code>ã€‚</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cmake">ThisBuild / scalaVersion := <span class="hljs-string">&quot;2.13.6&quot;</span><br>ThisBuild / organization := <span class="hljs-string">&quot;com.example&quot;</span><br><br>val scalaTest = <span class="hljs-string">&quot;org.scalatest&quot;</span> %% <span class="hljs-string">&quot;scalatest&quot;</span> % <span class="hljs-string">&quot;3.2.7&quot;</span><br>val gigahorse = <span class="hljs-string">&quot;com.eed3si9n&quot;</span> %% <span class="hljs-string">&quot;gigahorse-okhttp&quot;</span> % <span class="hljs-string">&quot;0.5.0&quot;</span><br><br>lazy val hello = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;.&quot;</span>))<br>  .aggregate(helloCore)<br>  .dependsOn(helloCore)<br>  .settings(<br>    name := <span class="hljs-string">&quot;Hello&quot;</span>,<br>    libraryDependencies += scalaTest % <span class="hljs-keyword">Test</span>,<br>  )<br><br>lazy val helloCore = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;core&quot;</span>))<br>  .settings(<br>    name := <span class="hljs-string">&quot;Hello Core&quot;</span>,<br>    libraryDependencies += scalaTest % <span class="hljs-keyword">Test</span>,<br>    libraryDependencies += gigahorse,<br>  )<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨Play JSONè§£æJSONï¼š</p>
<ul>
<li>æ·»åŠ ä¾èµ–ã€‚</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs css">ThisBuild / scalaVersion := <span class="hljs-string">&quot;2.13.6&quot;</span><br>ThisBuild / organization := <span class="hljs-string">&quot;com.example&quot;</span><br><br>val scalaTest = <span class="hljs-string">&quot;org.scalatest&quot;</span> %% <span class="hljs-string">&quot;scalatest&quot;</span> % <span class="hljs-string">&quot;3.2.7&quot;</span><br>val gigahorse = <span class="hljs-string">&quot;com.eed3si9n&quot;</span> %% <span class="hljs-string">&quot;gigahorse-okhttp&quot;</span> % <span class="hljs-string">&quot;0.5.0&quot;</span><br>val playJson  = <span class="hljs-string">&quot;com.typesafe.play&quot;</span> %% <span class="hljs-string">&quot;play-json&quot;</span> % <span class="hljs-string">&quot;2.9.2&quot;</span><br><br>lazy val hello = (project in <span class="hljs-built_in">file</span>(<span class="hljs-string">&quot;.&quot;</span>))<br>  .<span class="hljs-built_in">aggregate</span>(helloCore)<br>  .<span class="hljs-built_in">dependsOn</span>(helloCore)<br>  .<span class="hljs-built_in">settings</span>(<br>    name := <span class="hljs-string">&quot;Hello&quot;</span>,<br>    libraryDependencies += scalaTest % Test,<br>  )<br><br>lazy val helloCore = (project in <span class="hljs-built_in">file</span>(<span class="hljs-string">&quot;core&quot;</span>))<br>  .<span class="hljs-built_in">settings</span>(<br>    name := <span class="hljs-string">&quot;Hello Core&quot;</span>,<br>    libraryDependencies ++= <span class="hljs-built_in">Seq</span>(gigahorse, playJson),<br>    libraryDependencies += scalaTest % Test,<br>  )<br></code></pre></td></tr></table></figure>

<ul>
<li>é‡è½½ï¼Œæ·»åŠ æ–‡ä»¶ï¼š<code>core/src/main/scala/example/core/Weather.scala</code></li>
</ul>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">// core/src/main/scala/example/core/Weather.scala</span><br>package example.core<br><br>import gigahorse._, support.okhttp.Gigahorse<br>import scala.concurrent._, duration._<br>import play.api.libs.json._<br><br><span class="hljs-keyword">object</span> Weather &#123;<br>  <span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> http = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Gigahorse</span>.</span></span>http(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Gigahorse</span>.</span></span>config)<br><br>  def weather: Future<span class="hljs-literal">[S<span class="hljs-identifier">tring</span>]</span> = &#123;<br>    <span class="hljs-keyword">val</span> baseUrl = <span class="hljs-string">&quot;https://www.metaweather.com/api/location&quot;</span><br>    <span class="hljs-keyword">val</span> locUrl = baseUrl + <span class="hljs-string">&quot;/search/&quot;</span><br>    <span class="hljs-keyword">val</span> weatherUrl = baseUrl + <span class="hljs-string">&quot;/%s/&quot;</span><br>    <span class="hljs-keyword">val</span> rLoc = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Gigahorse</span>.</span></span>url(locUrl).get.<br>      add<span class="hljs-constructor">QueryString(<span class="hljs-string">&quot;query&quot;</span> -&gt; <span class="hljs-string">&quot;New York&quot;</span>)</span><br>    import <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ExecutionContext</span>.</span><span class="hljs-module"><span class="hljs-identifier">Implicits</span>.</span></span>global<br>    <span class="hljs-keyword">for</span> &#123;<br>      loc &lt;- http.run(rLoc, parse)<br>      woeid = (loc \ <span class="hljs-number">0</span>  \ <span class="hljs-string">&quot;woeid&quot;</span>).get<br>      rWeather = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Gigahorse</span>.</span></span>url(weatherUrl format woeid).get<br>      weather &lt;- http.run(rWeather, parse)<br>    &#125; yield (weather \\ <span class="hljs-string">&quot;weather_state_name&quot;</span>)(<span class="hljs-number">0</span>).<span class="hljs-keyword">as</span><span class="hljs-literal">[S<span class="hljs-identifier">tring</span>]</span>.toLowerCase<br>  &#125;<br><br>  <span class="hljs-keyword">private</span> def parse = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Gigahorse</span>.</span></span>asString andThen <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Json</span>.</span></span>parse<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>ä¿®æ”¹<code>src/main/scala/example/Hello.scala</code>:</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">package</span> example<br><br><span class="hljs-keyword">import</span> scala.concurrent._, duration._<br><span class="hljs-keyword">import</span> core.<span class="hljs-type">Weather</span><br><br><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Hello</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">App</span> </span>&#123;<br>  <span class="hljs-keyword">val</span> w = <span class="hljs-type">Await</span>.result(<span class="hljs-type">Weather</span>.weather, <span class="hljs-number">10.</span>seconds)<br>  println(<span class="hljs-string">s&quot;Hello! The weather in New York is <span class="hljs-subst">$w</span>.&quot;</span>)<br>  <span class="hljs-type">Weather</span>.http.close()<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>è¿è¡Œï¼š<code>run</code></li>
</ul>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs applescript">sbt:Hello&gt; <span class="hljs-built_in">run</span><br>[info] <span class="hljs-built_in">running</span> example.Hello<br>Hello! The weather <span class="hljs-keyword">in</span> New York <span class="hljs-keyword">is</span> light cloud.<br>[success] Total <span class="hljs-built_in">time</span>: <span class="hljs-number">5</span> s, completed <span class="hljs-number">2021</span>å¹´<span class="hljs-number">9</span>æœˆ<span class="hljs-number">28</span>æ—¥ ä¸Šåˆ<span class="hljs-number">10</span>:<span class="hljs-number">29</span>:<span class="hljs-number">57</span><br></code></pre></td></tr></table></figure>

<p>æ·»åŠ sbt-native-packageræ’ä»¶ï¼š</p>
<ul>
<li>åˆ›å»º<code>project/plugins.sbt</code></li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">addSbtPlugin</span><span class="hljs-params">(<span class="hljs-string">&quot;com.typesafe.sbt&quot;</span> % <span class="hljs-string">&quot;sbt-native-packager&quot;</span> % <span class="hljs-string">&quot;1.3.4&quot;</span>)</span></span><br></code></pre></td></tr></table></figure>

<ul>
<li>ä¿®æ”¹<code>build.sbt</code>å¯¹<code>Hello</code>é¡¹ç›®æ·»åŠ <code>.enablePlugins(JavaAppPackaging)</code></li>
<li>é‡è½½ï¼Œæœ¬åœ°æ²¡æœ‰æ‰§è¡ŒæˆåŠŸï¼Œæ‰€ä»¥ä¸‹é¢çš„<code>dist</code>å‘½ä»¤ä¹Ÿå°±ä¸èƒ½ç”¨ã€‚</li>
</ul>
<p>é‡è½½å¹¶åˆ›å»º.zipåˆ†å‘åŒ…ï¼š<code>dist</code></p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gradle">sbt:Hello&gt; dist<br>[info] Wrote <span class="hljs-regexp">/tmp/</span>foo-build<span class="hljs-regexp">/target/</span>scala-<span class="hljs-number">2.12</span>/hello_2.<span class="hljs-number">12</span>-<span class="hljs-number">0.1</span>.<span class="hljs-number">0</span>-SNAPSHOT.pom<br>[info] Wrote <span class="hljs-regexp">/tmp/</span>foo-build<span class="hljs-regexp">/core/</span>target<span class="hljs-regexp">/scala-2.12/</span>hello-core_2.<span class="hljs-number">12</span>-<span class="hljs-number">0.1</span>.<span class="hljs-number">0</span>-SNAPSHOT.pom<br>[info] Your <span class="hljs-keyword">package</span> is ready in <span class="hljs-regexp">/tmp/</span>foo-build<span class="hljs-regexp">/target/u</span>niversal/hello-<span class="hljs-number">0.1</span>.<span class="hljs-number">0</span>-SNAPSHOT.zip<br></code></pre></td></tr></table></figure>

<p>åº”ç”¨å®¹å™¨åŒ–ï¼š</p>
<ul>
<li><code>Docker/publishLocal</code></li>
<li>è¿è¡Œå®¹å™¨åŒ–åçš„åº”ç”¨ï¼š<code>docker run hello:0.1.0-SNAPSHOT</code></li>
</ul>
<p>è®¾ç½®åº”ç”¨ç‰ˆæœ¬ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs css">// build<span class="hljs-selector-class">.sbt</span><br>ThisBuild / version      := <span class="hljs-string">&quot;0.1.0&quot;</span><br>ThisBuild / scalaVersion := <span class="hljs-string">&quot;2.13.6&quot;</span><br>ThisBuild / organization := <span class="hljs-string">&quot;com.example&quot;</span><br><br>val scalaTest = <span class="hljs-string">&quot;org.scalatest&quot;</span> %% <span class="hljs-string">&quot;scalatest&quot;</span> % <span class="hljs-string">&quot;3.2.7&quot;</span><br>val gigahorse = <span class="hljs-string">&quot;com.eed3si9n&quot;</span> %% <span class="hljs-string">&quot;gigahorse-okhttp&quot;</span> % <span class="hljs-string">&quot;0.5.0&quot;</span><br>val playJson  = <span class="hljs-string">&quot;com.typesafe.play&quot;</span> %% <span class="hljs-string">&quot;play-json&quot;</span> % <span class="hljs-string">&quot;2.9.2&quot;</span><br><br>lazy val hello = (project in <span class="hljs-built_in">file</span>(<span class="hljs-string">&quot;.&quot;</span>))<br>  .<span class="hljs-built_in">aggregate</span>(helloCore)<br>  .<span class="hljs-built_in">dependsOn</span>(helloCore)<br>  .<span class="hljs-built_in">enablePlugins</span>(JavaAppPackaging)<br>  .<span class="hljs-built_in">settings</span>(<br>    name := <span class="hljs-string">&quot;Hello&quot;</span>,<br>    libraryDependencies += scalaTest % Test,<br>  )<br><br>lazy val helloCore = (project in <span class="hljs-built_in">file</span>(<span class="hljs-string">&quot;core&quot;</span>))<br>  .<span class="hljs-built_in">settings</span>(<br>    name := <span class="hljs-string">&quot;Hello Core&quot;</span>,<br>    libraryDependencies ++= <span class="hljs-built_in">Seq</span>(gigahorse, playJson),<br>    libraryDependencies += scalaTest % Test,<br>  )<br></code></pre></td></tr></table></figure>

<p>ä¸´æ—¶åˆ‡æ¢Scalaç‰ˆæœ¬ï¼š</p>
<ul>
<li><code>++2.12.14</code></li>
</ul>
<p>åœ¨Bashä¸­ç›´æ¥è¿è¡Œsbtçš„å‘½ä»¤ï¼š</p>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel">sbt <span class="hljs-built_in">clean</span> <span class="hljs-string">&quot;testOnly HelloSpec&quot;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>è¿™æ ·ç¨‹åºè¿è¡Œèµ·æ¥ä¼šæ…¢ä¸€äº›ã€‚</li>
<li>è¿ç»­çš„å¼€å‘çš„è¯ï¼Œæ¨èä½¿ç”¨sbt shellæˆ–è€…è¿ç»­æµ‹è¯•æ¯”å¦‚<code>~testQuick</code>ã€‚</li>
</ul>
<p><code>new</code>å‘½ä»¤ï¼š</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs gradle">$ sbt <span class="hljs-keyword">new</span> scala/scala-seed.g8<br>....<br>A minimal Scala <span class="hljs-keyword">project</span>.<br><br>name [My Something <span class="hljs-keyword">Project</span>]: hello<br><br>Template applied in ./hello<br></code></pre></td></tr></table></figure>

<ul>
<li>ä¼šåˆ›å»ºä¸€ä¸ªç®€å•çš„é¡¹ç›®ï¼Œè¦æ±‚è¾“å…¥é¡¹ç›®åæ—¶è¾“å…¥<code>hello</code>ï¼Œä¼šåœ¨<code>hello/</code>ä¸‹åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚</li>
</ul>
<h3 id="sbtä½¿ç”¨"><a href="#sbtä½¿ç”¨" class="headerlink" title="sbtä½¿ç”¨"></a>sbtä½¿ç”¨</h3><p>é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼š</p>
<ul>
<li>base directoryæ˜¯åŒ…å«é¡¹ç›®çš„ç›®å½•ï¼Œè¿™é‡Œç§°ä¸ºé¡¹ç›®æ ¹ç›®å½•ã€‚</li>
<li>sbtä½¿ç”¨å’ŒMavenä¸€æ ·çš„æºç ç»“æ„ï¼Œæºæ–‡ä»¶è·¯å¾„éƒ½æ˜¯åŸºäºé¡¹ç›®æ ¹ç›®å½•çš„ç›¸å¯¹è·¯å¾„ã€‚</li>
</ul>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs stata">src/<br>  main/<br>    resources/<br>       &lt;files to <span class="hljs-keyword">include</span> <span class="hljs-keyword">in</span> main jar here&gt;<br>    <span class="hljs-keyword">scala</span>/<br>       &lt;main <span class="hljs-keyword">Scala</span> sources&gt;<br>    <span class="hljs-keyword">scala</span>-2.12/<br>       &lt;main <span class="hljs-keyword">Scala</span> 2.12 specific sources&gt;<br>    java/<br>       &lt;main Java sources&gt;<br>  <span class="hljs-keyword">test</span>/<br>    resources<br>       &lt;files to <span class="hljs-keyword">include</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">test</span> jar here&gt;<br>    <span class="hljs-keyword">scala</span>/<br>       &lt;<span class="hljs-keyword">test</span> <span class="hljs-keyword">Scala</span> sources&gt;<br>    <span class="hljs-keyword">scala</span>-2.12/<br>       &lt;<span class="hljs-keyword">test</span> <span class="hljs-keyword">Scala</span> 2.12 specific sources&gt;<br>    java/<br>       &lt;<span class="hljs-keyword">test</span> Java sources&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li>å…¶ä»–<code>src/</code>ä¸­çš„ç›®å½•ä¼šè¢«å¿½ç•¥ï¼Œæ‰€æœ‰éšè—ç›®å½•éƒ½ä¼šè¢«å¿½ç•¥ã€‚</li>
<li>æºç å¯ä»¥è¢«æ”¾åœ¨æ ¹ç›®å½•çš„<code>hello/app.scala</code>ï¼Œå¯¹å°é¡¹ç›®æ˜¯å¯è¡Œçš„ã€‚ç„¶è€Œä¸€èˆ¬æ¥è¯´ï¼Œäººä»¬å€¾å‘äºå°†é¡¹ç›®æ”¾åœ¨<code>src/main/</code>ä¸‹é¢æ¥ä¿è¯äº‹æƒ…èƒ½å¤Ÿæœ‰æ¡ç†åœ°è¿›è¡Œã€‚å¦‚æœä½ è‡ªè¡Œç®¡ç†å®šåˆ¶äº†é¡¹ç›®çš„æ„å»ºçš„è¯ï¼Œè‡ªå®šä¹‰æºç çš„ä½ç½®ä¹Ÿæ˜¯å¯è¡Œçš„ã€‚</li>
<li>sbtçš„æ„å»ºå®šä¹‰æ–‡ä»¶ï¼š<code>build.sbt</code></li>
<li>é™¤æ­¤ä¹‹å¤–ï¼Œ<code>project</code>ç›®å½•ä¸­çš„<code>.scala</code>æ–‡ä»¶å¯ä»¥å®šä¹‰é¡¹ç›®å¸®åŠ©æ–‡ä»¶å’Œä¸€æ¬¡æ€§çš„æ’ä»¶ã€‚</li>
</ul>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gradle">build.sbt<br><span class="hljs-keyword">project</span>/<br>  <span class="hljs-keyword">Dependencies</span>.scala<br></code></pre></td></tr></table></figure>

<ul>
<li>ç”Ÿæˆæ–‡ä»¶ï¼š<code>.class</code>ï¼Œç”Ÿæˆçš„<code>jar</code>ï¼Œå…¶ä»–æ–‡ä»¶å’Œæ–‡æ¡£ç­‰ä¼šè¢«é»˜è®¤è¾“å‡ºåˆ°<code>target</code>ç›®å½•ã€‚</li>
<li>ä¸€èˆ¬ç”Ÿæˆæ–‡ä»¶åº”è¯¥è¦æ’é™¤åœ¨ç‰ˆæœ¬æ§åˆ¶ä¹‹å¤–ï¼Œåœ¨<code>.gitignore</code>ä¸­æ·»åŠ ï¼š</li>
</ul>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs aspectj"><span class="hljs-keyword">target</span>/<br></code></pre></td></tr></table></figure>

<p>è¿è¡Œï¼š</p>
<ul>
<li>è¿è¡Œsbt shellï¼š<code>sbt</code>æ— å‚æ•°è¿è¡Œï¼Œè¿›å…¥sbtçš„æç¤ºç¬¦ï¼Œæœ‰tabè¡¥å…¨å’Œæ‰§è¡Œå†å²ã€‚</li>
<li>ç¼–è¯‘ï¼š<code>compile</code></li>
<li>è¿è¡Œï¼š<code>run</code></li>
<li>ä¸è¿›å…¥sbt shellç›´æ¥è¿è¡Œsbtå‘½ä»¤ï¼šç”¨<code>&quot;&quot;</code>åŒ…èµ·æ¥è¡¨ç¤ºæ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œç›¸å¯¹æ¥è¯´ä¼šæ…¢ä¸€äº›ã€‚</li>
</ul>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel">sbt <span class="hljs-built_in">clean</span> compile <span class="hljs-string">&quot;testOnly TestA TestB&quot;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>ä¼šä¸€æ¬¡æ‰§è¡Œ<code>clean compile testOnly</code>ï¼Œ<code>TestA TestB</code>æ˜¯ä¼ ç»™<code>testOnly</code>çš„å‚æ•°ã€‚</li>
<li>ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨é‡ç¼–è¯‘è¿è¡Œæµ‹è¯•ï¼š<code>~testQuick</code>ã€‚</li>
<li>å‘½ä»¤åŠ ä¸Š<code>~</code>åä¼šè¿›å…¥å¾ªç¯æ¨¡å¼ï¼Œä¿å­˜æ–‡ä»¶éƒ½ä¼šè‡ªåŠ¨è¿è¡Œã€‚å›è½¦é€€å‡ºã€‚</li>
<li>å¸¸ç”¨å‘½ä»¤ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>clean</td>
<td>Deletes all generated files (in the target directory).</td>
</tr>
<tr>
<td>compile</td>
<td>Compiles the main sources (in src&#x2F;main&#x2F;scala and src&#x2F;main&#x2F;java directories).</td>
</tr>
<tr>
<td>test</td>
<td>Compiles and runs all tests.</td>
</tr>
<tr>
<td>console</td>
<td>Starts the Scala interpreter with a classpath including the compiled sources and all dependencies. To return to sbt, type :quit, Ctrl+D (Unix), or Ctrl+Z (Windows).</td>
</tr>
<tr>
<td>run argument*</td>
<td>Runs the main class for the project in the same virtual machine as sbt.</td>
</tr>
<tr>
<td>package</td>
<td>Creates a jar file containing the files in src&#x2F;main&#x2F;resources and the classes compiled from src&#x2F;main&#x2F;scala and src&#x2F;main&#x2F;java.</td>
</tr>
<tr>
<td>help command</td>
<td>Displays detailed help for the specified command. If no command is provided, displays brief descriptions of all commands.</td>
</tr>
<tr>
<td>reload</td>
<td>Reloads the build definition (build.sbt, project&#x2F;<em>.scala, project&#x2F;</em>.sbt files). Needed if you change the build definition.</td>
</tr>
</tbody></table>
<h3 id="build-sbt"><a href="#build-sbt" class="headerlink" title="build.sbt"></a>build.sbt</h3><p><code>build.sbt</code>æ„å»ºå®šä¹‰ï¼š</p>
<ul>
<li>æŒ‡å®šsbtç‰ˆæœ¬ï¼Œè¿™æ ·å°±ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„sbtæ„å»ºåŒä¸€ä¸ªé¡¹ç›®äº†ã€‚å¦‚æœæŒ‡å®šçš„ç‰ˆæœ¬ä¸å¯ç”¨ï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨ä¸‹è½½ã€‚</li>
</ul>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">sbt</span>.version=<span class="hljs-number">1</span>.<span class="hljs-number">5</span>.<span class="hljs-number">5</span><br></code></pre></td></tr></table></figure>

<ul>
<li>æ„å»ºå®šä¹‰ï¼ˆbuild definitionï¼‰ï¼š</li>
<li>åŒ…å«äº†ä¸€ç³»åˆ—é¡¹ç›®ï¼ˆ<a target="_blank" rel="noopener" href="https://www.scala-sbt.org/1.x/api/sbt/Project.html">Scalaä¸­çš„Projectç±»å‹</a>ï¼‰ï¼Œé¡¹ç›®è¿™ä¸ªåè¯æœ‰ä¸€å®šçš„æ¨¡ç³Šæ€§ï¼Œæ‰€ä»¥å…¶ä¸­çš„ä¸€ä¸ªä¸ªé¡¹ç›®ä¸€èˆ¬å°†ä¹‹ç§°ä¸ºå­é¡¹ç›®ã€‚</li>
<li>åœ¨<code>build.sbt</code>ä¸­å¯ä»¥å®šä¹‰ä¸€ä¸ªåœ¨å½“å‰ç›®å½•ä¸­çš„å­é¡¹ç›®ï¼š</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cmake">lazy val root = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;.&quot;</span>))<br>  .settings(<br>    name := <span class="hljs-string">&quot;Hello&quot;</span>,<br>    scalaVersion := <span class="hljs-string">&quot;2.12.7&quot;</span><br>  )<br></code></pre></td></tr></table></figure>

<ul>
<li>é¡¹ç›®çš„åç§°åœ¨<code>.setting</code>æ–¹æ³•ä¸­ç”¨ä¸€ä¸ªé”®å€¼å¯¹å®šä¹‰ï¼Œkeyæ˜¯<code>name</code>ï¼Œå€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºé¡¹ç›®åç§°ã€‚</li>
<li><code>build.sbt</code>å®šä¹‰æ‰€æœ‰çš„å­é¡¹ç›®ï¼ŒåŒ…å«ä¸€äº›çš„é”®å€¼å¯¹ç§°ä¸º<code>setting</code>è¡¨è¾¾å¼ï¼Œä½¿ç”¨ä¸€é—¨build.sbt DSLï¼ˆæœ¬è´¨ä¸Šå…¶å®å°±æ˜¯Scalaï¼‰æ¥å®šä¹‰é¡¹ç›®ã€‚</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs go">ThisBuild / organization := <span class="hljs-string">&quot;com.example&quot;</span><br>ThisBuild / scalaVersion := <span class="hljs-string">&quot;2.12.14&quot;</span><br>ThisBuild / version      := <span class="hljs-string">&quot;0.1.0-SNAPSHOT&quot;</span><br><br>lazy val root = (project in file(<span class="hljs-string">&quot;.&quot;</span>))<br>  .settings(<br>    name := <span class="hljs-string">&quot;hello&quot;</span><br>  )<br></code></pre></td></tr></table></figure>

<ul>
<li><p>çœ‹ä¸€çœ‹è¿™é—¨DSLçš„å®šä¹‰ï¼š</p>
<p><img src="https://raw.githubusercontent.com/YUTING0907/PicGo/main/imgScala_sbt_dsl_setting_expression.png" srcset="/img/loading.gif" lazyload></p>
<p>æ¯ä¸€ä¸ªéƒ½å«åšä¸€ä¸ªsetting expressionï¼Œå…¶ä¸­çš„ä¸€äº›åˆè¢«å«åštask expressionã€‚</p>
</li>
<li><p>ä¸€ä¸ªsetting expressionåŒ…å«ä¸‰éƒ¨åˆ†ï¼š</p>
<ol>
<li>å·¦è¾¹æ˜¯keyã€‚</li>
<li>æ“ä½œç¬¦ï¼Œè¿™ä¸ªä¾‹å­ä¸­æ˜¯<code>:=</code></li>
<li>å³è¾¹æ˜¯setting bodyã€‚</li>
</ol>
</li>
<li><p>ä¸€ä¸ªkeyçš„ç±»å‹æ˜¯<code>sbt.SettingKey[T] sbt.TaskKey[T] sbt.InputKey[T]</code>å…¶ä¸­ä¸€è€…çš„å®ä¾‹ï¼ŒTæ˜¯æœŸæœ›çš„å€¼ç±»å‹ã€‚</p>
</li>
<li><p>æ¯”å¦‚<code>name</code>å°±ç»‘å®šåˆ°äº†<code>SettingKey[String]</code>ç±»å‹ï¼Œç»™ä¸ªå…¶ä»–ç±»å‹æ¯”å¦‚æ•´æ•°çš„è¯å°±ä¼šç¼–è¯‘é”™è¯¯ã€‚</p>
</li>
<li><p>åœ¨<code>build.sbt</code>ä¸­å¯ä»¥ç©¿æ’<code>val</code> <code>lazy val</code> <code>def</code>ï¼Œä½†æ˜¯ä¸èƒ½æœ‰é¡¶å±‚<code>object class</code>å®šä¹‰ã€‚</p>
</li>
</ul>
<p>expressionçš„keyï¼š</p>
<ul>
<li>ä¸‰ç§ç±»å‹ï¼š<ul>
<li><code>SettingKey[T]</code> å€¼ä»…åœ¨åŠ è½½å­é¡¹ç›®æ—¶è®¡ç®—ä¸€æ¬¡ï¼Œç„¶åä¿æŒã€‚</li>
<li><code>TaskKey[T]</code> å€¼è¢«ç§°ä¸ºä¸€ä¸ªä»»åŠ¡ï¼ˆtaskï¼‰ï¼Œæ¯æ¬¡éƒ½ä¼šé‡æ–°è®¡ç®—ï¼ˆä½•æ—¶ï¼Ÿï¼‰ï¼Œå­˜åœ¨æ½œåœ¨çš„å‰¯ä½œç”¨ã€‚</li>
<li><code>InputKey[T]</code> å€¼æ˜¯æœ‰å‘½ä»¤è¡Œè¾“å…¥ä½œä¸ºå‚æ•°çš„ä»»åŠ¡ï¼Œç»†èŠ‚è§<a target="_blank" rel="noopener" href="https://www.scala-sbt.org/1.x/docs/Input-Tasks.html">Input Tasks</a>ã€‚</li>
</ul>
</li>
<li>å†…å»ºçš„keyså°±æ˜¯<code>sbt.Keys</code>å•ä¾‹ä¼´ç”Ÿå¯¹è±¡çš„åŸŸã€‚<code>build.sbt</code>éšå¼å¯¼å…¥<code>import sbt.Keys._</code>ï¼Œ<code>sbt.Keys.name</code>å°±æ˜¯<code>name</code>ï¼Œæ‰€ä»¥å…¶å®å°±æ˜¯å¯¹è¿™äº›å­—æ®µåšèµ‹å€¼ã€‚</li>
<li>è‡ªå®šä¹‰keyï¼šä½¿ç”¨å„è‡ªçš„æ–¹æ³•<code>settingKey taskKey inputKey</code>ï¼Œæ¯ä¸ªæ–¹æ³•éœ€è¦ä¸€ä¸ªvalueçš„ç±»å‹å’Œæè¿°ã€‚keyçš„åç§°å°±æ˜¯è¢«èµ‹å€¼åˆ°çš„å¼•ç”¨å˜é‡åç§°ã€‚</li>
<li>å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰keyï¼Œåç§°æ˜¯<code>hello</code>ï¼Œç±»å‹æ˜¯<code>TaskKey</code>ï¼Œå¯¹åº”å€¼ç±»å‹æ˜¯<code>Unit</code>ï¼š</li>
</ul>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fsharp"><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> hello <span class="hljs-operator">=</span> taskKey[Unit](<span class="hljs-string">&quot;An example task&quot;</span>)<br></code></pre></td></tr></table></figure>

<ul>
<li>æ‰€æœ‰è¿™ç§å®šä¹‰éƒ½åœ¨è®¾ç½®å‰è¢«æ±‚å€¼ï¼Œæ— è®ºå®šä¹‰åœ¨æ–‡ä»¶ä»€ä¹ˆä½ç½®ã€‚</li>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨<code>lazy val</code>è€Œä¸æ˜¯<code>val</code>æ¥é¿å…åˆå§‹åŒ–é¡ºåºå¯¼è‡´çš„é—®é¢˜ã€‚</li>
<li>Taskå’ŒSettingåŒºåˆ«ï¼š<ul>
<li>Taskæ˜¯ä»»åŠ¡ï¼Œæ¯”å¦‚<code>compile</code> <code>package</code>éƒ½æ˜¯<code>sbt.Keys</code>ä¸­çš„åŸŸï¼ŒåŒæ—¶ä¹Ÿæ˜¯sbt shellä¸­å¯æ‰§è¡Œçš„å‘½ä»¤ã€‚åº”è¯¥è¿”å›<code>Unit</code>æˆ–è€…è¿”å›å’Œè¿™ä¸ªä»»åŠ¡ç›¸å…³çš„å€¼ï¼Œæ¯”å¦‚<code>package</code>æ˜¯<code>TaskKey[File]</code>å€¼æ˜¯å…¶åˆ›å»ºçš„jaræ–‡ä»¶ã€‚</li>
<li>æ¯ä¸€æ¬¡å¼€å§‹ä¸€ä¸ªä»»åŠ¡ï¼Œæ¯”å¦‚sbt shellä¸­æ‰§è¡Œ<code>compile</code>ï¼Œsbtéƒ½ä¼šé‡æ–°è·‘ï¼ˆä»…ï¼‰ä¸€æ¬¡è¿™ä¸ªä»»åŠ¡ç›¸å…³çš„æ‰€æœ‰ä»»åŠ¡ã€‚</li>
<li>è€ŒSettingä»…ä»…åªæ˜¯ä¸€ä¸ªæœ´ç´ çš„è®¾ç½®é¡¹ã€‚</li>
</ul>
</li>
</ul>
<p>å®šä¹‰ä»»åŠ¡å’Œè®¾ç½®ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>:=</code>å¯ä»¥å°†ä¸€ä¸ªè®¾ç½®æˆ–è€…ä¸€é¡¹è®¡ç®—ä»»åŠ¡èµ‹å€¼ã€‚è®¾ç½®åªä¼šåœ¨è®°è½½é¡¹ç›®æ—¶è®¡ç®—ä¸€æ¬¡ï¼Œä»»åŠ¡åˆ™ä¼šåœ¨æ¯æ¬¡æ‰§è¡Œè¿™ä¸ªä»»åŠ¡è¢«æ‰§è¡Œæ—¶é‡æ–°æ‰§è¡Œã€‚</li>
<li>æ–°å»ºä¸€ä¸ªä»»åŠ¡ï¼š</li>
</ul>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs fsharp"><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> hello <span class="hljs-operator">=</span> taskKey[Unit](<span class="hljs-string">&quot;An example task&quot;</span>)<br><br><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> root <span class="hljs-operator">=</span> (project <span class="hljs-keyword">in</span> file(<span class="hljs-string">&quot;.&quot;</span>))<br>  .settings(<br>    hello <span class="hljs-operator">:=</span> &#123; println(<span class="hljs-string">&quot;Hello!&quot;</span>) &#125;<br>  )<br></code></pre></td></tr></table></figure>

<ul>
<li>ä»»åŠ¡ä¹Ÿåœ¨<code>.settings</code>ä¸­è¢«èµ‹å€¼ã€‚</li>
<li>æ¯æ¬¡åœ¨sbt shellä¸­æ‰§è¡Œ<code>hello</code>éƒ½ä¼šæ‰§è¡Œå…¶ä¸­<code>println</code>è¯­å¥ã€‚</li>
<li>å®šä¹‰è®¾ç½®çš„è¯å·²ç»è¯´è¿‡ã€‚</li>
<li>ä»ç±»å‹ç³»ç»Ÿçš„è§†è§’æ¥çœ‹ï¼Œå¯¹ä»»åŠ¡èµ‹å€¼å¾—åˆ°ä¸€ä¸ª<code>Setting[Task[T]]</code>ï¼Œå¯¹è®¾ç½®èµ‹å€¼å¾—åˆ°<code>Setting[T]</code>ã€‚<code>T Task[T]</code>çš„åŒºåˆ«æœ‰ä¸€å±‚éšå«çš„å«ä¹‰ï¼šä¸€ä¸ªè®¾ç½®ä¸èƒ½ä¾èµ–äºä¸€ä¸ªä»»åŠ¡ã€‚å› ä¸ºè®¾ç½®ä»…è®°è½½æ˜¯æ±‚å€¼ä¸€æ¬¡ä¸ä¼šæ¯æ¬¡éƒ½é‡æ–°è¿è¡Œã€‚</li>
</ul>
<p>sbt shellä¸­çš„keyï¼š</p>
<ul>
<li>sbt shellä¸­å¯ä»¥è¾“å…¥ä»»ä½•ä»»åŠ¡åç§°éƒ½ä¼šè¿è¡Œè¯¥ä»»åŠ¡ï¼Œå› ä¸ºè¿™ä¸ªä»»åŠ¡åç§°æ˜¯keyã€‚è¿è¡Œè¯¥ä»»åŠ¡ä½†å¹¶ä¸ä¼šæ˜¾ç¤ºè¿è¡Œç»“æœå€¼ï¼ˆä¹Ÿå°±æ˜¯è¿”å›å€¼ï¼Œç±»å‹å°±æ˜¯<code>taskKey[T]</code>ä¸­çš„<code>T</code>ï¼‰ï¼Œè¦æ˜¾ç¤ºç»“æœå€¼ï¼Œåº”è¯¥ä½¿ç”¨<code>show &lt;task name&gt;</code>è€Œä¸æ˜¯å•çº¯çš„<code>&lt;task name&gt;</code>ã€‚</li>
<li>å¦‚æœè¾“å…¥è®¾ç½®çš„keyçš„è¯ï¼Œä¼šæ˜¾ç¤ºè®¾ç½®çš„å€¼ã€‚</li>
<li>è¦çŸ¥é“ä¸€ä¸ªkeyçš„æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨<code>inspect &lt;keyname&gt;</code>ã€‚æŸäº›ä¿¡æ¯ç°åœ¨çœ‹èµ·æ¥å¯èƒ½ä¸çŸ¥é“å«ä¹‰ï¼Œä½†æœ€é¡¶ä¸Šæœ‰ç±»å‹å’Œç®€è¦æè¿°ã€‚</li>
</ul>
<p>åœ¨<code>build.sbt</code>ä¸­å¯¼å…¥ä¿¡æ¯ï¼š</p>
<ul>
<li>æ¯”å¦‚ï¼š</li>
</ul>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> sbt._<br><span class="hljs-keyword">import</span> Keys._<br></code></pre></td></tr></table></figure>

<ul>
<li>ä¸­é—´ä¸èƒ½æœ‰ç©ºè¡Œã€‚</li>
<li>å¦‚æœæœ‰è‡ªåŠ¨æ’ä»¶ï¼ˆ<a target="_blank" rel="noopener" href="https://www.scala-sbt.org/1.x/api/sbt/AutoPlugin.html"><code>sbt.AutoPlugin</code></a>ï¼Œå¯ä»¥ä»å…¶æ´¾ç”Ÿå®ç°è‡ªå·±çš„æ’ä»¶ï¼‰ï¼Œé‚£ä¹ˆåœ¨å…¶ä¸­çš„<code>autoImport</code>å•ä¾‹å¯¹è±¡ä¸‹çš„åç§°ä¼šè¢«è‡ªåŠ¨å¯¼å…¥ã€‚</li>
</ul>
<p>Bare .sbt build definitionï¼š</p>
<ul>
<li>ä¹Ÿå°±æ˜¯è£¸çš„æ„å»ºå®šä¹‰ï¼Œè®¾ç½®å¯ä»¥è¢«ç›´æ¥å†™åˆ°<code>.sbt</code>è€Œä¸æ˜¯é¡¹ç›®çš„<code>.setting(...)</code>è°ƒç”¨ä¸‹ï¼Œç§°ä¹‹ä¸ºbare styleã€‚</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs go">ThisBuild / version := <span class="hljs-string">&quot;1.0&quot;</span><br>ThisBuild / scalaVersion := <span class="hljs-string">&quot;2.12.14&quot;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>è¿™ç§è¯­æ³•æ¨èç”¨æ¥å†™åœ¨<code>ThisBuild</code>ä½œç”¨åŸŸä¸‹çš„è®¾ç½®å’Œæ·»åŠ æ’ä»¶ã€‚åç»­ä¼šæœ‰ä½œç”¨åŸŸå’Œæ’ä»¶çš„è¯´æ˜ã€‚</li>
</ul>
<p>æ·»åŠ åº“ä¾èµ–ï¼š</p>
<ul>
<li>ä¸ºäº†èƒ½å¤Ÿä¾èµ–ç¬¬ä¸‰æ–¹åº“ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š</li>
<li>ä¸€æ˜¯å°†jaræ–‡ä»¶ç›´æ¥æ”¾åœ¨<code>lib/</code>ï¼ˆæœªç®¡ç†çš„ä¾èµ–ï¼‰ç›®å½•ä¸‹ï¼Œç¬¬äºŒç§æ˜¯æ·»åŠ ç®¡ç†çš„ä¾èµ–ï¼Œé€šè¿‡åœ¨<code>.setting(..)</code>è°ƒç”¨ä¸­å¯¹<code>libraryDependencies</code>keyåš<code>+=</code>æ“ä½œåšåˆ°ã€‚</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs go">val derby = <span class="hljs-string">&quot;org.apache.derby&quot;</span> %% <span class="hljs-string">&quot;derby&quot;</span> % <span class="hljs-string">&quot;10.4.1.3&quot;</span><br><br>ThisBuild / organization := <span class="hljs-string">&quot;com.example&quot;</span><br>ThisBuild / scalaVersion := <span class="hljs-string">&quot;2.12.14&quot;</span><br>ThisBuild / version      := <span class="hljs-string">&quot;0.1.0-SNAPSHOT&quot;</span><br><br>lazy val root = (project in file(<span class="hljs-string">&quot;.&quot;</span>))<br>  .settings(<br>    name := <span class="hljs-string">&quot;Hello&quot;</span>,<br>    libraryDependencies += derby<br>  )<br></code></pre></td></tr></table></figure>

<ul>
<li>åŒ…å«åŒ…çš„ç»„ç»‡ã€åŒ…åã€å’ŒåŒ…çš„ç‰ˆæœ¬ã€‚å¯ä»¥å®šä¹‰å˜é‡æ¥å¤ç”¨ã€‚<code>%</code>è¿ç®—ç¬¦è¢«ç”¨æ¥ä»å­—ç¬¦ä¸²æ„å»ºä¸€ä¸ªæ¨¡å—IDã€‚</li>
</ul>
<h3 id="å¤šé¡¹ç›®æ„å»º"><a href="#å¤šé¡¹ç›®æ„å»º" class="headerlink" title="å¤šé¡¹ç›®æ„å»º"></a>å¤šé¡¹ç›®æ„å»º</h3><p>å¤šä¸ªé¡¹ç›®å®šä¹‰ï¼š</p>
<ul>
<li>åœ¨ä¸€æ¬¡æ„å»ºä¸­ç¼–è¯‘å¤šä¸ªç›¸å…³è”çš„å­é¡¹ç›®æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œç‰¹åˆ«æ˜¯å…¶é—´å­˜åœ¨ä¾èµ–ï¼Œæƒ³æ›´æ”¹ä»–ä»¬æ‰€æœ‰çš„æ—¶å€™ã€‚</li>
<li>æ¯ä¸ªå­é¡¹ç›®éƒ½æœ‰è‡ªå·±çš„ç›®å½•ï¼Œæ„å»ºæ—¶éƒ½ä¼šç”Ÿæˆè‡ªå·±çš„jaræ–‡ä»¶ï¼Œ</li>
<li>é¡¹ç›®ä½¿ç”¨<code>lazy val</code>å®šä¹‰ä¸€ä¸ª<a target="_blank" rel="noopener" href="https://www.scala-sbt.org/1.x/api/sbt/Project.html">sbt.Project</a>æ¥å®ç°ã€‚</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cmake">lazy val util = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;util&quot;</span>))<br><br>lazy val core = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;core&quot;</span>))<br></code></pre></td></tr></table></figure>

<ul>
<li>è¿™ä¸ª<code>val</code>çš„ä¸å˜é‡åç§°è¢«ç”¨åšå­é¡¹ç›®çš„IDï¼ˆä¹Ÿå³æ˜¯é¡¹ç›®åç§°ï¼‰ï¼Œåœ¨sbt shellä¸­ä¹Ÿç”¨æ¥æŒ‡ä»£ä¸€ä¸ªå­é¡¹ç›®ã€‚</li>
<li>åé¢çš„<code>in file()</code>è°ƒç”¨æŒ‡å®šä»–ä»¬çš„base directoryæ˜¯å¯é€‰çš„ï¼Œç›®å½•åå°±æ˜¯ä»–ä»¬çš„åç§°ã€‚</li>
</ul>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs fsharp"><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> util <span class="hljs-operator">=</span> project<br><br><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> core <span class="hljs-operator">=</span> project<br></code></pre></td></tr></table></figure>

<p>å…¬å…±è®¾ç½®ï¼›</p>
<ul>
<li>ä¸ºäº†åˆ†ç¦»å‡ºè·¨å­é¡¹ç›®çš„è®¾ç½®ï¼Œå¯ä»¥å°†å…¶å®šä¹‰åœ¨<code>ThisBuild</code>èŒƒå›´ä¸‹ã€‚<code>ThisBuild</code>è¡¨ç°çš„åƒä¸€ä¸ªæ™®é€šçš„å­é¡¹ç›®åç§°ä¸€æ ·ä½¿ç”¨ï¼Œå…¶ä¸‹ç”¨æ¥å®šä¹‰é»˜è®¤å€¼ã€‚</li>
<li>å¦‚æœå®šä¹‰äº†å¤šä¸ªå­é¡¹ç›®ï¼Œå¹¶ä¸”å­é¡¹ç›®ä¸‹æ²¡æœ‰å®šä¹‰æ¯”å¦‚<code>scalaVersion</code>è¿™ä¸ªkeyï¼Œå°±ä¼šæŸ¥æ‰¾<code>ThisBuild / scalaVersion</code>ã€‚</li>
<li>è¿™æ ·å®šä¹‰çš„é™åˆ¶æ˜¯å³è¾¹çš„å€¼åªèƒ½æ˜¯çº¯ç²¹çš„å€¼æˆ–è€…åœ¨<code>Global</code>&#x2F;<code>ThisBuild</code>ä¸‹çš„è®¾ç½®ã€‚</li>
<li>å­é¡¹ç›®èŒƒå›´ä¸‹æ²¡æœ‰é»˜è®¤å€¼ã€‚</li>
</ul>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs fsharp">ThisBuild <span class="hljs-operator">/</span> organization <span class="hljs-operator">:=</span> <span class="hljs-string">&quot;com.example&quot;</span><br>ThisBuild <span class="hljs-operator">/</span> version      <span class="hljs-operator">:=</span> <span class="hljs-string">&quot;0.1.0-SNAPSHOT&quot;</span><br>ThisBuild <span class="hljs-operator">/</span> scalaVersion <span class="hljs-operator">:=</span> <span class="hljs-string">&quot;2.12.14&quot;</span><br><br><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> core <span class="hljs-operator">=</span> (project <span class="hljs-keyword">in</span> file(<span class="hljs-string">&quot;core&quot;</span>))<br>  .settings(<br>    <span class="hljs-comment">// other settings</span><br>  )<br><br><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> util <span class="hljs-operator">=</span> (project <span class="hljs-keyword">in</span> file(<span class="hljs-string">&quot;util&quot;</span>))<br>  .settings(<br>    <span class="hljs-comment">// other settings</span><br>  )<br></code></pre></td></tr></table></figure>

<ul>
<li>é‡è½½åï¼Œç°åœ¨<code>versoin</code>å’Œå…¶ä»–çš„è®¾ç½®åœ¨æ‰€æœ‰å­é¡¹ç›®ä¸­éƒ½ä¼šç”Ÿæ•ˆã€‚</li>
</ul>
<p>å¦ä¸€ç§å®šä¹‰å…¬å…±è®¾ç½®çš„æ–¹å¼ï¼š</p>
<ul>
<li>å°†é»˜è®¤è®¾ç½®æ”¾åœ¨<code>commonSettings</code>ä¸‹ï¼Œç„¶åæ·»åŠ åˆ°æ‰€æœ‰å­é¡¹ç›®ä¸­<code>.setting()</code>è°ƒç”¨ä¸­ã€‚</li>
</ul>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs fsharp"><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> commonSettings <span class="hljs-operator">=</span> Seq(<br>  target <span class="hljs-operator">:=</span> &#123; baseDirectory.value <span class="hljs-operator">/</span> <span class="hljs-string">&quot;target2&quot;</span> &#125;<br>)<br><br><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> core <span class="hljs-operator">=</span> (project <span class="hljs-keyword">in</span> file(<span class="hljs-string">&quot;core&quot;</span>))<br>  .settings(<br>    commonSettings,<br>    <span class="hljs-comment">// other settings</span><br>  )<br><br><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> util <span class="hljs-operator">=</span> (project <span class="hljs-keyword">in</span> file(<span class="hljs-string">&quot;util&quot;</span>))<br>  .settings(<br>    commonSettings,<br>    <span class="hljs-comment">// other settings</span><br>  )<br></code></pre></td></tr></table></figure>

<p>é¡¹ç›®é—´ä¾èµ–ï¼š</p>
<ul>
<li>é¡¹ç›®é—´å¯ä»¥å®Œå…¨ç‹¬ç«‹ï¼Œä¹Ÿé€šå¸¸å¯èƒ½ä¼šæœ‰æŸç§æ–¹å¼çš„ä¾èµ–ã€‚</li>
<li>æœ‰ä¸¤ç§æ–¹å¼çš„ä¾èµ–ï¼šaggregate and classpathï¼Œç”¨<code>.aggregate .dependsOn</code>å®šä¹‰ã€‚</li>
<li>èšåˆç”¨æ¥å¹¿æ’­å‘½ä»¤ï¼Œç±»è·¯å¾„ä¾èµ–åˆ™æ˜¯æŒ‡é¡¹ç›®ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ã€‚</li>
</ul>
<p>èšåˆï¼ˆAggregationï¼‰ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cmake">lazy val root = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;.&quot;</span>))<br>  .aggregate(util, core)<br><br>lazy val util = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;util&quot;</span>))<br><br>lazy val core = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;core&quot;</span>))<br></code></pre></td></tr></table></figure>

<ul>
<li>è¿™ç§æ–¹å¼åœ¨èšåˆé¡¹ç›®ä¸Šè¿è¡Œä»»åŠ¡æ—¶ä¼šåŒæ ·åœ¨å®ƒèšåˆçš„æ‰€æœ‰å­é¡¹ç›®ä¸Šè¿è¡Œã€‚</li>
<li>æ¯”å¦‚ä¸Šé¢çš„å­é¡¹ç›®å®šä¹‰ï¼Œç¼–è¯‘<code>root</code>æ˜¯ä¼šåŒæ—¶ç¼–è¯‘<code>util core</code>ã€‚</li>
<li>é€šè¿‡åœ¨åšèšåˆçš„é¡¹ç›®ä¸­å®šä¹‰è®¾ç½®å¯ä»¥ä¿®æ”¹è¿™ç§é»˜è®¤è¡Œä¸ºï¼š</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus">lazy val root = (project <span class="hljs-keyword">in</span> <span class="hljs-built_in">file</span>(<span class="hljs-string">&quot;.&quot;</span>))<br>  <span class="hljs-selector-class">.aggregate</span>(util, core)<br>  <span class="hljs-selector-class">.settings</span>(<br>    update / aggregate := false<br>  )<br><br><span class="hljs-selector-attr">[...]</span><br></code></pre></td></tr></table></figure>

<ul>
<li>ä¸Šé¢è®¾ç½®è¡¨ç¤ºåœ¨rooté¡¹ç›®ä¸Šæ‰§è¡Œ<code>update</code>æ˜¯å°±ä¸ä¼šåœ¨è¢«èšåˆçš„å­é¡¹ç›®ä¸Šæ‰§è¡Œã€‚<code>update / aggregate</code>æ˜¯updateä½œç”¨åŸŸä¸‹çš„keyã€‚</li>
</ul>
<p>ç±»è·¯å¾„ä¾èµ–ï¼š</p>
<ul>
<li>ä¸€ä¸ªé¡¹ç›®å¯èƒ½ä¾èµ–å¦ä¸€ä¸ªé¡¹ç›®çš„ä»£ç ï¼Œé€šè¿‡<code>.dependsOn(proj1, proj2, ...)</code>æ–¹æ³•è°ƒç”¨æ¥å®šä¹‰ã€‚ä¾èµ–ä¹‹åå°±ä¼šè¢«æ·»åŠ åˆ°classpthï¼Œä»è€Œèƒ½å¤Ÿå¯¼å…¥ã€‚</li>
</ul>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> core = project.depends<span class="hljs-constructor">On(<span class="hljs-params">util</span>)</span><br></code></pre></td></tr></table></figure>

<ul>
<li>ç°åœ¨åœ¨<code>core</code>ä¸­å°±å¯ä»¥è°ƒç”¨<code>util</code>ä¸­çš„ä»£ç äº†ã€‚è¿™åŒæ ·ä¹Ÿç¡®å®šäº†ä»£ç ç¼–è¯‘é¡ºåºå¿…ç„¶æ˜¯å…ˆ<code>util</code>å<code>core</code>ã€‚</li>
<li><code>core dependsOn(util)</code>æ„å‘³ç€<code>core</code>çš„ç¼–è¯‘é…ç½®ä¾èµ–<code>util</code>ï¼Œä¹Ÿå¯ä»¥æ˜¾å¼é€šè¿‡<code>dependsOn(util % &quot;compile-&gt;compile&quot;)</code>è¿™ç§æ–¹å¼æ¥æŒ‡å®šï¼Œ<code>compile-&gt;compile</code>ä¸­çš„<code>-&gt;</code>æ„å‘³ç€ä¾èµ–ã€‚å› æ­¤å¦‚æœæ˜¯<code>&quot;test-&gt;compile&quot;</code>å°±ä»¥ä¸ºç€<code>core</code>çš„<code>test</code>é…ç½®ä¾èµ–<code>util</code>çš„<code>compile</code>é…ç½®ã€‚å¯ä»¥å¿½ç•¥åé¢çš„<code>-&gt;config</code>éƒ¨åˆ†æ„å‘³ç€å°±æ˜¯<code>-&gt;comile</code>ã€‚</li>
<li>ä¸€ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„å®šä¹‰æ˜¯<code>test-&gt;test</code>æ„å‘³ç€æµ‹è¯•<code>core</code>æ˜¯å…ˆæµ‹è¯•<code>util</code>ã€‚</li>
<li>å¯ä»¥ç”¨åˆ†å¥½åˆ†éš”ï¼š<code>dependsOn(util % &quot;test-&gt;test;compile-&gt;compile&quot;)</code>ã€‚</li>
</ul>
<p>é¡¹ç›®é—´ä¾èµ–ï¼š</p>
<ul>
<li><p>åœ¨å¤§é¡¹ç›®ä¸­ï¼Œä¼šæœ‰è®¸å¤šæ–‡ä»¶ï¼ŒæŒç»­ç›‘è§†æ–‡ä»¶ä¿®æ”¹å¹¶é‡æ–°ç¼–è¯‘å°†ä¼šæ¶ˆè€—å¤§é‡ç£ç›˜å’ŒIOèµ„æºã€‚</p>
</li>
<li><p>sbtä½¿ç”¨</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">trackInternalDependencies</span><br></code></pre></td></tr></table></figure>

<p>å’Œ</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">exportToInternal</span><br></code></pre></td></tr></table></figure>

<p>è®¾ç½®ç”¨æ¥æ§åˆ¶æ‰§è¡Œ</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">compile</span><br></code></pre></td></tr></table></figure>

<p>ä»»åŠ¡æ—¶æ˜¯å¦è§¦å‘ç‹¬ç«‹å­é¡¹ç›®çš„ç¼–è¯‘ã€‚ä¸¤ä¸ªkeyéƒ½æ¥å—ä¸‰ä¸ªè¾“å…¥ï¼š</p>
<ul>
<li><code>TrackLevel.NoTracking</code></li>
<li><code>TrackLevel.TrackIfMissing</code></li>
<li><code>TrackLevel.TrackAlways</code> é»˜è®¤æ˜¯è¿™ä¸€é¡¹ã€‚</li>
<li>å«ä¹‰æ˜¾è€Œæ˜“è§ã€‚</li>
</ul>
</li>
<li><p><code>trackInternalDependencies</code>è®¾ç½®å¦‚æœæ˜¯<code>TrackLevel.TrackIfMissing</code>ï¼Œé‚£ä¹ˆsbtå°†ä¸ä¼šå°è¯•è‡ªåŠ¨ç¼–è¯‘é¡¹ç›®é—´ä¾èµ–ï¼Œé™¤éè¾“å‡ºç›®å½•ä¸­çš„<code>*.class</code>æ–‡ä»¶ç¼ºå¤±äº†ï¼ˆæˆ–è€…<code>exportJars</code>æ—¶jaræ–‡ä»¶ç¼ºå¤±äº†ï¼‰ã€‚</p>
</li>
<li><p>å½“è¢«è®¾ç½®ä¸º<code>TrackLevel.NoTracking</code>ï¼Œé¡¹ç›®å°†ä¾èµ–å°†è¢«è·³è¿‡ã€‚ä½†æ˜¯classpthä»ç„¶ä¼šè¢«æ·»åŠ ï¼Œä¾èµ–å›¾ä¹Ÿä¼šæ˜¾ç¤ºä»–ä»¬è¿˜æ˜¯ä¾èµ–çš„ã€‚è¿™ä¹ˆåšçš„ç›®çš„æ˜¯ä¸ºäº†å‡å°æ£€æŸ¥æ–‡ä»¶ä¿®æ”¹çš„IOè´Ÿæ‹…ã€‚</p>
</li>
<li><p>è®¾ç½®æ–¹æ³•ï¼š</p>
</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cmake">ThisBuild / trackInternalDependencies := TrackLevel.TrackIfMissing<br>ThisBuild / exportJars := <span class="hljs-keyword">true</span><br><br>lazy val root = (<span class="hljs-keyword">project</span> in <span class="hljs-keyword">file</span>(<span class="hljs-string">&quot;.&quot;</span>))<br>  .aggregate(....)<br></code></pre></td></tr></table></figure>

<ul>
<li><code>exportToInternal</code>è®¾ç½®å…è®¸ä¾èµ–äºå½“å‰é¡¹ç›®çš„å­é¡¹ç›®è·³è¿‡å†…éƒ¨è¿½è¸ªã€‚ç”¨åœ¨ä¸€ä¸ªå­é¡¹ç›®ä¸Šï¼Œç”¨åœ¨å½“å‰ä¸å…³å¿ƒçš„ä¾èµ–äºå…¶ä»–é¡¹ç›®çš„å­é¡¹ç›®ï¼Œå½“å…¶ä»–é¡¹ç›®å‘ç”Ÿä¿®æ”¹é‡æ–°ç¼–è¯‘ï¼Œå®ƒä¹Ÿä¸ä¼šé‡æ–°ç¼–è¯‘ã€‚</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus">lazy val dontTrackMe = (project <span class="hljs-keyword">in</span> <span class="hljs-built_in">file</span>(<span class="hljs-string">&quot;dontTrackMe&quot;</span>))<br>  <span class="hljs-selector-class">.settings</span>(<br>    exportToInternal := TrackLevel<span class="hljs-selector-class">.NoTracking</span><br>  )<br></code></pre></td></tr></table></figure>

<ul>
<li><code>trackInternalDependencies</code>å’Œ<code>exportToInternal</code>ï¼Œæ¯”å¦‚å½“å‰ä¿®æ”¹é¡¹ç›®æ—¶Aï¼ŒAä¾èµ–Bï¼ŒCä¾èµ–Aï¼Œé‚£ä¹ˆå‰è€…æ˜¯é’ˆå¯¹Bä¹Ÿå°±æ˜¯å½“å‰é¡¹ç›®ä¾èµ–çš„é‚£äº›å­é¡¹ç›®ï¼Œåè€…é’ˆå¯¹Cä¹Ÿå°±æ˜¯ä¾èµ–å½“å‰é¡¹ç›®çš„å­é¡¹ç›®ã€‚è¿™æ˜¯æˆ‘çš„ç†è§£ï¼Œåº”è¯¥æ˜¯è¿™ä¸ªæ ·å­ï¼</li>
<li>å¦‚æœæ²¡ç†è§£é”™çš„è¯ï¼Œé¡¹ç›®çš„ä¾èµ–å…³ç³»ï¼ˆæŒ‡classpthï¼Œä¼šè°ƒç”¨çš„é‚£ç§ä¾èµ–ï¼‰åº”è¯¥æ˜¯ä¸€æ£µæ ‘ï¼Œè€Œä¸ä¼šæœ‰ç¯å›¾ã€‚</li>
</ul>
<p>é»˜è®¤çš„æ ¹é¡¹ç›®ï¼š</p>
<ul>
<li>å¦‚æœæ²¡æœ‰ä¸ºæœ€é¡¶å±‚ç›®å½•<code>.</code>å®šä¹‰é¡¹ç›®ï¼Œé‚£ä¹ˆsbtä¼šåˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ç„¶ååœ¨æ„å»ºæ—¶èšåˆæ‰€æœ‰å­é¡¹ç›®ã€‚</li>
</ul>
<p>ä¸é¡¹ç›®çš„äº¤äº’ï¼š</p>
<ul>
<li><code>projects</code>åˆ—å‡ºæ‰€æœ‰å­é¡¹ç›®ã€‚</li>
<li><code>proejct</code>åˆ—å‡ºå½“å‰é¡¹ç›®ï¼Œ<code>project &lt;projectname&gt;</code>åˆ‡æ¢é¡¹ç›®ã€‚è¿è¡Œä¸€ä¸ªä»»åŠ¡æ¯”å¦‚<code>compile</code>æ—¶æ˜¯é’ˆå¯¹å½“å‰é¡¹ç›®ã€‚</li>
<li>ä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®šé¡¹ç›®åç§°æ¥åœ¨æŸä¸ªé¡¹ç›®ä¸Šè¿è¡Œä»»åŠ¡ï¼š<code>subProjectID / &lt;taskname&gt;</code>ã€‚</li>
</ul>
<p>å…¬å…±ä»£ç ï¼š</p>
<ul>
<li><code>.sbt</code>æ–‡ä»¶ä¹‹é—´çš„å®šä¹‰æ˜¯ä¸å…±äº«çš„ã€‚</li>
<li>ä¸ºäº†èƒ½å¤Ÿåœ¨ä¸åŒ<code>.sbt</code>ä¹‹é—´å…±äº«ä»£ç ï¼Œéœ€è¦åœ¨æ ¹ç›®å½•çš„<code>project/</code>ä¸‹é¢ï¼ˆå­ç›®å½•ä¸­çš„æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œä¼šè¢«å¿½ç•¥ï¼Œåªæœ‰æ ¹ç›®å½•ä¸­çš„æ‰ä¼šæœ‰æ•ˆï¼‰å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªscalaæ–‡ä»¶ã€‚åç»­ä¼šè¯¦è¿°ã€‚</li>
</ul>
<p>å­é¡¹ç›®ä¸­çš„<code>.sbt</code>æ–‡ä»¶ï¼š</p>
<ul>
<li>æ‰€æœ‰çš„<code>.sbt</code>æ–‡ä»¶éƒ½ä¼šè¢«åˆå¹¶åˆ°ä¸€ä¸ªæ•´ä½“çš„æ„å»ºï¼ˆbuildï¼‰ä¸­æ¥ï¼Œä½†æ˜¯åªåœ¨ä»–ä»¬è‡ªå·±çš„èŒƒå›´å†…èµ·ä½œç”¨ã€‚å®šä¹‰ä¸ä¼šè¢«å…±äº«ã€‚</li>
<li>æ¯”å¦‚é¡¶å±‚<code>hello</code>ç›®å½•ä¸­åˆå§‹åŒ–<code>sbt</code>ï¼Œ<code>.</code>å®šä¹‰æ ¹é¡¹ç›®<code>hello</code>ï¼Œ<code>hello/foo/ hello/bar</code>åˆ†åˆ«å®šä¹‰é¡¹ç›®fooå’Œbarå¹¶ä¸”æœ‰è‡ªå·±çš„<code>build.sbt</code>å¹¶æŠŠé¡¹ç›®å®šä¹‰åœ¨äº†å…¶ä¸­ï¼Œå…¶ä¸­å®šä¹‰äº†è‡ªå·±çš„ä¸åŒç‰ˆæœ¬ã€‚</li>
<li>é‚£ä¹ˆæ‰§è¡Œ<code>show version</code>çš„ç»“æœå°±æ˜¯è¿™æ ·çš„ï¼š</li>
</ul>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs excel">&gt; show version<br>[<span class="hljs-built_in">info</span>] hello-foo/*<span class="hljs-symbol">:ve</span>rsion<br>[<span class="hljs-built_in">info</span>]  <span class="hljs-number">0.7</span><br>[<span class="hljs-built_in">info</span>] hello-bar/*<span class="hljs-symbol">:ve</span>rsion<br>[<span class="hljs-built_in">info</span>]  <span class="hljs-number">0.9</span><br>[<span class="hljs-built_in">info</span>] hello/*<span class="hljs-symbol">:ve</span>rsion<br>[<span class="hljs-built_in">info</span>]  <span class="hljs-number">0.5</span><br></code></pre></td></tr></table></figure>

<ul>
<li>æ‰€æœ‰çš„<code>build.sbt</code>éƒ½æ˜¯æ•´ä¸ªæ„å»ºçš„ä¸€éƒ¨åˆ†ï¼Œä½†éƒ½æœ‰è‡ªå·±çš„ä½œç”¨èŒƒå›´ã€‚</li>
<li>å¯ä»¥åˆ†å¼€å®šä¹‰ï¼Œä¹Ÿå¯ä»¥åˆèµ·æ¥å®šä¹‰<code>build.sbt</code>ï¼Œé¡¹ç›®å¾ˆå¤šæ—¶éƒ½å®šä¹‰åœ¨æ ¹ç›®å½•ä¸­å¯èƒ½å°±å¤ªå¤æ‚äº†ï¼Œå®šä¹‰åœ¨å­ç›®å½•æ‰¾èµ·æ¥å¥½åƒåˆæŒºéº»çƒ¦ã€‚</li>
<li>é£æ ¼é€‰æ‹©ï¼š<ul>
<li>å­é¡¹ç›®çš„è®¾ç½®åœ¨å­é¡¹ç›®çš„<code>.sbt</code>ä¸­å®šä¹‰ï¼Œæ ¹<code>build.sbt</code>ä¸­åªå®šä¹‰æœ€å°çš„é¡¹ç›®å£°æ˜ï¼Œå½¢å¦‚ï¼š<code>lazy val foo = (project in file(&quot;foo&quot;))</code>ä¸ä¿®æ”¹ä»»ä½•è®¾ç½®ã€‚</li>
<li>æ¨èæ˜¯å°†æ‰€æœ‰é¡¹ç›®å®šä¹‰å…¨éƒ½æ”¾åœ¨æ ¹ç›®å½•ä¸­çš„<code>build.sbt</code>ï¼Œä¿æŒé¡¹ç›®å®šä¹‰åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚</li>
<li>éƒ½å¯ä»¥ï¼Œè¿™å®Œå…¨å–å†³äºä½ ã€‚</li>
</ul>
</li>
</ul>
<h3 id="ä»»åŠ¡å›¾"><a href="#ä»»åŠ¡å›¾" class="headerlink" title="ä»»åŠ¡å›¾"></a>ä»»åŠ¡å›¾</h3><p>ä»»åŠ¡å›¾ï¼š</p>
<ul>
<li>é™¤äº†å°†è®¾ç½®è§†ä½œä¸€ä¸ªä¸ªé”®å€¼å¯¹ï¼Œæ›´å¥½çš„æ¯”å–»å…¶å®æ˜¯ä»¥æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ã€‚è¾¹çš„æ–¹å‘è¡¨ç¤º<strong>åœ¨ä¹‹å‰å‘ç”Ÿ</strong>ï¼Œç§°ä¹‹ä¸ºä»»åŠ¡å›¾ï¼ˆTask Graphï¼‰ ã€‚</li>
<li>Setting&#x2F;Task expressionå°±æ˜¯å‰é¢çš„åœ¨<code>.setting(...)</code>ä¸­å®šä¹‰äº†è®¾ç½®æˆ–è€…ä»»åŠ¡çš„è¡¨è¾¾å¼ã€‚</li>
</ul>
<p>ä»»åŠ¡é—´ä¾èµ–ï¼š</p>
<ul>
<li>ä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„<code>.value</code>æ–¹æ³•è°ƒç”¨æ¥è§£é‡Šä»»åŠ¡ä¹‹é—´çš„ä¾èµ–ã€‚</li>
<li>ç›´åˆ°éå¸¸ç†Ÿæ‚‰<code>hello.sbt</code>ä¹‹å‰ï¼Œéƒ½æ¨èå°†<code>.value</code>è°ƒç”¨æ”¾åœ¨taskå®šä¹‰å—ä¸­æœ€ä¸Šæ–¹ã€‚</li>
<li>é™¤äº†ä½¿ç”¨ä¸€ä¸ªä¸å˜é‡èµ‹å€¼çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å†…è”çš„<code>.value</code>è°ƒç”¨ï¼Œæ›´åŠ é—´æ¥ï¼Œä¹Ÿä¸ç”¨å»æƒ³å˜é‡åã€‚</li>
<li><code>.value</code>è°ƒç”¨ä¼šåœ¨è¿›å…¥task bodyä¹‹å‰è¢«æ±‚å€¼ï¼Œè¿™æ˜¯éœ€è¦éå¸¸æ³¨æ„çš„ã€‚</li>
<li>æµ‹è¯•ï¼š</li>
</ul>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs fsharp"><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> hi <span class="hljs-operator">=</span> taskKey[Unit](<span class="hljs-string">&quot;An example task for dependency&quot;</span>)<br><br><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">val</span> hello <span class="hljs-operator">=</span> (project <span class="hljs-keyword">in</span> file(<span class="hljs-string">&quot;.&quot;</span>))<br>  .aggregate(helloCore)<br>  .dependsOn(helloCore)<br>  <span class="hljs-comment">// .enablePlugins(JavaAppPackaging)</span><br>  .settings(<br>    name <span class="hljs-operator">:=</span> <span class="hljs-string">&quot;Hello&quot;</span>,<br>    libraryDependencies <span class="hljs-operator">+=</span> scalaTest <span class="hljs-operator">%</span> Test,<br>    hi <span class="hljs-operator">:=</span> &#123;<br>      <span class="hljs-keyword">val</span> ur <span class="hljs-operator">=</span> update.value <span class="hljs-comment">// streams task happens-before hi</span><br>      <span class="hljs-keyword">if</span> (<span class="hljs-literal">false</span>) &#123;<br>        <span class="hljs-keyword">val</span> x <span class="hljs-operator">=</span> clean.value <span class="hljs-comment">// clean task happens-before hi</span><br>      &#125;<br>    &#125;<br>  )<br></code></pre></td></tr></table></figure>

<ul>
<li>æ­¤æ—¶ä»»åŠ¡<code>hi</code>å°±ä¼šä¾èµ–äºä»»åŠ¡<code>update</code>å’Œ<code>clean</code>ï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªä»»åŠ¡æ˜¯åœ¨è¿›å…¥<code>hi</code>ä»»åŠ¡ä½“å‰æ‰§è¡Œçš„ï¼Œä¸”ä¸ç¡®å®šä¸¤è€…å…ˆåé¡ºåºï¼Œå¯å…ˆå¯åå¯å¹¶è¡Œã€‚</li>
<li>åœ¨ä»»åŠ¡ä½“ä¸­è°ƒç”¨<code>.value</code>ä»…ç”¨æ¥è¡¨æ˜ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</li>
<li>å…ˆç¼–è¯‘é¡¹ç›®ï¼Œæ‰§è¡Œ<code>hi</code>åä¼šå‘ç°<code>target/scala-2.13/clsses/</code>è¢«æ¸…é™¤ï¼Œå°±æ˜¯å› ä¸ºæ‰§è¡Œäº†<code>clean</code>ä»»åŠ¡ã€‚</li>
<li>æŸ¥çœ‹ä»»åŠ¡é—´ä¾èµ–ï¼šåœ¨<code>Dependencies:</code>åå¯ä»¥çœ‹åˆ°ã€‚</li>
</ul>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">inspect hi</span><br></code></pre></td></tr></table></figure>

<ul>
<li>æ‰§è¡Œ<code>inspect tree compile</code>ä¼šçœ‹åˆ°<code>compile</code>å‘½ä»¤çš„ä¾èµ–æ ‘ï¼Œä»€ä¹ˆå«ä¹‰æš‚æ—¶ä¸çŸ¥ã€‚</li>
<li>sbtä¸­çš„æ„å»ºä»»åŠ¡ä¾èµ–æ˜¯è‡ªåŠ¨çš„è€Œä¸æ˜¯æ˜¾å¼å®šä¹‰çš„ï¼Œå¦‚æœé€šè¿‡<code>.value</code>å®šä¹‰äº†ï¼Œé‚£ä¹ˆä¼šé€ æˆä»»åŠ¡é—´ä¾èµ–ã€‚</li>
</ul>
<p>ä»»åŠ¡ä¾èµ–è®¾ç½®ï¼š</p>
<ul>
<li>åœ¨ä»»åŠ¡ä½“å®šä¹‰ä¸­è°ƒç”¨è®¾ç½®çš„<code>.value</code>å°±è¡Œã€‚</li>
<li>ä½†è®¾ç½®æ˜¯ä¸èƒ½ä¾èµ–ä»»åŠ¡çš„ï¼Œå› ä¸ºè®¾ç½®åªåœ¨é‡è½½æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œè€Œä»»åŠ¡ä¸€ç›´éƒ½å¯ä»¥æ‰§è¡Œã€‚</li>
</ul>
<p>è®¾ç½®ä¾èµ–è®¾ç½®ï¼š</p>
<ul>
<li>å¯ä»¥å°†è®¾ç½®çœ‹åšä»…åœ¨è®°åŠ è½½æ˜¯æ‰§è¡Œä¸€æ¬¡çš„ä»»åŠ¡ï¼Œæ‰€ä»¥è®¾ç½®ä¹Ÿå¯ä»¥ä¾èµ–è®¾ç½®ã€‚</li>
<li>åŒæ ·å…¶ä¸­è°ƒç”¨<code>.value</code>å°±å¯ä»¥ä¾èµ–ï¼Œå¹¶ä¸”æ‰§è¡Œæ—¶æ±‚å€¼ï¼š</li>
<li>ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼šå½“Scalaç‰ˆæœ¬æ˜¯2.11æ—¶è®²å°†<code>Compile / scalaSource</code>å®šä¹‰åˆ°ä¸€ä¸ªä¸åŒçš„ç›®å½•ã€‚</li>
</ul>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs coq">Compile / scalaSource := &#123;<br>  val old = (Compile / scalaSource).value<br>  scalaBinaryVersion.value <span class="hljs-keyword">match</span> &#123;<br>    <span class="hljs-built_in">case</span> <span class="hljs-string">&quot;2.11&quot;</span> =&gt; baseDirectory.value / <span class="hljs-string">&quot;src-2.11&quot;</span> / <span class="hljs-string">&quot;main&quot;</span> / <span class="hljs-string">&quot;scala&quot;</span><br>    <span class="hljs-built_in">case</span> <span class="hljs-keyword">_</span>      =&gt; old<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å†çœ‹<code>build.sbt</code>DSLï¼š</p>
<ul>
<li>æ„å»ºäº†ä¸€ä¸ªè®¾ç½®å’Œä»»åŠ¡çš„æœ‰å‘æ— ç¯å›¾ã€‚</li>
<li>è®¾ç½®è¡¨è¾¾å¼ç¼–ç äº†è®¾ç½®ã€ä»»åŠ¡ä»¥åŠä»–ä»¬ä¹‹é—´çš„ä¾èµ–ã€‚</li>
<li>è¿™ç§ç»“æ„åœ¨Make&#x2F;Ant&#x2F;Rakeç­‰æ„å»ºå·¥å…·ä¸­å¾ˆå¸¸è§ã€‚</li>
<li>åŸºäºæµçš„ç¼–ç¨‹ï¼Œå‡å°‘äº†é‡å¤è¿‡ç¨‹ï¼Œå¥½å¤„ï¼š</li>
<li>ä¸€ä¸ªä»»åŠ¡ä»…ä»…åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå³ä½¿å®ƒè¢«å¤šä¸ªä»»åŠ¡æ‰€ä¾èµ–æ¯”å¦‚<code>Compile / compile</code>ã€‚</li>
<li>åŸºäºä»»åŠ¡å›¾ï¼Œä»»åŠ¡å¼•æ“ä¼šå®‰æ’ä¸ç›¸å…³çš„ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œã€‚</li>
<li>å…³æ³¨ç‚¹åˆ†ç¦»å’Œçµæ´»æ€§ï¼Œä»»åŠ¡å›¾è®©ç”¨æˆ·å¯ä»¥å°†ä»»åŠ¡ä»¥ä¸åŒçš„æ–¹å¼è¿æ¥åˆ°ä¸€èµ·ï¼Œsbtå’Œå„ç§æ’ä»¶å¯ä»¥æä¾›å„ç§å„æ ·çš„ç‰¹æ€§æ¯”å¦‚åº“ä¾èµ–ç®¡ç†ç­‰ã€‚</li>
</ul>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>æ ¸å¿ƒå°±æ˜¯ä»»åŠ¡å›¾ï¼Œä»»åŠ¡ä¹‹é—´çš„å…³ç³»æ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ã€‚</li>
<li><code>hello.sbt</code>æ˜¯ä¸€ä¸ªè®¾è®¡æ¥é¢å‘ä¾èµ–ç¼–ç¨‹ï¼ˆdependency-oriented programmingï¼‰çš„DSLï¼Œæˆ–è€…å«åŸºäºæµï¼ˆflowï¼‰çš„ç¼–ç¨‹ã€‚å°±åƒMakefileã€‚è¯­æ³•å°±åƒScalaï¼Œä½†å¹¶ä¸ç­‰åŒäºScalaï¼Œè¯­ä¹‰ä¸Šæ˜¯æœ‰åŒºåˆ«çš„ã€‚</li>
<li>åŸºäºæµçš„ç¼–ç¨‹çš„æ ¸å¿ƒæ˜¯ï¼šå‡å°‘é‡å¤è¿‡ç¨‹ã€å¹¶è¡Œå¤„ç†å’Œå®šåˆ¶åŒ–ã€‚</li>
</ul>
<h3 id="æ›´å¤šå†…å®¹"><a href="#æ›´å¤šå†…å®¹" class="headerlink" title="æ›´å¤šå†…å®¹"></a>æ›´å¤šå†…å®¹</h3><p>æ›´å¤šå†…å®¹å°±ä¸ç¿»è¯‘äº†ï¼Œå®˜ç½‘ä¸Šç¬¬ä¸€ç« ä¹Ÿæœ‰ä¸­æ–‡ç¿»è¯‘ã€‚éœ€è¦æ—¶å†å»é˜…è¯»ï¼Œç°é˜¶æ®µæ„Ÿè§‰éƒ½ç”¨ä¸åˆ°ï¼ŒçœŸå†™é¡¹ç›®äº†å†çœ‹ä¸è¿Ÿã€‚</p>
<h2 id="å¹¶å‘ç¼–ç¨‹"><a href="#å¹¶å‘ç¼–ç¨‹" class="headerlink" title="å¹¶å‘ç¼–ç¨‹"></a>å¹¶å‘ç¼–ç¨‹</h2><p>TODO</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ€»ç»“ï¼š</p>
<ul>
<li>çœ‹èµ·æ¥æ˜¯ä¸€é—¨é™æ€ç±»å‹è¯­è¨€ï¼Œæä¾›äº†å¾ˆå…¶å¼ºå¤§çš„ç±»å‹æ¨å¯¼ï¼Œå¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šå®ç°éšå¼é™æ€ç±»å‹ï¼Œä½†å†™èµ·æ¥å¦‚æœé«˜åº¦ä¾èµ–ç±»å‹æ¨å¯¼çš„è¯ä¼šå’ŒåŠ¨æ€ç±»å‹ä¸€æ ·ç®€æ´ï¼Œä»…éœ€æä¾›å°‘é‡å¿…é¡»çš„ç±»å‹ï¼Œåªæ˜¯æœ‰ç‚¹ç‰ºç‰²å¯è¯»æ€§ã€‚</li>
<li>å‡½æ•°å¼ç¼–ç¨‹å¾ˆæœ‰è¶£ã€‚</li>
<li>è¯­æ³•ç³–å¤ªå¤ªå¤ªå¤šäº†ï¼Œè™½ç„¶çœ‹èµ·æ¥æ›´ç®€æ´äº†ï¼Œä½†æ˜¯è¯»èµ·æ¥ä¸ä¸€å®šæ›´ç®€å•ï¼Œå­¦èµ·æ¥å¿ƒæ™ºè´Ÿæ‹…ä¹Ÿæ›´å¤§ã€‚</li>
<li>è¿ç®—ç¬¦éå¸¸çµæ´»ï¼Œç›®å‰é‡åˆ°è¿‡çš„è¿ç®—ç¬¦æœ€çµæ´»çš„è¯­è¨€ã€‚</li>
<li>å¹¶å‘ç¼–ç¨‹è¿˜æ²¡æœ‰å­¦ï¼ŒTODOã€‚</li>
<li>Scalaè¯­æ³•ç¡®å®æœ‰ç‚¹å¤ªå¼ºå¤§äº†ï¼Œå½“ç„¶è½¯ä»¶å·¥ç¨‹çš„ä¸œè¥¿éƒ½æ˜¯tradeoffï¼Œå†™èµ·æ¥çˆ½ç”¨èµ·æ¥å¤æ‚å­¦èµ·æ¥éš¾ã€‚</li>
</ul>
<p>Scalaæ˜¯æˆ‘ç›®å‰å­¦è¿‡çš„æœ€èˆ’æœçš„è¯­è¨€ï¼Œå¾ˆå¤šç‰¹ç‚¹ç®€ç›´å¤ªæ£’äº†ï¼Œå¦‚æœæ­¤ç”Ÿåªèƒ½é€‰ä¸€é—¨è¯­è¨€çš„è¯ï¼Œé‚£æˆ‘å¯èƒ½çœŸä¼šé€‰è¿™é—¨åˆšå­¦äº†å‡ å¤©çš„è¯­è¨€ã€‚å¸å¼•æˆ‘çš„ç‚¹ï¼š</p>
<ul>
<li>å‡½æ•°å¼ç¼–ç¨‹ï¼Œå’Œé›†åˆçš„æ˜ å°„æ¨å¯¼ç»“åˆèµ·æ¥å¾ˆæœ‰ç”¨ã€‚</li>
<li>ç±»å‹æ¨å¯¼ï¼ŒåƒåŠ¨æ€è¯­è¨€ç”¨èµ·æ¥çš„æ„Ÿè§‰ï¼Œä½†ä¹Ÿæœ‰ç¼–è¯‘æœŸç±»å‹æ£€æŸ¥ï¼Œå†åŠ ä¸Šéšå¼ç±»å‹è½¬æ¢ï¼ŒçœŸæˆ‘å…¨éƒ½è¦ã€‚</li>
<li>å„ç§èƒ½ç®€åˆ™ç®€çš„è¯­æ³•ç³–ï¼Œåˆçœ‹å¯èƒ½å¾ˆè¯§å¼‚ï¼Œä¹ æƒ¯ä¹‹ååªèƒ½è¯´å»**çš„javaï¼Œç®€æ´è€Œä¸ç®€å•ã€‚</li>
<li>è¿ç®—ç¬¦é‡è½½ï¼Œå®¹æ˜“è¢«æ»¥ç”¨ï¼Œä½†ç”¨å¾—å¥½ä¼šä½¿ä»£ç è¿›ä¸€æ­¥ç®€åŒ–ï¼Œå½“ç„¶å„å¼å„æ ·çš„è¿ç®—ç¬¦ä¼šè¿›ä¸€æ­¥å¢åŠ è¯»ä»£ç çš„éš¾åº¦ã€‚</li>
<li>æ›´åŠ çº¯ç²¹çš„é¢å‘å¯¹è±¡ï¼Œä¸‡ç‰©çš†æ˜¯å¯¹è±¡ã€‚</li>
</ul>
</div>
				<link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css">
				<script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script>
				<script>
				var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);
				var isEncrypt = document.getElementById('hexo-blog-encrypt');
				var allowMobile = false;
				if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {
					try {
						var plugin = new ReadmorePlugin();
						plugin.init({
							"type": "hexo",
							"id": "readmore-container",
							"name": "YutingNotFound",
							"blogId": "04372-4551209630277-002",
							"qrcode": "https://raw.githubusercontent.com/YUTING0907/PicGo/main/imgYUTING__PHOTO_.jpg",
							"keyword": "éªŒè¯ç ",
							"random": "1",
							"height": "auto",
							"expires": "36500",
							"lockToc": "yes",
							"interval": "60",
							"baseUrl": "",
							"tocSelector": ""
						});
					} catch(e) {
						console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);
					}
				}
				</script>
			
              
            </div>
            <hr/>
            
            <!-- donate -->
            <div class="reward-container">
            	
            		<button id="rewardBtn" class="reward-btn">
            			 
            				 Donate
            				
            		</button>
            		<p class="tea">è§‰å¾—ä¸é”™çš„è¯ï¼Œç»™ç‚¹æ‰“èµå§ à­§(à¹‘â€¢Ì€âŒ„â€¢Ìà¹‘)à«­</p>
            		<div id="rewardImgContainer" class="reward-img-container">
                     	<div class="singleImgContainer">
                        	<img id="wechatImg" class="reward-img" src="/img/wechatpay.jpg" srcset="/img/loading.gif" lazyload alt="">
                            <p class="wechatPay">wechat pay</p>
                      </div>
                      <div class="singleImgContainer">
                           	<img id="alipayImg" class="reward-img" src="/img/alipay.jpg" srcset="/img/loading.gif" lazyload alt="">
                            <p class="aliPay">alipay</p>
                      </div>
            		</div>
            	
            </div>
            
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Scala/">#Scala</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Scalaè¯­è¨€å…¥é—¨</div>
      <div>http://yuting0907.github.io/2022/05/29/Scalaè¯­è¨€å…¥é—¨/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>Echo Yu</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2022å¹´5æœˆ29æ—¥</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>è®¸å¯åè®®</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/05/29/%E4%B9%A6%E5%8D%95/" title="ä¹¦å•">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">ä¹¦å•</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/05/28/%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%8F%B0-%E7%BB%93%E6%9D%9F%E8%AF%AD_%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%8F%B0%E4%BB%8E%E5%93%AA%E9%87%8C%E6%9D%A5%EF%BC%8C%E8%A6%81%E5%88%B0%E5%93%AA%E9%87%8C%E5%8E%BB%EF%BC%9F/" title="æ•°æ®ä¸­å°-ç»“æŸè¯­_æ•°æ®ä¸­å°ä»å“ªé‡Œæ¥ï¼Œè¦åˆ°å“ªé‡Œå»ï¼Ÿ">
                        <span class="hidden-mobile">æ•°æ®ä¸­å°-ç»“æŸè¯­_æ•°æ®ä¸­å°ä»å“ªé‡Œæ¥ï¼Œè¦åˆ°å“ªé‡Œå»ï¼Ÿ</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    

  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  








    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        æ€»è®¿é—®é‡ 
        <span id="busuanzi_value_site_pv"></span>
         æ¬¡
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        æ€»è®¿å®¢æ•° 
        <span id="busuanzi_value_site_uv"></span>
         äºº
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>






  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        MathJax = {
          tex    : {
            inlineMath: { '[+]': [['$', '$']] }
          },
          loader : {
            load: ['ui/lazy']
          },
          options: {
            renderActions: {
              findScript    : [10, doc => {
                document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                  const display = !!node.type.match(/; *mode=display/);
                  const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                  const text = document.createTextNode('');
                  node.parentNode.replaceChild(text, node);
                  math.start = { node: text, delim: '', n: 0 };
                  math.end = { node: text, delim: '', n: 0 };
                  doc.math.push(math);
                });
              }, '', false],
              insertedScript: [200, () => {
                document.querySelectorAll('mjx-container').forEach(node => {
                  let target = node.parentNode;
                  if (target.nodeName.toLowerCase() === 'li') {
                    target.parentNode.classList.add('has-jax');
                  }
                });
              }, '', false]
            }
          }
        };
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.0/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  
<script src="/js/reward.js"></script>



<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>

<!--  -->
<script type="text/javascript" src="/js/love.js"></script>

<!--åŠ¨æ€çº¿æ¡èƒŒæ™¯-->
<script type="text/javascript"
color="220,220,220" opacity='0.7' zIndex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
</script>  

<!--æµè§ˆå™¨æç¬‘æ ‡é¢˜-->
<script type="text/javascript" src="/js/FunnyTitle.js"></script>
